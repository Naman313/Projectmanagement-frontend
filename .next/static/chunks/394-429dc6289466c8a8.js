"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{1394:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(5155),l=a(2115),r=a(4416);let c=(0,a(9946).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var i=a(4616),d=a(7324),n=a(7710),o=a(3464),x=a(6938),p=a(5799),m=a(7965);let h={src:"/_next/static/media/Edit Button modal.3fad9e08.png",height:38,width:38,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEWlodv////Mye9MaXFya8VWTbnFwufGw+hRSrlmX8uTjtNmYMGAe8z2GARoAAAAC3RSTlP0LbAA/Pm2tP///rGo0G0AAAAJcEhZcwAACxMAAAsTAQCanBgAAAA2SURBVHicRco5AsBACAOxAfbAZv//3pRRLSoO3CgCdYsgtcdLCT3PbqC93jSk7NnKP1dcOFEfL1gBURAJZ0wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var u=a(6766),j=a(9480);let b=e=>{let{onClose:t,onProjectCreated:a}=e,[b,g]=(0,l.useState)(""),[v,A]=(0,l.useState)(""),[N,f]=(0,l.useState)(""),[y,w]=(0,l.useState)(""),[B,C]=(0,l.useState)([]),[D,k]=(0,l.useState)([]),[S,M]=(0,l.useState)(!1),[P,R]=(0,l.useState)(!1),_=async()=>{if(!b||!v||!N||!y||0===B.length){p.oR.error("Please fill all required fields and add at least one team member.");return}let e={name:b,category:v,description:N,collaboration:y,members:B.map(e=>({id:e._id,name:e.fullName,role:e.role})),milestones:D.map(e=>{var t;return{title:e.description,assignedTo:(null===(t=B.find(t=>t.fullName===e.assignedTo))||void 0===t?void 0:t._id)||null,dueDate:e.dueDate}}),private:!1};try{let s=await o.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/create"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});201==s.status&&(a(),t())}catch(e){console.error("Failed to create project:",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{}),(0,s.jsxs)("div",{className:"fixed overflow-y-auto no-scrollbar inset-0 flex items-center justify-center bg-black/25 z-50",children:[(0,s.jsxs)("div",{className:"bg-white translate-x-[6px] rounded-xl w-[1125px] h-[625px] mt-[450px] mb-[200px] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center px-[22px] py-6",children:[(0,s.jsx)("h2",{className:"text-[19px] text-[#333333] font-medium",children:"Create New Project"}),(0,s.jsx)("button",{onClick:t,children:(0,s.jsx)(r.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,s.jsx)("div",{className:"px-6 -mt-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4 col-span-1",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mt-[5px]",children:[(0,s.jsxs)("div",{className:"relative mb-1",children:[(0,s.jsx)("div",{className:"w-[75px] h-[75px] bg-[#e6e6e6] rounded-full flex items-center justify-center border border-gray-200",children:(0,s.jsx)(c,{className:"w-[26px] h-8 text-[#B3B3B3]",strokeWidth:1})}),(0,s.jsx)("button",{className:"absolute bottom-0 right-0 w-7 h-7 bg-[#565DBD] rounded-full flex items-center justify-center",children:(0,s.jsx)(u.default,{src:h,alt:"pencil",width:36,height:36})})]}),(0,s.jsx)("span",{className:"text-[13.5px] text-[#333333] mt-3",children:"Project Image"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-[#333333] text-[14px] pt-[4px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1",children:"Project Name"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter project name",className:"w-full h-[37px] px-2 rounded border-[1.5px]  border-gray-200 text-[14px] placeholder-[#B3B3B3]",value:b,onChange:e=>g(e.target.value)})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("label",{className:"block mb-1",children:"Project Category"}),(0,s.jsxs)("select",{className:"w-full h-[37px] px-2 rounded border-[1.5px] border-gray-200   placeholder-[#B3B3B3] text-[14px] text-[#B3B3B3]",value:v,onChange:e=>A(e.target.value),children:[(0,s.jsx)("option",{value:"",disabled:!0,hidden:!0,className:"text-[#B3b3b3]",children:"Select Project Category"}),(0,s.jsx)("option",{value:"Product",children:"Product Development"}),(0,s.jsx)("option",{value:"Customer",children:"Customer Relation Manager (CRM)"}),(0,s.jsx)("option",{value:"Enterprise",children:"Enterprise Resource Planning (ERP)"}),(0,s.jsx)("option",{value:"AI",children:"Artificial Intelligence (AI)"}),(0,s.jsx)("option",{value:"DevOps",children:"DevOps"}),(0,s.jsx)("option",{value:"Web Development",children:"Web Development"}),(0,s.jsx)("option",{value:"Mobile Development",children:"Mobile Development"}),(0,s.jsx)("option",{value:"Cybersecurity",children:"Cybersecurity"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[13.5px] mb-1 mt-[22px]",children:"Team Members"}),(0,s.jsx)("div",{className:"border border-gray-200 rounded p-2 overflow-y-auto h-[180px]",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-6",children:B.map(e=>(0,s.jsxs)("div",{className:"flex items-center bg-[#FAFAFA] text-[#333333] gap-1.5  p-1 hover:bg-gray-200 hover:rounded-sm",children:[(0,s.jsx)(u.default,{src:m.A,alt:"Avatar",className:"rounded-full",width:36,height:36}),(0,s.jsxs)("div",{className:"text-[12px] text-[#333333]",children:[(0,s.jsx)("p",{className:"",children:e.fullName}),(0,s.jsx)("p",{className:"text-[10px] leading-tight",children:e.role})]}),(0,s.jsx)("div",{className:"relative group",children:(0,s.jsx)("button",{onClick:()=>C(t=>t.filter(t=>t._id!==e._id)),className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:text-white hover:bg-[#FF4c51] -translate-y-2 p-1 mt-1 rounded",children:(0,s.jsx)(r.A,{className:"w-4 h-4"})})})]},e._id))})}),(0,s.jsx)("div",{className:"flex justify-center pt-2",children:(0,s.jsxs)("button",{type:"button",className:"px-[25px] py-[10px] rounded-lg bg-[#5D56BD] text-white    hover:bg-[#4A44A7] text-[11.5px] flex items-center gap-2 font-normal",onClick:()=>M(!0),children:[(0,s.jsx)(u.default,{src:j.A,alt:"add member",className:"w-[33px] h-[33px]"}),"Add Member"]})})]})]}),(0,s.jsxs)("div",{className:"space-y-4 col-span-1 mt-[10px] ml-[12px] text-[#333333]",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("label",{className:"block text-[13.5px] mb-1",children:"About Project"}),(0,s.jsx)("textarea",{placeholder:"Describe...",rows:3,className:"w-full px-[14px] py-1.5 rounded placeholder-[#B3B3B3] border border-gray-200 text-sm resize-none h-[110px]",value:N,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[13.5px] mb-1",children:"How we collaborate?"}),(0,s.jsx)("textarea",{placeholder:"Describe...",rows:3,className:"w-full px-[14px] h-[110px] py-1.5 rounded placeholder-[#B3B3B3] border border-gray-200 text-sm resize-none",value:y,onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("label",{className:"flex text-[13.5px] mb-1 text-[#333333]",children:["Milestones",(0,s.jsx)("div",{className:"text-[#808080] ",children:"(Optional)"})]}),(0,s.jsx)("div",{className:"border border-gray-200 rounded p-2 h-20 overflow-y-auto",children:D.map(e=>(0,s.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-xs",children:[(0,s.jsx)("p",{className:"text-gray-900 leading-tight",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(u.default,{src:m.A,alt:"avtar",className:"w-4 h-4 rounded-full"}),(0,s.jsx)("span",{className:"text-gray-600",children:e.assignedTo})]}),(0,s.jsxs)("span",{className:"text-[#B3B3B3] ml-auto translate-x-[8px]",children:["Due date: ",(0,s.jsx)("span",{className:"text-[#4D4D4D]",children:new Date(e.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})]})]},e._id))}),(0,s.jsx)("div",{className:"flex justify-center pt-2",children:(0,s.jsxs)("button",{type:"button",className:"px-6 py-3 rounded-lg bg-[#5D56BD] text-white hover:bg-[#4A44A7]    text-[11.5px] flex items-center gap-2",onClick:()=>R(!0),children:[(0,s.jsx)(i.A,{className:"w-4 h-4"})," Add Milestone"]})})]})]})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 px-6 py-4",children:[(0,s.jsx)("button",{className:"px-6 py-[10px] bg-[#5D56BD] text-[13.5px] text-white rounded-lg ",onClick:_,children:"Create Project"}),(0,s.jsx)("button",{onClick:t,className:"px-8 py-[10px] bg-[#999999] text-[13.5px] text-white rounded-lg  ",children:"Cancel"})]})]}),S&&(0,s.jsx)(d.A,{mutate:()=>{},fromOverview:!1,onClose:()=>M(!1),onAddMember:e=>{C(t=>{let a=t.findIndex(t=>t._id===e._id);if(-1!==a){"Select Role"===e.role&&p.oR.error("Please select a valid role");let s=[...t];return s[a]={...s[a],role:e.role},s}return[...t,e]})},teamMembers:B}),P&&(0,s.jsx)(n.A,{handleMileStoneFetch:()=>{},onClose:()=>R(!1),teamMembers:B,setmileStone:k,fromOverview:!1})]})]})}}}]);
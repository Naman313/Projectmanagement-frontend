(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{492:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]])},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2948:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3252:(e,t,s)=>{Promise.resolve().then(s.bind(s,7506))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6654:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let a=s(2115);function r(e,t){let s=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=s.current;e&&(s.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(s.current=n(e,a)),t&&(r.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),r=s(2115);let n=e=>{let{onChatStart:t}=e,s=e=>{t({id:e.id,name:e.name.split("+")[0],status:e.status,messages:e.messages,avatar:e.image,initials:e.initials})};return(0,a.jsxs)("div",{className:"p-6 min-h-[50vh] bg-white ml-4 mr-4 rounded-xl",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Chats"}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:"1",name:"Ronald Richards",message:"when can we expect to finish this work",time:"13:00",image:"/api/placeholder/40/40",status:"online",messages:[{id:"1",sender:"Ronald Richards",timestamp:"09:30",content:"when can we expect to finish this work",date:"2024-01-21"}]},{id:"2",name:"Devon Lane+2",message:"@Ronald please review the design",time:"13:00",initials:"DL",mentions:["Ronald"],status:"offline",messages:[{id:"2",sender:"Devon Lane",timestamp:"13:00",content:"@Ronald please review the design",date:"2024-01-21"}]},{id:"3",name:"Project Atlas",message:"when can we expect to finish this work",time:"11:00",initials:"PA",status:"offline",messages:[{id:"3",sender:"Project Atlas",timestamp:"11:00",content:"Team meeting at 3 PM",date:"2024-01-21"}]},{id:"4",name:"Designing team",message:"when can we expect to finish this work",time:"11:00",initials:"DT",status:"online",messages:[{id:"4",sender:"Designing team",timestamp:"11:00",content:"New design files are ready for review",date:"2024-01-21"}]}].map(e=>{var t;return(0,a.jsxs)("div",{onClick:()=>s(e),className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"relative",children:[e.image?(0,a.jsx)("img",{src:e.image,alt:"",className:"w-10 h-10 rounded-full"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white\n                  ".concat(e.name.includes("Devon")?"bg-[#B4888B]":"","\n                  ").concat(e.name.includes("Project")?"bg-[#E5A097]":"","\n                  ").concat(e.name.includes("Designing")?"bg-[#7DC1D4]":""),children:e.initials}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white\n                ".concat("online"===e.status?"bg-green-500":"bg-gray-400")})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-medium truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm truncate",children:[null===(t=e.mentions)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("span",{className:"text-[#5D56BD]",children:["@",e," "]},e)),e.message]})]}),(0,a.jsx)("span",{className:"text-gray-500 text-sm whitespace-nowrap",children:e.time})]},e.id)})})]})};function i(e){let{onChatStart:t}=e,[s,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),d={"Esther Howard":[{id:"1",sender:"Esther Howard",timestamp:"09:30",content:"Hello! How can I help you today?",date:"2024-01-21"}],"Robert Fox":[{id:"2",sender:"Robert Fox",timestamp:"10:15",content:"Hi there! Are you available for a quick chat?",date:"2024-01-21"}]};(0,r.useEffect)(()=>{let e=e=>{o&&!e.target.closest(".search-container")&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]);let u=[{id:"1",name:"Esther Howard",avatar:"/api/placeholder/32/32",status:"online"},{id:"2",name:"Robert Fox",avatar:"/api/placeholder/32/32",status:"offline"},{id:"3",name:"Eleanor Pena",avatar:"/api/placeholder/32/32",status:"online"},{id:"4",name:"Kathryn Murphy",avatar:"/api/placeholder/32/32",status:"offline"},{id:"5",name:"Devon Lane",avatar:"/api/placeholder/32/32",status:"online"},{id:"6",name:"Ronald Richards",avatar:"/api/placeholder/32/32",status:"online"}].filter(e=>e.name.toLowerCase().includes(s.toLowerCase())),m=e=>{l(e),n(""),c(!1)};return(0,a.jsxs)("div",{className:"px-6 py-8 bg-white ml-4 mr-4 rounded-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium text-gray-900 mb-12",children:"Pings"}),(0,a.jsxs)("div",{className:"flex items-center search-container",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl mb-6 flex items-center gap-2 px-4 py-2",children:[i&&(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white h-[45px] rounded-lg px-4 py-1",children:[(0,a.jsx)("img",{src:i.avatar,alt:i.name,className:"w-6 h-6 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-700 text-sm",children:i.name}),(0,a.jsx)("button",{onClick:()=>l(null),className:"text-gray-500 hover:text-gray-700 text-xs",children:"âœ•"})]}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>{n(e.target.value),c(!0)},placeholder:"Start a private chat with",className:"flex-1 bg-transparent focus:outline-none text-gray-800 placeholder-gray-500 h-[45px] px-4"})]}),s&&o&&!i&&(0,a.jsxs)("div",{className:"absolute w-full bg-white rounded-2xl shadow-lg mt-2 max-h-64 overflow-y-auto z-10",children:[u.map(e=>(0,a.jsxs)("div",{onClick:()=>m(e),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-2 h-2 rounded-full border-2 border-white \n                        ".concat("online"===e.status?"bg-green-500":"bg-gray-400")})]}),(0,a.jsx)("span",{className:"text-gray-900",children:e.name})]},e.id)),0===u.length&&(0,a.jsx)("div",{className:"px-4 py-3 text-gray-500",children:"No users found"})]})]}),(0,a.jsx)("button",{onClick:()=>{i&&t({id:i.id,name:i.name,status:i.status||"offline",messages:d[i.name]||[],avatar:i.avatar})},className:"bg-gray-900 text-white px-16 py-4 mb-6 rounded-lg font-medium transition-colors",children:"ping"})]})]})}var l=s(6874),o=s.n(l),c=s(2355),d=s(492),u=s(9946);let m=(0,u.A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),h=(0,u.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),p=(0,u.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var x=s(8637),g=s.n(x),f=s(5695);let v=e=>{let{messages:t,breadcrumbs:s,showBackButton:n,userName:i,userStatus:l,onSendMessage:u,onBack:x}=e,[g,v]=(0,r.useState)(""),y=(0,r.useRef)(null),b=(0,f.useRouter)(),j=()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{j()},[t]);let w=e=>{e.preventDefault(),g.trim()&&(u(g.trim()),v(""))};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-white m-6 rounded-lg shadow-lg",children:[(0,a.jsx)("div",{className:"p-4 bg-gray-50 border-b",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:s.map((e,t)=>(0,a.jsxs)(r.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:"/"}),e.href?(0,a.jsx)(o(),{href:e.href,className:"hover:text-gray-700 transition-colors",children:e.label}):(0,a.jsx)("span",{children:e.label})]},e.label))}),n&&(0,a.jsxs)("button",{onClick:x,className:"inline-flex items-center px-4 py-2 mt-2 text-sm text-white bg-[#5D56BD] rounded-md hover:bg-[#4A4494] transition-colors w-fit",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-1"}),"Go back"]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border-b",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:"/api/placeholder/40/40",alt:"Profile",className:"w-10 h-10 rounded-full"}),(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white\n            ".concat("online"===l?"bg-green-500":"bg-gray-400")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:i}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"online"===l?"Online":"Offline"})})]}),"online"===l&&(0,a.jsx)("div",{className:"flex gap-2"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(e=>(0,a.jsxs)("div",{className:"flex flex-col ".concat("Esther Howard"===e.sender?"items-end":"items-start"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium",children:e.sender}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.timestamp})]}),(0,a.jsx)("div",{className:"max-w-[70%] p-3 rounded-lg ".concat("Esther Howard"===e.sender?"bg-[#5D56BD] text-white":"bg-gray-900 text-white"),children:e.content})]},e.id)),(0,a.jsx)("div",{ref:y})]}),(0,a.jsx)("form",{onSubmit:w,className:"p-4 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Type your message...",className:"flex-1 p-4 bg-gray-50 rounded-full border-0 focus:ring-2 focus:ring-[#5D56BD] placeholder-gray-400",value:g,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w(e))}}),(0,a.jsxs)("div",{className:"flex gap-2",children:[!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",className:"p-3 rounded-full hover:bg-gray-100 text-[#5D56BD] transition-colors",children:(0,a.jsx)(d.A,{className:"w-6 h-6"})}),(0,a.jsx)("button",{onClick:()=>{b.push("/video-call")},className:"p-3 rounded-full hover:bg-gray-100 text-[#5D56BD] transition-colors",children:(0,a.jsx)(m,{className:"w-6 h-6"})}),(0,a.jsx)("button",{onClick:()=>{b.push("/voice-call")},className:"p-3 rounded-full hover:bg-gray-100 text-[#5D56BD] transition-colors",children:(0,a.jsx)(h,{className:"w-6 h-6"})})]}),g&&(0,a.jsx)("button",{type:"submit",className:"p-3 rounded-full hover:bg-gray-100 text-[#5D56BD] transition-colors",children:(0,a.jsx)(p,{className:"w-6 h-6"})})]})]})})]})};v.propTypes={messages:g().arrayOf(g().shape({id:g().string.isRequired,sender:g().string.isRequired,timestamp:g().string.isRequired,content:g().string.isRequired,type:g().oneOf(["text","file","video","audio"])})).isRequired,breadcrumbs:g().arrayOf(g().shape({label:g().string.isRequired,href:g().string})).isRequired,showBackButton:g().bool.isRequired,userName:g().string.isRequired,userStatus:g().oneOf(["online","offline"]).isRequired,onSendMessage:g().func.isRequired,onBack:g().func.isRequired};let y=(e,t)=>{switch(t.type){case"START_CHAT":return{activeChat:!0,currentUser:t.payload,messages:t.payload.messages};case"END_CHAT":return{activeChat:!1,currentUser:null,messages:[]};case"ADD_MESSAGE":return{...e,messages:[...e.messages,t.payload]};default:return e}};function b(){let[e,t]=(0,r.useReducer)(y,{activeChat:!1,currentUser:null,messages:[]}),s=e=>{t({type:"START_CHAT",payload:e})};return(0,a.jsxs)("main",{className:"space-y-12 mb-6",children:[e.activeChat?e.currentUser&&(0,a.jsx)(v,{messages:e.messages,breadcrumbs:[{label:"Ping",href:"/ping"},{label:"Search",href:"/ping/search"},{label:e.currentUser.name}],showBackButton:!0,userName:e.currentUser.name,userStatus:e.currentUser.status,onSendMessage:e=>{t({type:"ADD_MESSAGE",payload:{id:Date.now().toString(),sender:"Esther Howard",timestamp:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),content:e,date:new Date().toISOString(),type:"text"}})},onBack:()=>{t({type:"END_CHAT"})}}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{onChatStart:s}),(0,a.jsx)(n,{onChatStart:s})]}),(0,a.jsx)("div",{className:"mb-6"})]})}},8637:(e,t,s)=>{e.exports=s(9399)()},9399:(e,t,s)=>{"use strict";var a=s(2948);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,s,r,n,i){if(i!==a){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return s.PropTypes=s,s}},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:s,strokeWidth:o?24*Number(l)/Number(r):l,className:n("lucide",c),...m},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:o,...c}=s;return(0,a.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(r(e)),o),...c})});return s.displayName="".concat(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(3252)),_N_E=e.O()}]);
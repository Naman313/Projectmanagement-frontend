(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{524:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(5155),r=s(2115);let l=(0,s(9946).A)("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);var n=s(3464),i=s(6766);let c="https://projectmanagementbackend-0rjw.onrender.com/api";function o(){let[e,t]=(0,r.useState)(null),[s,o]=(0,r.useState)([]),[d,m]=(0,r.useState)(!0),[h,u]=(0,r.useState)(null),[x,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{var e;let s=await n.A.get("".concat(c,"/users/profile"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});(null===(e=s.data)||void 0===e?void 0:e._id)?t(s.data._id):u("User ID not found")}catch(e){console.error("Error fetching user ID:",e),u("Failed to fetch user ID")}};(0,r.useEffect)(()=>{e&&f(e)},[e]);let f=async e=>{try{let t=await n.A.get("".concat(c,"/projects"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(Array.isArray(t.data)){let s=t.data.flatMap(t=>t.milestones&&Array.isArray(t.milestones)?t.milestones.filter(t=>t.assignedTo.includes(e)).map(e=>({...e,projectId:t._id,projectName:t.name})):[]);o(s)}else console.error("Unexpected API response format:",t.data),o([])}catch(e){console.error("Error fetching projects:",e),o([])}finally{m(!1)}},j=async(t,a)=>{try{var r;let l=s.map(e=>e._id===t?{...e,status:"pending"===e.status?"completed":"pending",completedOn:"pending"===e.status?new Date().toISOString():null}:e);o(l);let i=(null===(r=l.find(e=>e._id===t))||void 0===r?void 0:r.status)||"pending",d="completed"===i?new Date().toISOString():null;await n.A.patch("".concat(c,"/projects/").concat(a,"/milestones/").concat(t),{status:i,completedOn:d},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),f(e)}catch(e){console.error("Error updating milestone status:",e)}};return d?(0,a.jsx)("div",{children:"Loading..."}):h?(0,a.jsx)("div",{children:h}):(0,a.jsx)(a.Fragment,{children:x?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-full bg-gray-50 pl-5 pb-4",children:(0,a.jsxs)("button",{className:"flex items-center justify-center text-center bg-[#5D56BD] text-white px-3 py-1 rounded-lg font-light text-[14px] gap-2",onClick:()=>g(!1),children:[(0,a.jsx)(l,{className:"w-4"})," ",(0,a.jsx)("p",{children:"Go Back"})]})}),(0,a.jsxs)("div",{className:"m-3 min-h-[500px] rounded-lg bg-white p-6",children:[(0,a.jsx)("h1",{className:"text-xl font-medium mb-4 font-sans",children:"My Completed Assignments"}),s.filter(e=>"completed"===e.status).length>0?(0,a.jsx)("ul",{className:"space-y-4 w-full",children:s.filter(e=>"completed"===e.status).map(e=>(0,a.jsxs)("li",{className:"p-4 bg-gray-50 rounded shadow-sm flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:!0,disabled:!0,className:"w-5 h-5 text-blue-500 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 mr-2"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-medium text-gray-700",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Due Date: ",new Date(e.dueDate).toLocaleDateString()," |"," ",(0,a.jsx)("span",{className:"font-light",children:e.projectName})]})]})]},e._id))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)(i.default,{src:"/assets/Campfire Illustration.png",alt:"No Assignments Available",width:400,height:400}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"No completed assignments available"})]})]})]}):(0,a.jsxs)("div",{className:"h-screen bg-white p-6",children:[(0,a.jsx)("h1",{className:"text-xl font-sans font-medium mb-4",children:"My Assignments"}),(0,a.jsx)("ul",{className:"space-y-4",children:s.length>0?s.map(e=>(0,a.jsxs)("li",{className:"p-4 bg-gray-50 rounded shadow-sm flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:"completed"===e.status,onChange:()=>j(e._id,e.projectId)}),(0,a.jsxs)("div",{className:"flex-1 ml-3",children:[(0,a.jsx)("p",{className:"text-lg text-gray-700",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Due Date: ",new Date(e.dueDate).toLocaleDateString()," |"," ",(0,a.jsx)("span",{className:"font-light",children:e.projectName})]})]})]},e._id)):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)(i.default,{src:"/assets/Campfire Illustration.png",alt:"No Assignments Available",width:400,height:400}),(0,a.jsx)("p",{className:"text-gray-600",children:"No assigned milestones found."})]})}),(0,a.jsx)("button",{className:"mt-6 px-4 py-2 text-[#5D56BD] font-normal rounded",onClick:()=>g(!0),children:"Show My Completed Assignments"})]})})}},2349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5155),r=s(2115),l=s(5482);function n(e){let{activeTab:t,setActiveTab:s}=e,r=e=>"pb-2 transition-all duration-100 ".concat(t===e?"text-[#5D56BD] border-b-2 border-[#5D56BD]":"text-gray-500 hover:text-gray-600");return(0,a.jsxs)("header",{className:"mx-4 my-0 rounded-lg bg-white shadow-sm relative",children:[(0,a.jsxs)("div",{className:"h-20 px-4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("a",{href:"#",className:"text-[#5D56BD] text-md font-medium",children:"My Stuff"})}),(0,a.jsx)(l.A,{})]}),(0,a.jsx)("div",{className:"w-full px-4 py-2",children:(0,a.jsxs)("div",{className:"flex space-x-6 text-sm",children:[(0,a.jsx)("button",{onClick:()=>s("My Assignment"),className:r("My Assignment"),children:"My Assignment"}),(0,a.jsx)("button",{onClick:()=>s("Bookmarked"),className:r("Bookmarked"),children:"Bookmarked"}),(0,a.jsx)("button",{onClick:()=>s("Schedule"),className:r("Schedule"),children:"Schedule"}),(0,a.jsx)("button",{onClick:()=>s("My Drafts"),className:r("My Drafts"),children:"My Drafts"})]})})]})}var i=s(524),c=s(6766);let o=(0,s(9946).A)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),d=[{id:1,name:"Identify stakeholders who will be impacted by the project and who will be involved.",createdBy:"Eleanor Peno",dueDate:"2024-10-02",projectName:"Neptune CRM",isBookmarked:!0},{id:2,name:"Develop report for the requirements of the project.",createdBy:"Eleanor Peno",dueDate:"2024-10-03",projectName:"Project Atlas",isBookmarked:!0},{id:3,name:"Develop project charter by documenting the project's purpose, objectives, and key players.",createdBy:"Eleanor Peno",dueDate:"2024-11-02",projectName:"Project Atlas",isBookmarked:!0}],m=()=>{let[e,t]=(0,r.useState)(d),s=e=>{t(t=>t.map(t=>t.id===e?{...t,isBookmarked:!t.isBookmarked}:t))};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"m-3 min-h-[500px] rounded-lg bg-white p-6",children:[(0,a.jsx)("h1",{className:"text-xl text-black font-sans font-medium mb-4",children:"My Bookmarked"}),e.length>0?(0,a.jsx)("ul",{className:"space-y-4 w-full",children:e.map(e=>(0,a.jsxs)("li",{className:"p-4 bg-gray-50 rounded shadow-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"rounded-full overflow-hidden",children:(0,a.jsx)(c.default,{src:"/assets/avtar.jpg",alt:"No Assignments Available",width:50,height:50})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-medium text-gray-700",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.createdBy," | Due: ",e.dueDate," | Project: ",e.projectName]})]})]}),(0,a.jsx)("button",{onClick:()=>s(e.id),className:"focus:outline-none",children:(0,a.jsx)(o,{className:"w-6 h-6 transition-colors duration-300 ".concat(e.isBookmarked?"text-[#5D56BD] fill-[#5D56BD]":"text-[#5D56BD]")})})]},e.id))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[480px] w-full",children:[(0,a.jsx)(c.default,{src:"/assets/Illustration (2).png",alt:"No Assignments Available",width:150,height:150}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"No Bookmarked Found"})]})]})})},h=()=>(0,a.jsx)("div",{children:"Schedule"}),u=[{id:1,author:"Esther Howard (Project Manager)",project:"Project Atlas",title:"Project Kickoff Meeting",message:"@all join the kickoff meeting. We will discuss project goals, timelines, and team assignments. Your participation is crucial.",meetingDate:"29 Oct, 12:30",meetingLink:"https://meet.google.com/kbb-xzgf-ssg",isBookmarked:!1},{id:2,author:"Dianne Russell (Team Lead)",project:"Neptune CRM",title:"Sprint Planning",message:"Let's finalize the tasks for the next sprint. Make sure to review the backlog before the meeting.",meetingDate:"01 Nov, 10:00",meetingLink:"https://meet.google.com/xyz-abc-def",isBookmarked:!1},{id:3,author:"Ronald Richards (Designer)",project:"UI Redesign",title:"Wireframe Review",message:"We will go over the updated wireframes and discuss changes before the development phase starts.",meetingDate:"05 Nov, 15:00",meetingLink:"https://meet.google.com/lmn-opq-rst",isBookmarked:!1}],x=()=>{let[e,t]=(0,r.useState)(u);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"m-3 min-h-[500px] rounded-lg bg-white p-6",children:[(0,a.jsx)("h1",{className:"text-xl text-black font-sans font-medium mb-4",children:"My Draft"}),e.length>0?(0,a.jsx)("ul",{className:"space-y-4 w-full",children:e.map(e=>(0,a.jsx)("li",{className:"p-4 bg-gray-50 rounded shadow-sm flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-medium text-gray-900 font-semibold",children:e.author}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.project}),(0,a.jsx)("p",{className:"text-lg font-medium mt-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.message}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[(0,a.jsx)("strong",{children:"Meeting at:"})," ",e.meetingDate]}),(0,a.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Meeting Link:"})," ",e.meetingLink]})]})},e.id))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[480px] w-full",children:[(0,a.jsx)(c.default,{src:"/assets/Illustration (4).png",alt:"No Assignments Available",width:150,height:150}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"No Draft Found"})]})]})})};var g=s(3464);function p(e){let{children:t}=e,[s,l]=(0,r.useState)("My Assignment"),[c,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=localStorage.getItem("token");if(!e){f("User not authenticated."),u(!1);return}let t=await g.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/users/profile"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data._id)}catch(e){console.error("Error fetching user ID:",e),f("Failed to fetch user data.")}finally{u(!1)}};return d?(0,a.jsx)("div",{className:"h-screen flex items-center justify-center",children:"Loading..."}):p?(0,a.jsx)("div",{className:"h-screen flex items-center justify-center text-red-500",children:p}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"max-h-screen bg-gray-50 space-y-2 pt-3",children:[(0,a.jsx)(n,{activeTab:s,setActiveTab:l}),(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600 mb-4",children:[(0,a.jsx)("a",{href:"/main/activity",className:"text-gray-600",children:"My Stuff"}),(0,a.jsx)("span",{className:"mx-2",children:"›"}),(0,a.jsx)("span",{children:s})]}),(()=>{switch(s){case"Bookmarked":return(0,a.jsx)(m,{});case"Schedule":return(0,a.jsx)(h,{});case"My Drafts":return(0,a.jsx)(x,{});default:return c?(0,a.jsx)(i.A,{userId:c}):(0,a.jsx)("div",{className:"text-center",children:"User not found"})}})()]})]})})}},3285:(e,t,s)=>{Promise.resolve().then(s.bind(s,2349))},5482:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(5155),r=s(2115);let l=(0,s(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var n=s(5695);let i={src:"/_next/static/media/Logout Icon.4228ea4b.png",height:30,width:30,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEWhoaGampqXl5eWlpapqamioqKZmZmXl5ebm5u4uLiYmJiZmZmIiIhha0uDAAAADXRSTlMBUUua/v15Jaf+5ygpt9f7OgAAAAlwSFlzAAALEwAACxMBAJqcGAAAADJJREFUeJwtikESACAIhHDTyur/720m4wIHAHrnYXPar7K2dASKWMtdmIdHpjHaY9QOXBb7ALArNkYuAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var c=s(7924),o=s(6766);let d=function(){let[e,t]=(0,r.useState)(""),[s,d]=(0,r.useState)(!1),m=(0,n.useRouter)();return(0,r.useEffect)(()=>{let e=setInterval(()=>{let e=new Date,s=new Intl.DateTimeFormat("en-GB",{weekday:"short",day:"numeric",month:"short"}).format(e).replace(",",""),a=e.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric",second:"numeric"});t("".concat(s,", ").concat(a))},1e3);return()=>clearInterval(e)},[]),(0,a.jsx)("div",{className:"h-8  flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)(c.A,{className:"absolute left-3 w-4 h-4 text-[#808080]"}),(0,a.jsx)("input",{type:"text",placeholder:"Search",className:"w-50 pl-9 pr-3 py-1 text-sm bg-gray-100 rounded-full focus:outline-none w-[270px]"})]}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center bg-[#F4F3FF] rounded-3xl cursor-pointer",onClick:()=>{d(!s)},children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:(0,a.jsx)("img",{src:"https://www.creativefabrica.com/wp-content/uploads/2023/02/09/Flat-People-Icon-Graphics-60534092-1.png",alt:"Profile",className:"w-full h-full object-cover"})}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4  transition-transform duration-200 ".concat(s?"rotate-180 text-[#5D56BD]":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-sm hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>{m.push("/main/settings")},children:[(0,a.jsx)(l,{className:"w-4 h-4 mr-2 text-[#999999]"}),"Setting"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),m.push("/auth/login")},className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center text-sm text-[#4D4D4D]",children:[(0,a.jsx)(o.default,{src:i,alt:"logout",width:20,height:20,className:"w-4 h-4 mr-4"}),"Logout"]})]})]})]})})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...n,width:r,height:r,stroke:s,strokeWidth:c?24*Number(i)/Number(r):i,className:l("lucide",o),...h},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{className:c,...o}=s;return(0,a.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(r(e)),c),...o})});return s.displayName="".concat(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[766,464,441,684,358],()=>t(3285)),_N_E=e.O()}]);
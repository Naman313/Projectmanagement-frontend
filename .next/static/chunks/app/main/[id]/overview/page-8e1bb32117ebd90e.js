(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{492:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]])},1218:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/Pin.e4403119.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVMaXFcVb5bU7tbVLteV8FdVbNeV79eV8FcVbtdVr5jXMvmRo7XAAAACnRSTlMAtCA2/QrE2o+p3XE/3gAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNJREFUeJwli8kNADAMwgi52uw/cEXKw1hCAAAyRSDLVHSbkdVErLAjria3HpccZ/G/Ng8W4gCciCIcQQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},3358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eb});var a=s(5155),l=s(2115),r=s(5482),n=s(6874),c=s.n(n),i=s(6766),d=s(4616),o=s(4416),x=s(3464),m=s(5695),h=s(6938),p=s(5799);let u={src:"/_next/static/media/Edit Icon.855aae6b.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX////////////////////////////+/v7///9JhYuvAAAACXRSTlMBiEESm6ojzSXD+KZNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALUlEQVR4nCXGQRIAIAjDwNCC+P8XO+AlGwB8p+BI7UQpzygqvhrdZ8XZK9jrAw2+AF/4mYEqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},g=e=>{let{isOpen:t,onClose:s}=e,[r,n]=(0,l.useState)({name:"Project Atlas",category:"development",description:"Project Atlas aims to develop an innovative project management tool designed to streamline workflows and enhance team collaboration.",collaboration:"Collaboration is at the heart of Project Atlas, ensuring seamless teamwork and communication."}),{id:c}=(0,m.useParams)(),d=(0,m.useRouter)();(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(c),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log(e.data),n({name:e.data.name,category:e.data.category,description:e.data.description,collaboration:e.data.collaboration})}catch(e){console.error(e)}})()},[]);let g=e=>{let{id:t,value:s}=e.target;n(e=>({...e,[t]:s}))},j=async e=>{e.preventDefault();try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(c),r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})}catch(e){console.error(e)}s()},A=async()=>{try{await x.A.delete("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(c),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),d.push("/main/dashboard")}catch(e){console.error(e)}s()};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{}),(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center p-4 overflow-y-auto no-scrollbar",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-11/12 h-[570px] relative mt-[250px] ml-2",children:[(0,a.jsx)("button",{onClick:s,className:"absolute right-4 top-4 hover:bg-gray-200 p-2 rounded-full",type:"button","aria-label":"Close modal",children:(0,a.jsx)(o.A,{className:"h-6 w-6 text-gray-500"})}),(0,a.jsx)("h2",{className:"text-[19px] font-medium text-[#333333] mb-6 pl-5 pt-5",children:"Edit Project"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"relative w-20 h-20 bg-[#F09B83] rounded-full flex items-center justify-center mb-4",children:[(0,a.jsx)("span",{className:"text-white text-xl font-medium",children:"".concat(r.name.charAt(0).toUpperCase()+r.name.charAt(1).toUpperCase())}),(0,a.jsx)("button",{className:"absolute bottom-0 right-0 w-7 h-7 bg-[#565DBD] rounded-full flex items-center justify-center",children:(0,a.jsx)(i.default,{src:u,alt:"pencil",width:16,height:16})})]}),(0,a.jsx)("div",{className:"text-[#333333] text-[13.5px]",children:"Project Image"})]}),(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-[13.5px]  text-[#333333] mb-1",children:"Project Name"}),(0,a.jsx)("input",{id:"name",type:"text",className:"w-full px-2 py-2 border border-[#CCCCCC] rounded-md text-[#333333] text-[13.5px] ",value:r.name,onChange:g,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-[13.5px] text-[#333333] mb-1",children:"About Project"}),(0,a.jsx)("textarea",{id:"description",className:"w-full px-3 py-2 border border-[#CCCCCC] rounded-md text-[#333333] font-light text-[13.5px] min-h-[150px]",value:r.description,onChange:g,required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-[13.5px] text-[#333333] mb-1",children:"Project Category"}),(0,a.jsxs)("select",{id:"category",className:"w-[530px] pl-2 py-2 border border-[#CCCCCC] rounded-md text-[#333333] text-[13.5px]",value:r.category,onChange:g,children:[(0,a.jsx)("option",{value:"development",children:"Project Development"}),(0,a.jsx)("option",{value:"DevOps",children:"DevOps"}),(0,a.jsx)("option",{value:"Mobile",children:"Mobile Development"}),(0,a.jsx)("option",{value:"Web",children:"Web Development"}),(0,a.jsx)("option",{value:"CRM",children:"Customer Relationship Management (CRM)"}),(0,a.jsx)("option",{value:"ERP",children:"Enterprise Resource Planning (ERP)"}),(0,a.jsx)("option",{value:"AI",children:"Artificial Intelligence (AI)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"collaboration",className:"block text-[13.5px] text-[#333333] mb-1",children:"How we collaborate?"}),(0,a.jsx)("textarea",{id:"collaboration",className:"w-[530px]  px-3 py-2 border border-[#CCCCCC] font-light text-[13.5px] rounded-md min-h-[150px]",value:r.collaboration,onChange:g,required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4 text-[13px] -translate-y-2 translate-x-5",children:[(0,a.jsx)("button",{type:"submit",className:"px-8 py-3 text-white bg-[#5D56BD] rounded-lg ",children:"Save Changes"}),(0,a.jsx)("button",{type:"button",onClick:()=>{(0,p.oR)((0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Are you sure?"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Do you really want to delete this milestone?"}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded-lg",onClick:()=>p.oR.dismiss(),children:"Cancel"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg",onClick:()=>{A(),p.oR.dismiss()},children:"OK"})]})]}),{position:"top-center",autoClose:!1,closeButton:!1,draggable:!1,theme:"light"})},className:"px-8 py-3 text-white bg-[#FF4C51] rounded-lg ",children:"Delete Project"})]})]})]})})]})})]}):null};var j=s(7710),A=s(7924),f=s(7965);let b=function(e){let{mutate:t,mileStoneId:s,milestoneValue:r,onClose:n,milestoneFromBackend:c}=e,{id:d}=(0,m.useParams)(),u=localStorage.getItem("token"),[g,j]=(0,l.useState)([]),[b,N]=(0,l.useState)([]),[v,y]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[D,B]=(0,l.useState)(r||"");(0,l.useEffect)(()=>{(async()=>{try{console.log("Fetching members for project:",d);let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(d,"/members"),{headers:{Authorization:"Bearer ".concat(u)}});console.log("Fetched members:",e.data.members),N(e.data.members)}catch(e){console.error("Detailed error fetching users:",e),p.oR.error("Failed to fetch team members: ".concat(e instanceof Error?e.message:"Unknown error"))}})()},[d,u]);let k=l.useMemo(()=>b.filter(e=>e.name.toLowerCase().includes(w.toLowerCase())),[b,w]),S=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};(0,l.useEffect)(()=>{(async()=>{let e=c.filter(e=>e._id===s);if(e.length>0){let t=e[0].assignedTo.map(e=>e._id);y(e[0].dueDate.split("T")[0]),j(e=>[...e,...t])}})()},[]);let E=e=>{console.log("You are in remove"),k.filter(t=>t.id!==e)},F=async()=>{if(!v){p.oR.error("Please select a due date");return}if(!D.trim()){p.oR.error("Please enter a milestone title");return}(async()=>{let e=Array.from(new Set([...g]));j(e);try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(d,"/milestones/").concat(s),{title:D,assignedTo:e,dueDate:v},{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json"}}),p.oR.success("Milestone updated successfully"),await t(),n()}catch(e){if(console.error("Detailed error updating milestone:",e),x.A.isAxiosError(e)){var a,l;let t=(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message)||e.message;p.oR.error("Failed to update milestone: ".concat(t))}else p.oR.error("An unexpected error occurred while updating milestone")}})()},I=async()=>{try{await x.A.delete("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(d,"/milestones/").concat(s)),await t(),n()}catch(e){console.log("Error in deleting milestone",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{}),(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/30 z-50 font-sans",children:(0,a.jsx)("div",{className:"bg-white rounded-xl  w-[570px] h-[480px] ml-[10px]  ",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-[18px] font-medium text-[#333333] ml-2",children:"Edit Milestone"}),(0,a.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"space-y-4 ml-2 pt-[6px]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333] mb-1.5",children:"Project Milestone"}),(0,a.jsx)("textarea",{rows:2,value:D,onChange:e=>B(e.target.value),placeholder:"Enter project milestone...",className:"w-full px-3 py-2 bg-white border border-[#CCCCCC] rounded-lg text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333] mb-1.5",children:"When done, notify"}),(0,a.jsxs)("div",{className:"relative mb-2",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:(0,a.jsx)(A.A,{className:"w-4 h-4 text-gray-400"})}),(0,a.jsx)("input",{type:"text",placeholder:"Search team member",className:"w-full pl-10 pr-3 py-2 bg-white border border-[#CCCCCC] rounded-lg text-sm",value:w,onChange:e=>C(e.target.value)})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 rounded-md overflow-y-auto border border-[#CCCCCC] h-[80px] text-white pl-2",children:k.slice(0,5).map(e=>(0,a.jsx)("div",{className:"pt-1 pb-1 px-1 ",children:(0,a.jsxs)("div",{onClick:()=>S(e.id),className:"flex items-center gap-1 bg-[#5D56BD] text-white p-1  \n                          rounded-full font-regular text-[12px]",children:[(0,a.jsx)(i.default,{src:f.A,width:20,height:20,alt:e.name,className:"rounded-full"}),(0,a.jsx)("div",{className:"text-xs",children:(0,a.jsx)("p",{className:"font-light",children:e.name})}),(0,a.jsx)("button",{onClick:()=>E(e.id),className:" bg-[#5D56BD] rounded-full p-1",children:(0,a.jsx)(o.A,{className:"w-4 h-4"})})]},e.id)}))})]}),(0,a.jsxs)("div",{className:"pt-2",children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333] mb-1.5",children:"Due Date"}),(0,a.jsx)("input",{type:"date",className:"w-[155px] px-2 py-[9px] bg-white border border-[#CCCCCC] rounded-lg text-sm",value:v,onChange:e=>y(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mt-2 flex justify-end gap-[13px] mr-[6px] font-sans",children:[(0,a.jsx)("button",{onClick:F,className:"px-[39px] py-[9px] bg-[#5D56BD] text-[#ffffff] rounded-md text-[12.5px] font-light ",children:"Save"}),(0,a.jsx)("button",{onClick:I,className:"px-[35px] py-[9px] bg-[#FF4C51] text-[#ffffff] rounded-md text-[12.5px] font-light ",children:"Delete"})]})]})})})]})};var N=s(9480),v=s(7324),y=s(1218),w=s(6814),C=s(7707),D=s(8356),B=s(4953),k=s(3052),S=s(6474),E=s(9946);let F=(0,E.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),I=(0,E.A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),T=(0,E.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var M=s(492);let R=function(e){let{notes:t,setNotes:s,fromTodo:r}=e,[n,c]=(0,l.useState)(null),[i,d]=(0,l.useState)("");return(0,a.jsxs)("div",{className:"flex flex-col flex-grow border rounded-sm ".concat(r?"h-[220px]":"h-[400px]"," border-[#CCCCCC]"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b p-2",children:[(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)("span",{className:"font-bold",children:"B"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded italic",children:(0,a.jsx)("span",{children:"I"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(I,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(T,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"h-4 w-px bg-gray-300 mx-1"}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsxs)("div",{className:"w-4 h-4 flex flex-col justify-center items-center gap-1",children:[(0,a.jsx)("div",{className:"w-3 h-px bg-gray-600"}),(0,a.jsx)("div",{className:"w-3 h-px bg-gray-600"})]})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsxs)("div",{className:"w-4 h-4 flex flex-col justify-center items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1 h-px bg-gray-600"}),(0,a.jsx)("div",{className:"w-3 h-px bg-gray-600 ml-2"})]})}),(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsxs)("button",{className:"p-1 hover:bg-gray-100 rounded flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(M.A,{className:"w-4 h-4"}),(0,a.jsx)("input",{type:"file",name:"singleFile",onChange:e=>{e.target.files&&e.target.files[0]&&c(e.target.files[0])}})]})]}),(0,a.jsx)("textarea",{placeholder:"Note...",className:"w-full p-2 rounded-b-lg focus:ring-0 focus:outline-none",rows:10,value:t,onChange:e=>{s(e.target.value)}})]})},U=e=>{let{isOpen:t,onClose:s,messageOptions:r,setMessagesOptions:n,NoticeBoardData:c,setNoticeBoardData:d}=e,[u,g]=(0,l.useState)(null),[j,b]=(0,l.useState)([]),[N,v]=(0,l.useState)(j),[y,w]=(0,l.useState)(""),[C,D]=(0,l.useState)(""),[B,k]=(0,l.useState)(""),[E,I]=(0,l.useState)(!1),[T,M]=(0,l.useState)(""),U=(0,m.useParams)().id;(0,l.useEffect)(()=>{try{(async()=>{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(U,"/members"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});b(e.data.members),v(e.data.members)})()}catch(e){console.error(e)}},[]),(0,l.useMemo)(()=>(console.log(j),j.filter(e=>{var t;return null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(T.toLowerCase())})),[T]);let z=e=>{v(N.filter(t=>t.id!==e))},_=e=>{k(e),I(!1)},P=async e=>{try{let t=await x.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/categories"),{category:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});return console.log("Category added successfully:",t.data),t.data}catch(e){if(x.A.isAxiosError(e)){var t;console.error("Error adding category:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message)}else console.error("Error adding category:",e);throw e}},V=async()=>{console.log("Title:",y),console.log("Assigned To:",u?u.name:"No assignee selected"),console.log("Notify Members:",N.map(e=>e.name)),console.log("Category:",B),console.log("Notes:",C);let e={title:y,description:C,category:B,notifyWhenPosted:N.map(e=>e.id),comments:[],project:U};try{let t=await x.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/noticeboard"),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});201===t.status&&(p.oR.success("Noticeboard created successfully"),console.log("Noticeboard created successfully:",t),d([...c,t.data.noticeboard]),setTimeout(()=>{s()},3e3))}catch(e){console.error("Failed to create project:",e)}},[O,L]=(0,l.useState)("null"),[G,W]=(0,l.useState)(!1),[J,H]=(0,l.useState)("");return t?(0,a.jsxs)("div",{className:"fixed inset-0 bg-black overflow-y-auto no-scrollbar bg-opacity-25 flex items-center justify-center p-4 z-50 font-sans",children:[(0,a.jsx)(h.A,{}),(0,a.jsxs)("div",{className:"bg-white rounded-[10px] w-[1125px] ml-2  h-[580px] mt-[238px]  pl-[10px] ",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 px-3",children:[(0,a.jsx)("h2",{className:"text-[19px] font-medium text-[#333333] mt-2",children:"Add Notice Board Message"}),(0,a.jsx)("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 py-2 px-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"space-y-[1px] mb-4",children:[(0,a.jsx)("label",{className:"text-[13.5px] font-regular text-[#333333]",children:"Message Title"}),(0,a.jsx)("input",{placeholder:"Write title....",className:"w-full h-[60px] pl-2 pb-6 text-regular border border-[#CCCCCC]  text-[#333333] placeholder-[#B3B3B3] text-[13.5px] rounded-md",value:y,onChange:e=>w(e.target.value)})]}),(0,a.jsxs)("div",{className:"relative pt-2",children:[(0,a.jsxs)("label",{className:"text-[13.5px] font-regular text-[#333333]",children:["Pick a category ",(0,a.jsx)("span",{className:"text-[#808080]",children:"(Optional)"})]}),(0,a.jsxs)("div",{className:"absolute w-full z-50 bg-white",children:[(0,a.jsx)("div",{className:"flex flex-row w-full",children:(0,a.jsxs)("button",{className:"flex flex-row w-full px-2 py-2 text-sm border border-[#CCCCCC]  rounded-md   bg-white text-[#333333]",onClick:()=>I(e=>!e),children:[B||"None",(0,a.jsx)(S.A,{className:"w-4 h-4 ml-auto text-[#808080]"})]})}),E&&(0,a.jsxs)("div",{children:[r.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"px-4 py-2 text-sm hover:bg-[#565DBD] hover:text-[white] cursor-pointer",onClick:()=>_(e),children:e})},e)),(0,a.jsxs)("div",{children:[!G&&(0,a.jsx)("button",{className:"px-4 text-[#5D56BD] cursor-pointer",onClick:()=>W(!0),children:"Add categories"}),G&&(0,a.jsxs)("div",{className:"flex items-center  border text-white p-[2px] rounded-sm",children:[(0,a.jsx)("input",{type:"text",className:"px-4 py-2 border-gray-200 rounded-lg focus:outline-none text-[#333333]",value:J,onChange:e=>H(e.target.value),placeholder:"Enter new category"}),(0,a.jsx)("button",{onClick:()=>{J.trim()&&(P(J),n([...r,J]),H(""),W(!1))},className:"bg-[#6BBD56] text-white px-1 py-1 rounded-sm   hover:bg-green-600 ml-auto",children:(0,a.jsx)(F,{})}),(0,a.jsx)("button",{onClick:()=>{H(""),W(!1)},className:"bg-[#FF4c51] ml-2 px-1 py-1 text-white hover:bg-red-700",children:(0,a.jsx)(o.A,{})})]})]})]})]})]}),(0,a.jsxs)("div",{className:"relative space-y-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mt-[60px] block text-[13.5px] font-regular text-[#333333]",children:"When post, notify"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"absolute w-auto left-0 pl-3 flex mb-1 items-center pointer-events-none ",children:(0,a.jsx)(A.A,{className:"mt-2.5 w-4 h-4 text-[#B3B3B3] "})}),(0,a.jsx)("input",{type:"text",placeholder:"Search team member",className:"w-full py-2 pl-10 border rounded-md text-[13.5px] placeholder-[#B3B3B3] border-[#CCCCCC]",value:T,onChange:e=>M(e.target.value)})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2 border border-[#CCCCCC] rounded-md h-[80px] translate-y-1",children:N.map(e=>(0,a.jsx)("div",{className:"pt-1 pb-1 px-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-[#5D56BD] text-white px-1 ml-1  rounded-full font-regular text-[12px] py-[2px]",children:[(0,a.jsx)(i.default,{src:f.A,alt:"avatar",width:20,height:20,className:"rounded-full"}),(0,a.jsx)("span",{className:" font-light text-[11px]",children:e.name}),(0,a.jsx)("button",{onClick:()=>z(e.id),className:" bg-[#5D56BD] rounded-full",children:(0,a.jsx)(o.A,{className:"w-4 h-4"})})]},e.id)}))})]})]}),(0,a.jsx)("div",{className:"space-y-2 mr-2",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-[13.5px]  text-[#333333]",children:"Message"}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)(R,{notes:C,setNotes:D,fromTodo:!1})})]})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 px-3 mt-3 pr-6",children:[(0,a.jsx)("button",{onClick:V,className:"px-5 py-2.5 text-white bg-[#5D56BD] rounded-lg text-[13.5px] font-light",children:"Post this message"}),(0,a.jsx)("button",{onClick:s,className:"px-7 py-1 border-[#6BBD56] border-[1.5px] text-[#6BBD56] rounded-lg font-medium text-[13.5px]",children:"Save as draft"})]})]})]}):null},z={src:"/_next/static/media/Empty milestone.11d0d7a8.png",height:47,width:157,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAIVBMVEXr6vb9/f+Khczq6f/19fWOisz4+Pj9/f34+PiIhM////8aoReDAAAACXRSTlO+8bnxgYPIprx9fPdyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGklEQVR4nGNg4mRmZmTkYmdgZWJgYOBgYwEAAkYAPr14hxsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},_=function(e){let{notes:t,setNotes:s,fromTodo:r}=e,[n,c]=(0,l.useState)(null),[i,d]=(0,l.useState)("");return(0,a.jsxs)("div",{className:"flex flex-col flex-grow border rounded-md h-[250px] border-[#CCCCCC] w-[888px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b p-2",children:[(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)("span",{className:"font-bold",children:"B"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded italic",children:(0,a.jsx)("span",{children:"I"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(I,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(T,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"h-4 w-px bg-gray-300 mx-1"}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsxs)("div",{className:"w-4 h-4 flex flex-col justify-center items-center gap-1",children:[(0,a.jsx)("div",{className:"w-3 h-px bg-gray-600"}),(0,a.jsx)("div",{className:"w-3 h-px bg-gray-600"})]})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsxs)("div",{className:"w-4 h-4 flex flex-col justify-center items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1 h-px bg-gray-600"}),(0,a.jsx)("div",{className:"w-3 h-px bg-gray-600 ml-2"})]})}),(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsxs)("button",{className:"p-1 hover:bg-gray-100 rounded flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(M.A,{className:"w-4 h-4"}),(0,a.jsx)("input",{type:"file",name:"singleFile",onChange:e=>{e.target.files&&e.target.files[0]&&c(e.target.files[0])}})]})]}),(0,a.jsx)("textarea",{placeholder:"Comment...",className:"w-full p-2 rounded-b-lg focus:ring-0 focus:outline-none",rows:10,value:t,onChange:e=>{s(e.target.value)}})]})},P={src:"/_next/static/media/Edit Button 03.90304b6b.png",height:30,width:30,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAKlBMVEVMaXF2dnaYmJicnJzMzMy6urqEhISZmZmrq6usrKyfn5+bm5uUlJShoaGf2XR7AAAADXRSTlMABYD8+PsMz4R9ECTm2d+S0wAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNJREFUeJwdxckRgCAQALAsy6nSf7sOfBIQz1GY33svtY2OsrNOrMxd0GvLIojR1pm4+gEauQCv/v4MqAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},V={src:"/_next/static/media/Trash Icon 02.268479ed.png",height:30,width:30,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEWurq6ZmZmTk5OsrKzBwcGZmZmTk5OYmJiXl5eWlpagoKCbm5uZmZmfn5+ysrJNU5jgAAAADnRSTlMBaYP++RQT/CXolMW6++A0K8MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA0SURBVHicVcq3EQAgAAOxNyan/cfloKNTIaBKFUBjziGgey13IOwYd/hg+0GltXIzKecEBynKARrjtHzpAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var O=s(9159);let L=(0,E.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),G=(0,E.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var W=s(1420);let J=e=>{let{milestoneId:t,projectId:s,isOpenDetail:r,onClose:n,reload:d}=e,[o,m]=(0,l.useState)(""),[h,p]=(0,l.useState)(null),[u,g]=(0,l.useState)(""),[j,A]=(0,l.useState)([]),[N,v]=(0,l.useState)(!1),[y,w]=(0,l.useState)(null),[C,D]=(0,l.useState)(!1),[S,E]=(0,l.useState)(!1),[I,T]=(0,l.useState)(null),[M,R]=(0,l.useState)({_id:"",name:"",pinned:!1,archived:!1,members:[{name:""}],createdBy:""}),U=async e=>{let t=await x.A.get(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});return q(t.data.milestone),t.data},z="".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(t),{data:J,error:H,isLoading:X}=(0,B.Ay)(z,U),[Q,q]=(0,l.useState)({_id:"",title:"",assignedTo:[],comments:[],createdBy:{_id:"",fullName:""},createdOn:new Date,dueDate:"",status:"pending"}),K=(0,O.s)("".concat(localStorage.getItem("token"))),Y=async(e,t)=>{try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/milestones/update-status"),{status:"pending"===t?"completed":"pending"},{params:{projectId:s,milestoneId:e},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),d(),(0,W.j)(z)}catch(e){console.error("Error updating milestone status:",e)}};(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(s),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});R(e.data)}catch(e){console.error("Error fetching project:",e)}})()},[s]),(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(s,"/members"),{params:{projectId:s},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});A([e.data.milestone])}catch(e){console.error(e)}})()},[]);let Z=async()=>{if(o.trim()){v(!0),w(null);try{await x.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(t,"/comment"),{comment:o},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),(0,W.j)(z),m("")}catch(t){if(x.A.isAxiosError(t)){var e;console.error("Error posting comment:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message)}else console.error("Error posting comment:",t);w("Failed to post comment. Try again.")}finally{v(!1)}}},$=async()=>{D(e=>!e)},ee=(e,t)=>{p(e),g(t),T(null)},et=async()=>{if(u.trim()&&h){v(!0),w(null);try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(s,"/").concat(t,"/").concat(h),{newComment:u},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),(0,W.j)(z),p(null),g(""),d()}catch(e){console.error("Error editing comment:",e),w("Failed to edit comment. Try again.")}finally{v(!1)}}},es=async e=>{try{await x.A.delete("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(s,"/").concat(t,"/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),await (0,W.j)(z),d(),T(null)}catch(e){console.log("Error in deleting milestone",e)}},ea=async()=>{try{await x.A.delete("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(s,"/milestones/").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),await (0,W.j)(z),d(),n()}catch(e){console.log("Error in deleting milestone",e)}},el=()=>{p(null),g("")};return r?X?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):H?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Error loading milestone data"}):(0,a.jsxs)(a.Fragment,{children:[C&&(0,a.jsx)(b,{mutate:()=>(0,W.j)(z),milestoneFromBackend:j,mileStoneId:t,milestoneValue:Q.title,onClose:()=>D(!1)}),(0,a.jsx)("div",{className:"bg-[#F8F7FA] min-h-screen",children:(0,a.jsxs)("div",{className:"pb-6",children:[(0,a.jsx)("div",{className:"pl-2 pr-6 pb-0 mt-3 font-sans ml-[22px] ",children:(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:M.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"Milestone Overview"})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{className:"flex font-sans flex-row justify-center items-center px-[13px] py-2 bg-[#5D56BD] text-white rounded-lg mx-4  ml-[28px] -translate-y-3 font-light",onClick:n,children:[(0,a.jsx)(L,{className:"text-[13px] h-5 w-5",strokeWidth:1.5}),(0,a.jsx)("span",{className:"text-[13px] ml-2",children:"Go back"})]}),(0,a.jsxs)("div",{className:"mx-4 ml-[24px] mt-[26px] px-4 py-1 bg-white rounded-lg  font-sans",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mt-3",children:(0,a.jsx)("div",{className:"flex-1 mt-[2px]",children:(0,a.jsxs)("div",{className:"flex p-2 gap-5 pb-[19px] border-b border-[#000000]/20",children:[(0,a.jsx)("div",{onClick:()=>Y(Q._id,Q.status),children:"pending"===Q.status?(0,a.jsx)("div",{className:"py-[30px] px-[30px] flex items-center justify-center bg-[#CCCBCB] text-white w-12 h-14 text-[10px] rounded-xl hover:bg-[#B5DEAB]",children:"\xa0Mark this Complete"}):(0,a.jsx)("div",{className:"flex items-center justify-center text-white w-[60px] h-[60px] text-[10px] rounded-xl bg-[#6BBD56]",children:(0,a.jsx)(F,{className:"stroke-white text-white w-10 h-10"})})}),(0,a.jsx)("h1",{className:"text-[22px] text-[#333333] translate-y-[14px]",children:Q.title}),(0,a.jsxs)("div",{className:"border h-[29px] ml-auto -translate-y-2 p-[3px] ",children:[(0,a.jsx)(G,{className:"text-[#666666] p-[2px] ",onClick:()=>E(e=>!e)}),(0,a.jsx)("div",{children:S?(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:$,children:[(0,a.jsx)(i.default,{src:P,alt:"Edit",width:22,height:22,className:"ml-3 mr-3"}),"Edit"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:ea,children:[(0,a.jsx)(i.default,{src:V,alt:"logout",width:22,height:22,className:" ml-3 mr-3"}),"Delete"]})]}):(0,a.jsx)(a.Fragment,{})})]})]})})}),(0,a.jsxs)("div",{className:"mb-6  mt-2",children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"mt-1 text-[15px] text-[rgb(77,77,77)] ml-3",children:["Added by \xa0\xa0: \xa0\xa0",(0,a.jsxs)("span",{className:"text-[#333333]",children:[Q.createdBy.fullName," "]})," on \xa0",new Date(Q.createdOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})})}),(0,a.jsx)("div",{className:"ml-3 text-[#4D4D4D] text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("span",{className:"text-[15px] text-[#4D4D4D]",children:"When done, notify \xa0:"}),M.members.map((e,t)=>(0,a.jsx)("div",{className:"flex items-center gap-1 p-1 ",children:(0,a.jsxs)("div",{className:"flex justify-center items-center bg-[#5D56BD] rounded-full  px-1 py-[2px] font-light",children:[(0,a.jsx)(i.default,{src:f.A,alt:"photo",className:"rounded-full",width:24,height:24}),(0,a.jsx)("div",{className:"text-[11px] text-white rounded-xl px-[2px] ",children:e.name})]})},t))]})}),(0,a.jsx)("div",{className:"flex mt-2",children:(0,a.jsxs)("div",{className:"mt-1 text-sm text-[#4D4D4D] ml-3",children:["Due Date\xa0\xa0:\xa0\xa0 ",(0,a.jsx)("span",{children:new Date(Q.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})})]})]}),(0,a.jsxs)("div",{className:"ml-[26px] my-4 bg-white p-4 rounded-lg mt-6 w-[1020px] ",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-[19px] font-medium text-[#333333] mb-4 pl-2 font-sans",children:"Comments"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-9 flex gap-3",children:[(0,a.jsx)(i.default,{src:f.A,alt:"avatar",className:"w-12 h-12 rounded-full",width:48,height:48}),(0,a.jsx)("div",{className:"flex flex-grow",children:(0,a.jsx)(_,{notes:o,setNotes:m,fromTodo:!1})})]}),(0,a.jsx)("button",{onClick:Z,className:"px-8 py-2 bg-[#5D56BD] text-white rounded-lg ml-[890px] mt-4 text-[12px]",disabled:N,children:N?"Posting...":"Send"})]})]}),(0,a.jsx)("div",{className:"space-y-4 mt-7",children:Q.comments&&Q.comments.length>0?Q.comments.map((e,t)=>(0,a.jsxs)("div",{className:"gap-3 border-t-[1.5px] border-[#CCCCCC] pt-6 ",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(i.default,{src:f.A,alt:"avatar",className:"rounded-full",width:48,height:48}),(0,a.jsxs)("div",{className:"flex-1 ml-[20px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[#333333]",children:[(0,a.jsx)("span",{className:"font-medium text-[16px]",children:e.commentedBy.fullName}),(0,a.jsxs)("div",{className:"text-[17px] font-medium",children:["(",e.commentedBy.role[0].toUpperCase()+e.commentedBy.role.slice(1),")"]})]}),(0,a.jsxs)("div",{className:"text-[13.5px] text-[#666666] mb-1",children:[new Date(e.commentedOn).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})," ","\xa0",new Date(e.commentedOn).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]})]}),(0,a.jsxs)("div",{className:"",children:[e.commentedBy._id===K.id?(0,a.jsx)("div",{className:"ml-[720px] border h-[29px] -translate-x-3 -translate-y-2 p-[3px]",children:(0,a.jsx)(G,{className:"text-[#666666] p-[2px] cursor-pointer",onClick:()=>T(I===e._id?null:e._id)})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{children:I===e._id&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>ee(e._id,e.comment),children:[(0,a.jsx)(i.default,{src:P,alt:"Edit",width:22,height:22,className:"ml-3 mr-3"}),"Edit"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>es(e._id),children:[(0,a.jsx)(i.default,{src:V,alt:"logout",width:22,height:22,className:"ml-3 mr-3"}),"Delete"]})]})})]})]}),h===e._id?(0,a.jsxs)("div",{className:"ml-[70px] mt-2 flex flex-col",children:[(0,a.jsx)("textarea",{value:u,onChange:e=>g(e.target.value),className:"w-full min-h-[100px] p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5D56BD]"}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-2",children:[(0,a.jsx)("button",{onClick:el,className:"px-4 py-2 text-[12px] border border-gray-300 rounded-lg text-gray-600",children:"Cancel"}),(0,a.jsx)("button",{onClick:et,className:"px-8 py-2 bg-[#5D56BD] text-white rounded-lg text-[12px]",disabled:N,children:N?"Saving...":"Save"})]})]}):(0,a.jsx)("p",{className:"text-[15px] text-[#333333] ml-[70px] mt-2",children:e.comment})]},t)):(0,a.jsx)(a.Fragment,{})})]})]})]})})]}):null};function H(e){let{unMount:t,Mount:s,mountCampfire:r}=e;(0,m.useSearchParams)();let[n,o]=(0,l.useState)([]),[A,S]=(0,l.useState)([]),[E,F]=(0,l.useState)([]),[I,T]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[_,P]=(0,l.useState)({_id:"",name:"",pinned:!1,archived:!1}),[V,O]=(0,l.useState)([]),[L,G]=(0,l.useState)(!1),[W,H]=(0,l.useState)(null),[X,Q]=(0,l.useState)([]),[q,K]=(0,l.useState)(!1),[Y,Z]=(0,l.useState)(!1),[$,ee]=(0,l.useState)([]),[et,es]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(""),[er,en]=(0,l.useState)(""),[ec,ei]=(0,l.useState)([]),[ed,eo]=(0,l.useState)(!1),[ex,em]=(0,l.useState)([]),[eh,ep]=(0,l.useState)(!1),eu=(e,t)=>{el(t),en(e),es(!0)},[eg,ej]=(0,l.useState)([]);(0,l.useEffect)(()=>{H(localStorage.getItem("token"))},[W]);let[eA,ef]=(0,l.useState)([]),{id:eb}=(0,m.useParams)();(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(eb),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});P(e.data)}catch(e){console.error("Error fetching project:",e)}})()},[eb]),(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/categories"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});ej(e.data.categories)}catch(e){console.error(e)}})()},[]);let eN=async e=>{if("Select Role"===e.role){p.oR.error("Please select a valid role");return}if(!ev.current){ev.current=!0;try{let t={name:e.fullName,projectId:eb,memberId:e._id,newRole:e.role},s=await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/projects/members/change-role"),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200===s.status&&(ei(t=>t.some(t=>t._id===e._id)?t.map(t=>t._id===e._id?{...t,role:e.role}:t):[...t,e]),eB())}catch(e){console.error("Failed to update member:",e),p.oR.error("Failed to update team member")}finally{ev.current=!1}}},ev=(0,l.useRef)(!1);(0,l.useEffect)(()=>{$&&$.length>0&&ef($.map(e=>({_id:e.id,fullName:e.name,position:e.role,role:e.role,avatar:"/api/placeholder"})))},[$]);let ey=async e=>{let[t,s]=e;if(!s)return[];try{let e=await x.A.get(t,{headers:{Authorization:"Bearer ".concat(s)}}),a=e.data.members.map(e=>({_id:e.id||"",fullName:e.name||"",position:e.role||"",role:e.role||"",avatar:f.A}));return ee(e.data.members),ef(a),a}catch(e){throw console.log("Error in Members function",e),e}},ew=new Date().toISOString().split("T")[0],{data:eC,error:eD,mutate:eB}=(0,B.Ay)(W?["".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(eb,"/members"),W]:null,ey,{revalidateOnFocus:!1,dedupingInterval:2e3}),ek=async e=>{let[t,s]=e;if(!s)return[];try{let e=await x.A.get(t,{headers:{Authorization:"Bearer ".concat(s)}});return o(e.data.milestones),S(e.data.milestones.filter(e=>"pending"===e.status)),F(e.data.milestones.filter(e=>"completed"===e.status)),T(e.data.milestones.filter(e=>e.dueDate.substring(0,10)==ew)),e.data}catch(e){throw console.error("Error fetching users",e),e}},{data:eS,error:eE,mutate:eF}=(0,B.Ay)(W?["".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(eb,"/milestones"),W]:null,ek,{revalidateOnFocus:!1,dedupingInterval:2e3});(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/noticeboard/latest"),{params:{projectId:eb},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log(e.data,"noticeBoardData"),em([...e.data])}catch(e){console.error(e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/noticeboard/latest"),{params:{projectId:eb},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});em([...e.data])}catch(e){console.error(e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=(await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(eb,"/milestones"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data;o(e.milestones),S(e.milestones.filter(e=>"pending"===e.status)),F(e.milestones.filter(e=>"completed"===e.status))}catch(e){console.error("Error fetching users:",e)}})()},[]);let eI=async e=>{try{let t=!e.pinned,s=e._id;console.log(s),await x.A.put("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/pinned"),{pinned:t},{headers:{Authorization:"Bearer ".concat(W)},params:{projectId:s}}),P(e=>({...e,pinned:t}))}catch(e){console.log("Error in piiend projects",e)}},eT=async e=>{try{let t=!e.archived,s=e._id;await x.A.put("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/archived"),{archived:t},{headers:{Authorization:"Bearer ".concat(W)},params:{projectId:s}}),P(e=>({...e,archived:t}))}catch(e){console.log("Error in archived projects",eE)}},eM=[];(0,l.useEffect)(()=>{O(eM)},[]);let[eR,eU]=(0,l.useState)(""),ez=e=>{eU(e._id),ep(!0)};return(0,a.jsx)(a.Fragment,{children:eh?(0,a.jsx)("div",{children:(0,a.jsx)(J,{milestoneId:eR,projectId:"string"==typeof eb?eb:null,isOpenDetail:eh,onClose:()=>ep(!1),reload:eF})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#F8F7FA] flex flex-col font-sans",children:[(0,a.jsx)(h.A,{}),(0,a.jsxs)("div",{className:"flex-1 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"h-full",children:[(0,a.jsx)("div",{className:"pl-7 pr-6 pb-0",children:(0,a.jsxs)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:null==_?void 0:_.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"Overview"})," "]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2 translate-x-1",children:[(0,a.jsx)("button",{onClick:()=>eI(_),className:"p-2 hover:bg-gray-100 rounded-lg border-[1.5px] bg-white",children:(0,a.jsx)(i.default,{src:_.pinned?y.A:w.A,alt:"Pin",width:20,height:20})}),(0,a.jsx)("button",{onClick:()=>eT(_),className:"p-2 hover:bg-gray-100 rounded-lg border-[1.5px] bg-white",children:(0,a.jsx)(i.default,{src:_.archived?C.A:D.A,alt:"Archive",width:20,height:20})}),(0,a.jsxs)("button",{className:"flex gap-1.5 px-4 py-2.5 text-[12px] bg-[#5D56BD]   text-white rounded-lg border-[1.5px]",onClick:()=>{G(!0)},children:[(0,a.jsx)(i.default,{src:u,width:18,height:18,alt:"pencil"}),"Edit project"]})]})]})}),(0,a.jsx)("div",{className:"h-full gap-6 px-6 pl-7 py-[18px]",children:(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-7 w-[725px]",children:[(0,a.jsxs)("div",{className:" bg-white rounded-xl px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-[19px] text-[#333333] font-medium",children:"Campfire"}),(0,a.jsxs)("button",{className:"flex items-center  gap-1 font-light text-[#5D56BD] text-xs hover:text-[#4A4495]",children:["Show all",(0,a.jsx)(k.A,{className:"w-3 h-3"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[(0,a.jsx)(i.default,{src:"/assets/Campfire Illustration.png",alt:"No Messages",width:180,height:180}),(0,a.jsx)("p",{className:"text-gray-500 mt-4 text-[15px]",children:"No Messages"})]})]}),(0,a.jsxs)("div",{className:" bg-white rounded-xl px-4 py-4 h-[310px]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-[19px] text-[#333333] font-medium",children:"Notice Board"}),(0,a.jsxs)("button",{onClick:()=>{t(),s()},className:"flex items-center  gap-1 font-light text-[#5D56BD] text-xs hover:text-[#4A4495]",children:["Show all",(0,a.jsx)(k.A,{className:"w-3 h-3"})]})]}),ex.length>0?(0,a.jsx)("div",{className:"space-y-4 bg-[#fafafa] mt-6",children:ex.map(e=>(0,a.jsxs)("div",{className:" rounded-lg px-4 py-2",children:[(0,a.jsx)("h3",{className:"font-medium text-[#333333]",children:e.title}),(0,a.jsx)("p",{className:"text-[#4D4D4D] text-[13.5px] mb-3 mt-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(i.default,{src:"/assets/avtar.jpg",alt:"avatar",width:20,height:20,className:" bg-gray-200 rounded-full"}),(0,a.jsx)("span",{className:"ml-2 text-[12.5px]",children:"Test user 1"}),(0,a.jsx)("span",{className:"ml-10 text-[12.5px]",children:"Published on:\xa0"}),(0,a.jsx)("span",{className:"text-[12px]",children:new Date(e.postedOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}),(0,a.jsx)("span",{className:"mx-2"})]})]},e._id))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-2",children:[(0,a.jsx)(i.default,{src:"/assets/Notice Board Illustration.png",alt:"Empty Notice Board",width:135,height:135}),(0,a.jsx)("p",{className:"text-[#4D4D4D] mt-3 text-[14.5px]",children:"Empty Notice Board"}),(0,a.jsx)("button",{onClick:()=>{eo(!0)},className:"flex flex-row justify-center font-regular items-center px-6 mt-4 py-2.5 bg-[#5D56BD] text-white rounded-lg text-[13px]",children:"Post your first notice"})]})]}),(0,a.jsxs)("div",{className:" bg-white rounded-xl px-[19px] py-4 font-sans",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,a.jsxs)("h2",{className:"text-[#333333] font-medium text-[19px]",children:["Team Members ",(0,a.jsxs)("span",{className:"text-[#808080] font-light text-[16px] font-sans",children:["(",eA.length,")"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-3 mt-10",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 col-span-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[" ",$.slice(0,5).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-1 bg-[#FAFAFA]",children:[(0,a.jsx)(i.default,{src:"/assets/avtar.jpg",alt:"avtar",width:36,height:36,className:" bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"text-[13.5px] text-[#333333]",children:[(0,a.jsx)("p",{className:"font-regular",children:e.name}),(0,a.jsx)("p",{className:"text-[#4D4D4D] text-[10px]",children:e.role})]})]},t)),(0,a.jsx)("div",{className:"flex items-center space-x-4 p-3 bg-[#FAFAFA] justify-center text-[#333333]",children:(0,a.jsxs)("div",{className:"text-[15px]",children:["+",eA.length>=5?+eA.length-5:0]})})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center col-span-1 h-[115px]",children:(0,a.jsxs)("button",{className:"flex flex-col justify-center items-center px-4 text-[10px] pb-6 pt-3 bg-[#5D56BD] text-white rounded-lg w-full h-full font-regular",onClick:()=>K(!0),children:[(0,a.jsx)("div",{className:"mt-2 mb-2",children:(0,a.jsx)(i.default,{src:N.A,alt:"+",width:36,height:36,className:"pt-1.5"})}),(0,a.jsx)("div",{className:"text-[11.5px] font-light",children:"Manage Team"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-[19px] font-medium text-[#333333]",children:["Milestones ",(0,a.jsxs)("span",{className:"font-light text-[#808080] text-[14px]",children:["(",n.length,")"]})]}),(0,a.jsxs)("button",{className:"px-[15px] py-[5px] bg-[#5D56BD] text-white text-[12px] font-light rounded-[5px] flex items-center",onClick:()=>Z(!0),children:[(0,a.jsx)(d.A,{className:"w-6 h-6 mr-1 font-light text-white",strokeWidth:1}),"Add Milestone"]})]}),n.length>0?(0,a.jsxs)("div",{className:"space-y-1",children:[A.length>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-[#808080] text-[13px]",children:[" Pending ",(0,a.jsxs)("span",{children:["(",A.length,")"]})]}),A.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-[#FAFAFA] p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"w-full",onClick:()=>ez(e),children:[(0,a.jsx)("div",{className:"flex items-center  w-full",children:(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"font-normal text-[#333333] text-[12px]",children:e.title})})}),(0,a.jsxs)("div",{className:"flex text-[#4D4D4D] text-[12px] font-light mt-2",children:["Due date:"," ",(0,a.jsxs)("div",{className:"font-normal",children:[" ",new Date(e.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between ml-auto",children:(0,a.jsx)("button",{className:" rounded-lg",children:(0,a.jsx)(i.default,{src:"/assets/Edit Button.png",alt:"Edit",width:20,height:20,onClick:()=>eu(e._id,e.title)})})})]},t))]}):(0,a.jsx)("div",{}),(0,a.jsx)("hr",{className:"w-full py-2"}),E.length>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"text-[#808080] text-[13px]",children:[" Completed ",(0,a.jsxs)("span",{children:["(",E.length,")"]})]}),E.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-[#FAFAFA] p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"w-full",onClick:()=>ez(e),children:[(0,a.jsx)("div",{className:"flex items-center w-full",children:(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"font-normal text-[#333333] text-[12px]",children:e.title})})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"flex text-[#4D4D4D] text-[12px] font-light mt-2",children:["Due date:"," ",(0,a.jsxs)("div",{className:"font-normal",children:[" ",new Date(e.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})})]}),(0,a.jsx)("div",{className:"flex items-center justify-between ml-auto",children:(0,a.jsx)("button",{className:" rounded-lg",children:(0,a.jsx)(i.default,{src:"/assets/Edit Button.png",alt:"Edit",width:20,height:20,onClick:()=>eu(e._id,e.title)})})})]},t))]}):(0,a.jsx)("div",{})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)(i.default,{src:"/assets/Milestone Illustration.png",alt:"No Milestone",width:115,height:115}),(0,a.jsx)("p",{className:"text-[#4D4D4D] mt-2 text-[14.5px]",children:"No Milestone"})]})]})]}),(0,a.jsxs)("div",{className:"w-[310px] bg-[#252743] text-white rounded-xl py-4 px-4 translate-x-3 font-sans h-fit",children:[(0,a.jsx)("h2",{className:"text-[19px]  mb-4",children:"Project Status"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("span",{className:"text-[14.5px]",children:"On Track"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-lg text-[13px] font-medium text-[#13BC1A] translate-x-2",children:"Updated Status"})]}),(0,a.jsx)("div",{className:"mb-6",children:E.length>0?n.filter(e=>"pending"!==e.status).map(e=>(0,a.jsxs)("div",{className:"bg-white text-[#4D4D4D] pl-2 pt-2 pb-1 mb-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex flec-row items-center",children:[(0,a.jsx)(i.default,{src:"/assets/avtar.jpg",alt:"avatar",width:16,height:16,className:" bg-gray-200 rounded-full"}),(0,a.jsx)("h3",{className:" ml-2 text-[#4D4D4D] text-[12px]",children:e.assignedTo[0].fullName})]}),(0,a.jsx)("div",{className:"text-wrap overflow-y-auto text-[12px] text-[#333333]",children:e.title}),(0,a.jsxs)("div",{className:"text-[11px] text-[$4D4D4D] pt-2",children:[(0,a.jsx)("span",{className:"font-light",children:" Due date: "}),"   ",new Date(e.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]}),(0,a.jsxs)("div",{className:" text-[11px] text-[$4D4D4D] py-1",children:[(0,a.jsx)("span",{className:"font-light",children:"Completed on:"})," ",new Date(e.completedOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]},e._id)):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-col items-center justify-center pt-12",children:(0,a.jsx)(i.default,{src:"/assets/Empty Project Illustration.png",alt:"Empty Status",width:110,height:250,className:""})}),(0,a.jsx)("p",{className:"text-white mt-3 ml-14 font-light text-[15px]",children:"Empty Projects Status"})]})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"relative",children:I.length>0?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex flex-col mb-4",children:(0,a.jsxs)("div",{className:"flex items-center mt-10",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{className:" text-[13.5px]",children:["Due Date  ",(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:" text-[11.5px] font-light text-[#FFFFFF]",children:[new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short"}),"(Today)"]})})]})]})}),I.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"mb-6 pl-8",children:[(0,a.jsx)("div",{className:"left-3 top-0 h-full w-px bg-gray-600"}),(0,a.jsx)("div",{className:"absolute left-0 w-6 h-6 rounded-full bg-[#FFB13B] flex items-center justify-center text-sm translate-y-7",children:t+1}),(0,a.jsxs)("div",{className:"pl-2 py-2 bg-[#2E3251] rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(i.default,{src:"/assets/avtar.jpg",alt:"hlo",width:16,height:16,className:"rounded-full"}),(0,a.jsx)("span",{className:"ml-2 text-[11px] font-light",children:null===(s=e.assignedTo[0])||void 0===s?void 0:s.fullName})]}),(0,a.jsx)("p",{className:"text-[12px] font-light",children:e.title})]})]},t)})]}):(0,a.jsxs)("div",{className:"mt-20",children:[(0,a.jsxs)("div",{className:"flex items-center mt-10",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{className:" text-[13.5px]",children:["Due Date  ",(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:" text-[11.5px] font-light text-[#FFFFFF]",children:[new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short"}),"(Today)"]})})]})]}),(0,a.jsx)("div",{className:"absolute left-0 w-6 h-6 rounded-full bg-[#FFB13B] flex items-center justify-center text-sm mt-10",children:0}),(0,a.jsx)("div",{className:"pl-2 py-2 pt-3 bg-[#2E3251] rounded-lg ml-7 mt-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center mt-2 mb-4 ml-1",children:[(0,a.jsx)(i.default,{src:z,alt:"No Milestone",width:120,height:120,className:"z-50"}),(0,a.jsx)("div",{className:"font-light text-xs",children:"0 Due Date Found"})]})})]})})})]})]})})]}),L&&(0,a.jsx)(g,{isOpen:L,onClose:()=>G(!1)}),et&&(0,a.jsx)(b,{mutate:eF,milestoneFromBackend:n,mileStoneId:er,milestoneValue:ea,onClose:()=>es(!1)}),Y&&(0,a.jsx)(j.A,{handleMileStoneFetch:()=>{eF()},onClose:()=>Z(!1),teamMembers:eA,setmileStone:Q,fromOverview:!0}),q&&(0,a.jsx)(v.A,{mutate:eB,fromOverview:!0,onClose:()=>{eB(),K(!1)},onAddMember:eN,teamMembers:eA}),ed&&(0,a.jsx)(U,{isOpen:ed,onClose:()=>eo(!1),messageOptions:eg,setMessagesOptions:ej,NoticeBoardData:ex,setNoticeBoardData:em})]})]})})}let X=e=>{let{isOpen:t,onClose:s,listId:r}=e,[n,c]=(0,l.useState)([]),[d,u]=(0,l.useState)(null),{id:g}=(0,m.useParams)(),[j,b]=(0,l.useState)([]),[N,v]=(0,l.useState)(""),[y,w]=(0,l.useState)(""),[C,D]=(0,l.useState)(""),[B,k]=(0,l.useState)([]),[S,E]=(0,l.useState)(""),[F,I]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(g,"/members"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});c([...e.data.members]),b([...e.data.members])}catch(e){console.error("Error fetching users:",e)}})()},[g]);let T=e=>{b(j.filter(t=>t.id!==e))},M=async()=>{if(!N){p.oR.error("Please fill description");return}try{await x.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos"),{formData:{todoListId:r,task:N,projectId:g,dueDate:y,assignedTo:B,notifyUsers:j,notes:C}},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})}catch(e){console.error("Error fetching users:",e)}v(""),w(""),u(null),b([]),D(""),s()};if(!t)return null;let U=(e,t)=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{}),(0,a.jsx)("div",{className:"z-10 fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center overflow-y-auto no-scrollbar",children:(0,a.jsxs)("div",{className:"bg-white rounded-[10px] w-[1120px] h-[580px] mt-[360px] ml-4 pl-3 shadow-sm mb-32",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-2 py-3",children:[(0,a.jsx)("h2",{className:"text-[18px] text-[#333333] font-medium",children:"Add To-Do"}),(0,a.jsx)("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 px-2 py-3",children:[(0,a.jsxs)("div",{className:"space-y-[20px] w-[530px] ",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-[13.5px] font-normal text-[#333333]",children:"To-Do"}),(0,a.jsx)("input",{type:"text",placeholder:"Describe...",className:"w-[530px] h-[62px] border rounded-lg placeholder-[#B3B3B3] text-[13.5px] px-[7px] pb-5 border-[#CCCCCC] placeholder-[12px] -translate-y-2",value:N,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333]",children:"Due Date"}),(0,a.jsx)("input",{type:"date",className:"w-[180px] p-2 border rounded-lg border-[#CCCCCC] placeholder-[#B3B3B3] text-[13.5px] px-2   placeholder-[12px] ",value:y,onChange:e=>w(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333]",children:"Assigned to"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md",children:[(0,a.jsx)(A.A,{className:"absolute ml-2 w-4 h-4 text-[#B3B3B3]"}),(0,a.jsx)("input",{type:"text",placeholder:"Search team member",value:S,onChange:e=>E(e.target.value),className:"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]"})]}),(0,a.jsx)("div",{className:"w-full h-[160px] border rounded-md border-[#CCCCCC] mt-2",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1 py-2 px-2",children:n.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{onClick:()=>U(e.id,e.name),className:"relative flex items-center bg-[#FAFAFA] text-[#333333] gap-1.5 px-4 py-2 hover:cursor-pointer",children:[B.includes(e.id)&&(0,a.jsx)("div",{className:"absolute top-[10px] right-0 bg-[#6BBD56] text-[#FAFAFA] text-xs rounded- w-4 h-4 flex items-center justify-center z-50",children:(0,a.jsx)("span",{className:"text-white",children:"✓"})}),(0,a.jsx)(i.default,{src:f.A,alt:e.name,width:36,height:36,className:"rounded-full"}),(0,a.jsxs)("div",{className:"text-[12px]",children:[(0,a.jsx)("p",{className:" text-[#333333]",children:e.name}),(0,a.jsxs)("p",{className:"text-[10px] text-[#4D4D4D]",children:["(","".concat(e.role[0].toUpperCase()).concat(e.role.slice(1)),")"]})]})]},e.id)}))})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 pr-4 -translate-x-1",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[13.5px] text-[#333333]",children:"When done, notify"}),(0,a.jsxs)("div",{className:"-translate-y-2",children:[(0,a.jsxs)("div",{className:"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md",children:[(0,a.jsx)(A.A,{className:"absolute ml-2 w-4 h-4 text-[#B3B3B3] "}),(0,a.jsx)("input",{type:"text",placeholder:"Search team member",value:F,onChange:e=>I(e.target.value),className:"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]"})]}),(0,a.jsx)("div",{className:"flex -space-x-2 gap-4 mt-2 border border-[#CCCCCC] rounded-md h-[80px]",children:j.map(e=>(0,a.jsx)("div",{className:"p-1 py-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-[#5D56BD] text-white px-1 ml-1 rounded-full font-regular text-[13.5px] py-[1.5px]",children:[(0,a.jsx)(i.default,{src:f.A,alt:"",className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{className:" font-light text-[11px]",children:e.name}),(0,a.jsx)("button",{onClick:()=>T(e.id),className:" bg-[#5D56BD] rounded-full p-1",children:(0,a.jsx)(o.A,{className:"w-4 h-4",strokeWidth:1.5})})]},e.id)}))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-[13.5px] text-[#333333]",children:["Notes ",(0,a.jsx)("span",{className:"text-[#808080]",children:"(Optional)"})]}),(0,a.jsx)(R,{notes:C,setNotes:D,fromTodo:!0})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-5 pr-[28px] mt-2",children:[(0,a.jsx)("button",{onClick:M,className:"px-10 py-3 font-light bg-[#5D56BD] text-white rounded-lg   hover:bg-[#4b479c] text-[13.5px]",children:"Add To-Do"}),(0,a.jsx)("button",{onClick:s,className:"px-8 py-3 bg-[#999999] text-white hover:bg-gray-600  rounded-lg text-[13.5px]",children:"Cancel"})]})]})})]})},Q=e=>{let{isOpen:t,onClose:s,projectId:r,TodoId:n,revalidateTodos:d}=e,[o,m]=(0,l.useState)(""),[h,p]=(0,l.useState)(!1),[u,g]=(0,l.useState)(!1),[j,A]=(0,l.useState)(null),[b,N]=(0,l.useState)(""),[v,y]=(0,l.useState)(""),w=(0,O.s)("".concat(localStorage.getItem("token"))),C=(e,t)=>{N(e),y(t),A("")},D=()=>{y(""),N("")},S=async e=>{console.log(v,"New text");try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/").concat(n,"/").concat(e),{newComment:v},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),(0,W.j)(U),d(),A(null),N("")}catch(e){console.log("Error in editing Todos Comment ")}},[E,I]=(0,l.useState)({_id:"",task:"",createdBy:{fullName:""},dueDate:new Date,assignedTo:[],notifyUsers:[],notes:"",comments:[],updatedAt:new Date,status:"",createdAt:new Date}),[T,M]=(0,l.useState)({_id:"",name:"",pinned:!1,archived:!1});(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});M(e.data)}catch(e){console.error("Error fetching project:",e)}})()},[r]);let R=async e=>{let t=await x.A.get(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});return I(t.data),t.data},U="".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/").concat(n),{data:z,error:J,isLoading:H}=(0,B.Ay)(U,R),X=()=>{s(!1),console.log(t)},Q=async(e,t)=>{try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/toogleTodo/").concat(e),{status:"Pending"===t?"Completed":"Pending"},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),d(),(0,W.j)(U)}catch(e){console.log("Error in ToDos overview page",e)}},q=async()=>{try{await x.A.delete("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/").concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),(0,W.j)(U),d(),X()}catch(e){console.error("Error deleting todo:",e)}},K=async e=>{try{await x.A.delete("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/").concat(n,"/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),(0,W.j)(U),d()}catch(e){console.error("Error deleting todo:",e)}},Y=async()=>{if(o.trim()){p(!0);try{await x.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/").concat(n,"/comment"),{comment:o},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),(0,W.j)(U),m("")}catch(t){if(x.A.isAxiosError(t)){var e;console.error("Error posting comment:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message)}else console.error("Error posting comment:",t)}finally{p(!1)}}};return t?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"bg-[#F8F7FA] min-h-screen",children:(0,a.jsxs)("div",{className:"pb-6",children:[(0,a.jsx)("div",{className:"pl-2 pr-6 pb-0 mt-3 font-sans ml-[22px] ",children:(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:null==T?void 0:T.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"ToDos"})]})})}),(0,a.jsxs)("button",{className:"flex font-sans flex-row justify-center items-center px-[13px] py-2 bg-[#5D56BD] text-white rounded-lg mx-4  ml-[28px] -translate-y-3 font-light",onClick:X,children:[(0,a.jsx)(L,{className:"text-[13px] h-5 w-5",strokeWidth:1.5}),(0,a.jsx)("span",{className:"text-[13px] ml-2",children:"Go back"})]}),(0,a.jsxs)("div",{className:"mx-4 my-2 p-4 bg-white rounded-lg  mt-7 ml-7 font-sans",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsx)("div",{className:"flex-1 mt-[2px]",children:(0,a.jsxs)("div",{className:"flex p-2 gap-5  border-b border-[#000000]/20",children:[(0,a.jsx)("div",{onClick:()=>Q(null==E?void 0:E._id,null==E?void 0:E.status),children:(null==E?void 0:E.status)==="Pending"?(0,a.jsx)("div",{className:"py-7 px-[30px] flex items-center justify-center bg-[#CCCBCB] text-white w-12 h-14 text-[10px] rounded-xl hover:bg-[#B5DEAB]",children:"Mark this Complete"}):(0,a.jsx)("div",{className:"flex items-center justify-center text-white w-[60px] h-[60px] text-[10px] rounded-xl bg-[#6BBD56]",children:(0,a.jsx)(F,{className:"stroke-white text-white w-10 h-10"})})}),(0,a.jsx)("h1",{className:"text-[22px]  text-[#4D4D4D]",children:E.task}),(0,a.jsxs)("div",{className:"border h-[29px] ml-auto -translate-y-2 p-[3px] ",children:[(0,a.jsx)(G,{className:"text-[#666666] p-[2px] ",onClick:()=>g(e=>!e)}),(0,a.jsx)("div",{children:u?(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",children:[(0,a.jsx)(i.default,{src:P,alt:"Edit",width:22,height:22,className:"ml-3 mr-3"}),"Edit"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:q,children:[(0,a.jsx)(i.default,{src:V,alt:"logout",width:22,height:22,className:" ml-3 mr-3"}),"Delete"]})]}):(0,a.jsx)(a.Fragment,{})})]})]})})}),(0,a.jsxs)("div",{className:"mt-4 gap-6 ml-2",children:[(0,a.jsxs)("div",{className:"mt-4 text-[15px] text-[#4D4D4D]",children:["Added by\xa0\xa0:\xa0\xa0\xa0",(0,a.jsx)("span",{className:" text-[#333333]",children:null==E?void 0:E.createdBy.fullName}),(0,a.jsxs)("span",{className:"text-[#333333]",children:[" on ",(null==E?void 0:E.createdAt)?new Date(E.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"No ue date"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,a.jsx)("div",{className:" text-[15px] text-[#4D4D4D]",children:"Assigned to \xa0\xa0:\xa0\xa0"}),(0,a.jsx)("div",{className:"flex -space-x-2 gap-4",children:null==E?void 0:E.assignedTo.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-center items-center bg-[#5D56BD] rounded-full  px-1 py-1",children:[(0,a.jsx)(i.default,{src:f.A,alt:"photo",className:"rounded-full",width:24,height:24}),(0,a.jsx)("div",{className:"text-[11px] text-white rounded-xl pl-2 -translate-x-[6px]",children:e.fullName})]}))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,a.jsx)("span",{className:"text[15px] text-[#4D4D4D]",children:"When doen, notify \xa0\xa0:\xa0\xa0"}),(0,a.jsx)("div",{className:"flex -space-x-2 gap-4",children:null==E?void 0:E.notifyUsers.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-center items-center bg-[#5D56BD] rounded-full  px-1 py-1",children:[(0,a.jsx)(i.default,{src:f.A,alt:"photo",className:"rounded-full",width:24,height:24}),(0,a.jsx)("div",{className:"text-[11px] text-white rounded-xl pl-2 -translate-x-[6px]",children:e.fullName})]}))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,a.jsx)("span",{className:"text-[15px] text-[#4D4D4D]",children:"Due date \xa0\xa0:\xa0\xa0"}),(0,a.jsx)("span",{className:"text-sm ",children:(null==E?void 0:E.dueDate)?new Date(E.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"No ue date"})]})]})]}),(0,a.jsxs)("div",{className:"flex mb-6",children:[(0,a.jsx)("h2",{className:"text-[15px] text-[#333333] mb-2 ml-2",children:"Note\xa0\xa0:\xa0\xa0"}),(0,a.jsx)("p",{className:"list-disc pl-5 space-y-1",children:(0,a.jsx)("span",{className:"text-sm text-gray-600",children:null==E?void 0:E.notes})})]})]}),(0,a.jsxs)("div",{className:"ml-[26px] my-4 bg-white p-4 rounded-lg mt-6 w-[1020px] ",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h2",{className:"text-[19px] font-medium text-[#333333] mb-4",children:"Comments"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-9 flex gap-3",children:[(0,a.jsx)(i.default,{src:f.A,alt:"avatar",className:"w-12 h-12 rounded-full",width:48,height:48}),(0,a.jsx)("div",{className:"flex flex-grow",children:(0,a.jsx)(_,{notes:o,setNotes:m,fromTodo:!1})})]}),(0,a.jsx)("button",{onClick:Y,className:"px-8 py-2 bg-[#5D56BD] text-white rounded-lg ml-[890px] mt-4 text-[12px]",disabled:h,children:h?"Posting...":"Send"})]})]}),(0,a.jsx)("div",{className:"space-y-4 mt-6 ml-2",children:(null==E?void 0:E.comments)&&E.comments.length>0?E.comments.map((e,t)=>(0,a.jsxs)("div",{className:"gap-3 border-t-[1.5px] border-[#CCCCCC] pt-6 ",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(i.default,{src:f.A,alt:"avatar",className:"rounded-full",width:48,height:48}),(0,a.jsxs)("div",{className:"flex-1 ml-[20px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[#333333]",children:[(0,a.jsx)("span",{className:"font-medium text-[16px]",children:e.commentedBy.fullName}),(0,a.jsxs)("div",{className:"text-[17px] font-medium",children:["(",e.commentedBy.role,")"]})]}),(0,a.jsxs)("div",{className:"text-[13.5px] text-[#666666] mb-1",children:[new Date(e.commentedOn).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})," "]})]})]}),(0,a.jsxs)("div",{className:"",children:[e.commentedBy._id===w.id?(0,a.jsx)("div",{className:"ml-[710px] border h-[29px] -translate-x-3 -translate-y-2 p-[3px]",children:(0,a.jsx)(G,{className:"text-[#666666] p-[2px] cursor-pointer",onClick:()=>A(j===e._id?null:e._id)})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{children:j?(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>C(e._id,e.comment),children:[(0,a.jsx)(i.default,{src:P,alt:"Edit",width:22,height:22,className:"ml-3 mr-3"}),"Edit"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>K(e._id),children:[(0,a.jsx)(i.default,{src:V,alt:"logout",width:22,height:22,className:" ml-3 mr-3"}),"Delete"]})]}):(0,a.jsx)(a.Fragment,{})})]})]}),b===e._id?(0,a.jsxs)("div",{className:"ml-[70px] mt-2 flex flex-col",children:[(0,a.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),className:"w-full min-h-[100px] p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5D56BD]"}),(0,a.jsxs)("div",{className:"flex justify-end mt-2 space-x-2",children:[(0,a.jsx)("button",{onClick:D,className:"px-4 py-2 text-[12px] border border-gray-300 rounded-lg text-gray-600",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>S(e._id),className:"px-8 py-2 bg-[#5D56BD] text-white rounded-lg text-[12px]",disabled:h,children:h?"Saving...":"Save"})]})]}):(0,a.jsx)("p",{className:"text-[15px] text-[#333333] ml-[70px] mt-2",children:e.comment})]},t)):(0,a.jsx)(a.Fragment,{})})]})]})})}):null};var q=s(4556);let K={src:"/_next/static/media/Edit Button.9bbb2a2b.png",height:30,width:30,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEX/sTv/sDr/tD7/sDj/ulL/rjL/0Yr/5b3/2qT/yHdOXRIlAAAAAnRSTlPY2cB96F8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAA1SURBVHicJcuxDcAwEMNAmdTbzv4LB0EqFgcmqJIgAxKZno1hup9TYy+7Q+y5nY/sV7L+fb0e1QDf6McMeAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},Y=e=>{let{isOpen:t,onClose:s,listId:r,todoId:n}=e,[c,d]=(0,l.useState)([]),[u,g]=(0,l.useState)(null),{id:j}=(0,m.useParams)(),[b,N]=(0,l.useState)([]),[v,y]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[D,B]=(0,l.useState)(""),[k,S]=(0,l.useState)([]),[E,F]=(0,l.useState)(""),[I,T]=(0,l.useState)(""),[M,U]=(0,l.useState)();(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/").concat(j,"/members"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});d([...e.data.members]),N([...e.data.members])}catch(e){console.error("Error fetching users:",e)}})()},[j]);let z=e=>{N(b.filter(t=>t.id!==e))};(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/").concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(U(e.data),y(e.data.task),e.data.dueDate&&("string"==typeof e.data.dueDate?C(e.data.dueDate.split("T")[0]):e.data.dueDate.isoString?C(e.data.dueDate.isoString.split("T")[0]):e.data.dueDate instanceof Date&&C(e.data.dueDate.toISOString().split("T")[0])),e.data.assignedTo){if("object"==typeof e.data.assignedTo&&e.data.assignedTo._id){S([e.data.assignedTo._id]);let t=c.find(t=>t.id===e.data.assignedTo._id);t&&g(t)}else Array.isArray(e.data.assignedTo)&&S(e.data.assignedTo.map(e=>e._id||e))}g(e.data.assignedTo),B(e.data.notes)}catch(e){console.log("Error in fetching Todos at edit modal",e)}})()},[]);let _=async()=>{if(!v){p.oR.error("Please fill description");return}let e={todoListId:r,task:v,projectId:j,dueDate:w,assignedTo:k,notifyUsers:b.map(e=>e.id),notes:D};try{await x.A.patch("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/todos/editTodo/").concat(n),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),s()}catch(e){console.error("Error updating todo:",e)}};if(!t)return null;let P=(e,t)=>{S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,a.jsxs)(a.Fragment,{children:[console.log(M,"Previous Data"),(0,a.jsx)(h.A,{}),(0,a.jsx)("div",{className:"z-10 fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center overflow-y-auto no-scrollbar",children:(0,a.jsxs)("div",{className:"bg-white rounded-[10px] w-[1120px] h-[580px] mt-[360px] ml-4 pl-3 shadow-sm mb-32",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-2 py-3",children:[(0,a.jsx)("h2",{className:"text-[18px] text-[#333333] font-medium",children:"Edit To-Do"}),(0,a.jsx)("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 px-2 py-3",children:[(0,a.jsxs)("div",{className:"space-y-[20px] w-[530px] ",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-[13.5px] font-normal text-[#333333]",children:"To-Do"}),(0,a.jsx)("input",{type:"text",placeholder:"Describe...",className:"w-[530px] h-[62px] border rounded-lg placeholder-[#B3B3B3] text-[13.5px] px-[7px] pb-5 border-[#CCCCCC] placeholder-[12px] -translate-y-2",value:v,onChange:e=>y(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333]",children:"Due Date"}),(0,a.jsx)("input",{type:"date",className:"w-[180px] p-2 border rounded-lg border-[#CCCCCC] placeholder-[#B3B3B3] text-[13.5px] px-2   placeholder-[12px] ",value:w,onChange:e=>C(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"block text-[13.5px] text-[#333333]",children:"Assigned to"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md",children:[(0,a.jsx)(A.A,{className:"absolute ml-2 w-4 h-4 text-[#B3B3B3]"}),(0,a.jsx)("input",{type:"text",placeholder:"Search team member",value:E,onChange:e=>F(e.target.value),className:"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]"})]}),(0,a.jsx)("div",{className:"w-full h-[160px] border rounded-md border-[#CCCCCC] mt-2",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1 py-2 px-2",children:c.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{onClick:()=>P(e.id,e.name),className:"relative flex items-center bg-[#FAFAFA] text-[#333333] gap-1.5 px-4 py-2 hover:cursor-pointer",children:[k.includes(e.id)&&(0,a.jsx)("div",{className:"absolute top-[10px] right-0 bg-[#6BBD56] text-[#FAFAFA] text-xs rounded- w-4 h-4 flex items-center justify-center z-50",children:(0,a.jsx)("span",{className:"text-white",children:"✓"})}),(0,a.jsx)(i.default,{src:f.A,alt:e.name,width:36,height:36,className:"rounded-full"}),(0,a.jsxs)("div",{className:"text-[12px]",children:[(0,a.jsx)("p",{className:" text-[#333333]",children:e.name}),(0,a.jsxs)("p",{className:"text-[10px] text-[#4D4D4D]",children:["(","".concat(e.role[0].toUpperCase()).concat(e.role.slice(1)),")"]})]})]},e.id)}))})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2 pr-4 -translate-x-1",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[13.5px] text-[#333333]",children:"When done, notify"}),(0,a.jsxs)("div",{className:"-translate-y-2",children:[(0,a.jsxs)("div",{className:"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md",children:[(0,a.jsx)(A.A,{className:"absolute ml-2 w-4 h-4 text-[#B3B3B3] "}),(0,a.jsx)("input",{type:"text",placeholder:"Search team member",value:I,onChange:e=>T(e.target.value),className:"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]"})]}),(0,a.jsx)("div",{className:"flex -space-x-2 gap-4 mt-2 border border-[#CCCCCC] rounded-md h-[80px]",children:b.map(e=>(0,a.jsx)("div",{className:"p-1 py-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-[#5D56BD] text-white px-1 ml-1 rounded-full font-regular text-[13.5px] py-[1.5px]",children:[(0,a.jsx)(i.default,{src:f.A,alt:"",className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{className:" font-light text-[11px]",children:e.name}),(0,a.jsx)("button",{onClick:()=>z(e.id),className:" bg-[#5D56BD] rounded-full p-1",children:(0,a.jsx)(o.A,{className:"w-4 h-4",strokeWidth:1.5})})]},e.id)}))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"block text-[13.5px] text-[#333333]",children:["Notes ",(0,a.jsx)("span",{className:"text-[#808080]",children:"(Optional)"})]}),(0,a.jsx)(R,{notes:D,setNotes:B,fromTodo:!0})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-5 pr-[28px] mt-2",children:[(0,a.jsx)("button",{onClick:_,className:"px-10 py-3 font-light bg-[#5D56BD] text-white rounded-lg   hover:bg-[#4b479c] text-[13.5px]",children:"Save"}),(0,a.jsx)("button",{onClick:s,className:"px-8 py-3 bg-[#999999] text-white hover:bg-gray-600  rounded-lg text-[13.5px]",children:"Cancel"})]})]})})]})},Z="https://projectmanagementbackend-0rjw.onrender.com/api";function $(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(""),[n,h]=(0,l.useState)(!1),[p,u]=(0,l.useState)(!1),[g,j]=(0,l.useState)(""),[A,b]=(0,l.useState)({}),{id:N}=(0,m.useParams)(),[v,y]=(0,l.useState)(""),[w,C]=(0,l.useState)(!1),[D,S]=(0,l.useState)(""),[E,F]=(0,l.useState)(""),[I,T]=(0,l.useState)({_id:"",name:"",pinned:!1,archived:!1}),M=localStorage.getItem("token"),R=async(e,t)=>{if(!t)return[];try{return(await x.A.get(e,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){throw console.error("Error fetching todo lists:",e),e}};(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(N),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});T(e.data)}catch(e){console.error("Error fetching project:",e)}})()},[N]);let{data:U=[],error:z}=(0,B.Ay)(M?["".concat(Z,"/todolists/").concat(N),M]:null,e=>{let[t,s]=e;return R(t,localStorage.getItem("token"))},{revalidateOnFocus:!1,dedupingInterval:2e3}),{data:_={}}=(0,B.Ay)(M&&U.length>0?["todos",U.map(e=>e._id),M]:null,async()=>{let e={};return await Promise.all(U.map(async t=>{try{let s=await x.A.get("".concat(Z,"/todos/list/").concat(t._id),{headers:{Authorization:"Bearer ".concat(M)}});e[t._id]=s.data.map(e=>({_id:e._id,description:e.notes||"No Description",createdBy:e.createdBy.fullName||"",Task:e.task||" ",dueDate:e.dueDate,completed:"Completed"===e.status}));let a={...A};a[t._id]={pending:e[t._id].filter(e=>!e.completed),completed:e[t._id].filter(e=>e.completed)},b(a)}catch(s){console.error("Error fetching todos:",s),e[t._id]=[]}})),e},{revalidateOnFocus:!1,dedupingInterval:2e3}),O=async()=>{if(s.trim())try{await x.A.post("".concat(Z,"/todolists"),{title:s,projectId:N},{headers:{Authorization:"Bearer ".concat(M)}}),(0,W.j)(["".concat(Z,"/todolists/").concat(N),M]),r(""),t(!1)}catch(e){console.error("Error creating todo list:",e)}},L=async e=>{try{await x.A.put("".concat(Z,"/todolists/").concat(e),{title:D},{headers:{Authorization:"Bearer ".concat(M)}}),j(""),ea(""),U.map(t=>t._id===e?{...t,title:D}:t),(0,W.j)(["".concat(Z,"/todolists/").concat(N),M]),ea(""),F("")}catch(e){console.log("Error in updating Todos Name")}},J=async e=>{try{await x.A.delete("".concat(Z,"/todolists/").concat(e),{headers:{Authorization:"Bearer ".concat(M)}}),(0,W.j)(["".concat(Z,"/todolists/").concat(N),M])}catch(e){console.log("Error in updating Todos Name")}},H=async(e,t)=>{try{await x.A.delete("".concat(Z,"/todos/").concat(e),{headers:{Authorization:"Bearer ".concat(M)}});let s={...A};s[t].pending=s[t].pending.filter(t=>t._id!==e),s[t].completed=s[t].completed.filter(t=>t._id!==e),b(s),(0,W.j)(["".concat(Z,"/todolists/").concat(N),M]),(0,W.j)(["todos",U.map(e=>e._id),M])}catch(e){console.error("Error deleting todo:",e)}},[$,ee]=(0,l.useState)(""),et=e=>{ee(e),u(!0)},[es,ea]=(0,l.useState)(""),[el,er]=(0,l.useState)(""),en=e=>{""===E?F(e):F("")},[ec,ei]=(0,l.useState)(!1),ed=(e,t)=>{y(e),ei(!0)},eo=(e,t)=>{S(t),es.includes(e)||ea(e)};return(0,a.jsx)(a.Fragment,{children:p?(0,a.jsx)(Q,{isOpen:p,onClose:()=>u(!1),projectId:"string"==typeof N?N:null,TodoId:$,revalidateTodos:()=>{(0,W.j)(["".concat(Z,"/todolists/").concat(N),M]),(0,W.j)(["todos",U.map(e=>e._id),M])}}):(0,a.jsxs)("div",{className:"h-screen bg-[#F8F7FA] flex flex-col font-sans",children:[(0,a.jsx)("div",{className:"pl-7 pr-6 pb-0 mt-2",children:(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:null==I?void 0:I.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"ToDo's"})]})})}),(0,a.jsxs)("div",{className:"px-8 py-[2px]",children:[(0,a.jsxs)("button",{className:"flex items-center font-regular text-[12px] px-[20px] py-2 bg-[#5D56BD] text-white rounded-lg",onClick:()=>t(!0),children:[(0,a.jsx)(d.A,{className:"h-5 w-5 mr-2",strokeWidth:2})," Create List"]}),n&&(0,a.jsx)(X,{isOpen:n,onClose:()=>{h(!1),(0,W.j)(["".concat(Z,"/todolists/").concat(N),M]),(0,W.j)(["todos",U.map(e=>e._id),M])},listId:g}),ec&&(0,a.jsx)(Y,{isOpen:ec,onClose:()=>{ei(!1),(0,W.j)(["".concat(Z,"/todolists/").concat(N),M]),(0,W.j)(["todos",U.map(e=>e._id),M])},listId:g,todoId:v}),e&&(0,a.jsxs)("div",{className:"bg-white mt-9 px-4 py-2 rounded-xl w-[1010px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pr-3",children:[(0,a.jsx)("div",{className:"text-[18.5px] font-medium mt-2",children:"Create list"}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(o.A,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center",children:[(0,a.jsxs)("div",{className:"w-3/4",children:[(0,a.jsx)("div",{className:"text-[#333333] text-[13.5px]",children:"List Name"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&O()},className:"w-[525px] text-[#333333] border-[1px] text-[13.5px] border-[#CCCCCC] placeholder-[#B3B3B3] rounded-md p-2 mb-2 h-10 mt-1",placeholder:"Enter list name...."})]}),(0,a.jsx)("button",{className:"py-[9px] ml-auto px-8 bg-[#5D56BD] text-white rounded-lg flex items-center text-[13.5px] font-normal",onClick:O,children:"Create"})]})]}),U.length>0?(0,a.jsx)("div",{className:"mt-7 px-1 py-2",children:U.map((e,t)=>{var s,l,r,n,c,o,x,m,p,u,g,b,N;return(0,a.jsx)("div",{children:es.includes(e._id)?(0,a.jsxs)("div",{className:"bg-white px-2 py-[3px] rounded-xl mt-1 mb-2 w-[1010px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"text",className:"text-[#333333] text-[14px] border rounded px-3 py-2 border-[#CCCCCC] w-[500px]",value:D,onChange:e=>S(e.target.value)})}),(0,a.jsxs)("div",{className:"flex gap-4 mr-3",children:[(0,a.jsx)("button",{className:"flex items-center text-[11.5px] px-[30px] py-[5px] bg-[#5D56BD] text-white rounded-[4px] font-normal",onClick:()=>{L(e._id)},children:"Save"}),(0,a.jsx)("button",{className:"flex items-center text-[11.5px] px-[5px] py-[5px] border border-[#CCCCCC] text-white rounded-[4px] font-normal",onClick:()=>{J(e._id)},children:(0,a.jsx)(i.default,{src:q.A,alt:"Delete",className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(null===(s=A[e._id])||void 0===s?void 0:s.pending.length)>0?(0,a.jsx)("div",{children:(0,a.jsxs)("h4",{className:"font-regular text-[#808080] mb-2 text-[13.5px]",children:["Pending (",A[e._id].pending.length||0,")"]})}):(0,a.jsx)("div",{}),null===(l=A[e._id])||void 0===l?void 0:l.pending.map(t=>(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 p-4 bg-[#FAFAFA] ",onClick:()=>et(t._id),children:(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"text-[12.5px] font-sans text-[#333333]",children:t.Task}),(0,a.jsxs)("div",{className:"flex text-sm text-gray-500 mt-1",children:[(0,a.jsx)("span",{className:"rounded-full",children:(0,a.jsx)(i.default,{src:f.A,width:18,height:18,alt:"user",className:"rounded-full"})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-2",children:null==t?void 0:t.createdBy})," "," ",(0,a.jsxs)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-9",children:[" ",(0,a.jsx)("span",{className:"font-light",children:"Due date:"})," ",new Date(t.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]})},t._id),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>ed(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"edit",src:K,width:16,height:16})}),(0,a.jsx)("button",{onClick:()=>H(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"delete",src:"/assets/myProjects/Trash Icon.png",width:16,height:16})})]})]}))]}),(0,a.jsxs)("div",{className:"mt-4",children:[(null===(r=A[e._id])||void 0===r?void 0:r.completed.length)>0?(0,a.jsx)("div",{children:(0,a.jsxs)("h4",{className:" text-[#808080] mb-2 text-[13.5px]",children:["Completed(",(null===(n=A[e._id])||void 0===n?void 0:n.completed.length)||0,")"]})}):(0,a.jsx)("div",{}),null===(c=A[e._id])||void 0===c?void 0:c.completed.map(t=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-[#FAFAFA]",onClick:()=>et(t._id),children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"text-[12.5px] font-sans text-[#333333]",children:t.Task}),(0,a.jsxs)("div",{className:"flex text-sm text-gray-500 mt-1",children:[(0,a.jsx)("span",{className:"rounded-full",children:(0,a.jsx)(i.default,{src:f.A,width:18,height:18,alt:"user",className:"rounded-full"})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-2",children:null==t?void 0:t.createdBy})," "," ",(0,a.jsxs)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-9",children:[" ",(0,a.jsx)("span",{className:"font-light",children:"Due date:"})," ",new Date(t.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>ed(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"edit",src:K,width:16,height:16})}),(0,a.jsx)("button",{onClick:()=>H(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"delete",src:"/assets/myProjects/Trash Icon.png",width:16,height:16})})]})]},t._id))]})]},e._id):(0,a.jsxs)("div",{className:"bg-white px-2 py-[3px] rounded-xl mt-1 mb-4 w-[1010px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-[#333333] font-medium text-[18px]",children:[e.title,(0,a.jsxs)("span",{className:"text-[#808080] text-[15px] ml-2 font-normal",children:[(null===(o=A[e._id])||void 0===o?void 0:o.completed.length)||0,"/",(null===(x=A[e._id])||void 0===x?void 0:x.completed.length)+(null===(m=A[e._id])||void 0===m?void 0:m.pending.length)||0]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center text-[11.5px] px-[14px] py-[5px] bg-[#5D56BD] text-white rounded-[4px] font-normal",onClick:()=>{j(e._id),ea(""),h(!0)},children:[(0,a.jsx)(d.A,{className:"mr-2",strokeWidth:1})," Add To-Do"]}),(0,a.jsxs)("div",{className:"border h-[32px] ml-auto mr-2 p-[3px] ",children:[(0,a.jsx)(G,{className:"text-[#666666] p-[2px] shadow-sm",onClick:()=>en(e._id)}),(0,a.jsx)("div",{children:E===e._id?(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100] -translate-x-6",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>eo(e._id,e.title),children:[(0,a.jsx)(i.default,{src:P,alt:"Edit",width:22,height:22,className:"ml-3 mr-3"}),"Edit"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>J(e._id),children:[(0,a.jsx)(i.default,{src:V,alt:"logout",width:22,height:22,className:" ml-3 mr-3"}),"Delete"]})]}):(0,a.jsx)(a.Fragment,{})})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(null===(p=A[e._id])||void 0===p?void 0:p.pending.length)>0?(0,a.jsx)("div",{children:(0,a.jsxs)("h4",{className:"font-regular text-[#808080] mb-2 text-[13.5px]",children:["Pending (",A[e._id].pending.length||0,")"]})}):(0,a.jsx)("div",{}),null===(u=A[e._id])||void 0===u?void 0:u.pending.map(t=>(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 p-4 bg-[#FAFAFA]",onClick:()=>et(t._id),children:(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"text-[12.5px] font-sans text-[#333333]",children:t.Task}),(0,a.jsxs)("div",{className:"flex text-sm text-gray-500 mt-1",children:[(0,a.jsx)("span",{className:"rounded-full",children:(0,a.jsx)(i.default,{src:f.A,width:18,height:18,alt:"user",className:"rounded-full"})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-2",children:null==t?void 0:t.createdBy})," "," ",(0,a.jsxs)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-9",children:[" ",(0,a.jsx)("span",{className:"font-light",children:"Due date:"})," ",new Date(t.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]})},t._id),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>ed(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"edit",src:K,width:16,height:16})}),(0,a.jsx)("button",{onClick:()=>H(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"delete",src:"/assets/myProjects/Trash Icon.png",width:16,height:16})})]})]}))]}),(0,a.jsxs)("div",{className:"mt-4",children:[(null===(g=A[e._id])||void 0===g?void 0:g.completed.length)>0?(0,a.jsx)("div",{children:(0,a.jsxs)("h4",{className:" text-[#808080] mb-2 text-[13.5px]",children:["Completed(",(null===(b=A[e._id])||void 0===b?void 0:b.completed.length)||0,")"]})}):(0,a.jsx)("div",{}),null===(N=A[e._id])||void 0===N?void 0:N.completed.map(t=>(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 p-4 bg-[#FAFAFA]",onClick:()=>et(t._id),children:(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("p",{className:"text-[12.5px] font-sans text-[#333333]",children:t.Task}),(0,a.jsxs)("div",{className:"flex text-sm text-gray-500 mt-1",children:[(0,a.jsx)("span",{className:"rounded-full",children:(0,a.jsx)(i.default,{src:f.A,width:18,height:18,alt:"user",className:"rounded-full"})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-2",children:null==t?void 0:t.createdBy})," "," ",(0,a.jsxs)("span",{className:"text-[#4D4D4D] text-[12.5px] ml-9",children:[" ",(0,a.jsx)("span",{className:"font-light",children:"Due date:"})," ",new Date(t.dueDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]})},t._id),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>ed(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"edit",src:K,width:16,height:16})}),(0,a.jsx)("button",{onClick:()=>H(t._id,e._id),children:(0,a.jsx)(i.default,{alt:"delete",src:"/assets/myProjects/Trash Icon.png",width:16,height:16})})]})]}))]})]},e._id)},t)})}):(0,a.jsx)("div",{className:"flex justify-center items-center mt-[146px] ml-12",children:e?(0,a.jsx)("div",{}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,a.jsx)(i.default,{src:"/assets/ToDo Illustration.png",alt:"Empty Status",width:182,height:182}),(0,a.jsx)("p",{className:"text-[#4d4d4d] font-regular text-[15px] mr-8 my-4",children:"No To-Do's"}),(0,a.jsx)("button",{className:"flex items-center px-6 py-2 bg-[#5D56BD] mr-6 text-white text-[13.5px] rounded-lg",onClick:()=>t(!0),children:"Create your first To-Do List"})]})})]})]})})}function ee(e){let{isOpen:t,onClose:s,Active:r,setActive:n}=e,[c,i]=(0,l.useState)("By original post date");return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center z-50 overflow-y-auto no-scrollbar",children:(0,a.jsxs)("div",{className:"bg-white w-[500px]  h-[425px] rounded-xl shadow-lg px-6 py-3 mt-[230px] font-sans ml-[32px]",children:[(0,a.jsxs)("div",{className:"flex  mt-[2px]",children:[(0,a.jsx)("h2",{className:"text-[19px] font-medium mb-4 text-[#333333]",children:"How should messages be sorted?"}),(0,a.jsx)(o.A,{className:"ml-auto text-[#4D4D4D]",onClick:s})]}),(0,a.jsx)("form",{className:"mt-[12px] ml-[8px]",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",name:"sorting",value:"By original post date",checked:"By original post date"===c,onChange:()=>i("By original post date"),className:"text-[#565DBD]"}),(0,a.jsx)("span",{className:"text-[#333333] font-medium",children:"By original post date"})]}),(0,a.jsx)("p",{className:"text-[#808080] text-[12px] ml-6",children:"The most recent message will appear first, followed by older ones."}),(0,a.jsxs)("label",{className:"flex items-center space-x-2 pt-[18px]",children:[(0,a.jsx)("input",{type:"radio",name:"sorting",value:"By latest comment",checked:"By latest comment"===c,onChange:()=>i("By latest comment"),className:"text-[#565DBD]"}),(0,a.jsx)("span",{className:"text-[#333333] font-medium",children:"By latest comment"})]}),(0,a.jsx)("p",{className:"text-[#808080] text-[13px] ml-6 mt-2",children:"Messages with recent comments will be shown first, regardless of when the message was posted."}),(0,a.jsxs)("label",{className:"flex items-center space-x-2 pt-4",children:[(0,a.jsx)("input",{type:"radio",name:"sorting",value:"Alphabetically A-Z",checked:"Alphabetically A-Z"===c,onChange:()=>i("Alphabetically A-Z"),className:"text-[#565DBD]"}),(0,a.jsx)("span",{className:"text-[#333333] font-medium ",children:"Alphabetically A-Z"})]}),(0,a.jsx)("p",{className:"text-[#808080] text-[13px] ml-6",children:"Messages will be organized alphabetically by title."})]})}),(0,a.jsx)("p",{className:"text-[#333333] text-[15px]  mt-6",children:"Everyone on the project will see messages in this order after you save."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-[34px]",children:[(0,a.jsx)("button",{onClick:()=>{console.log("Saved option:",r),n(c),s()},className:"bg-[#5D56BD] text-white px-4 py-2 text-[13px] rounded-lg font-light",children:"Save Change"}),(0,a.jsx)("button",{onClick:s,className:"bg-[#999999] text-white px-4 py-2 text-[13px] rounded-lg font-light",children:"Never mind"})]})]})}):null}let et=(0,E.A)("ChartBarDecreasing",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11h8",key:"1feolt"}],["path",{d:"M7 16h3",key:"ur6vzw"}],["path",{d:"M7 6h12",key:"sz5b0d"}]]),es=(0,E.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),ea={src:"/_next/static/media/deleteIcon.7d2808d0.png",height:33,width:33,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEX/TFD/TlP/Sk//Q0j/6uv/paf/uLv/Vlv/19n/ZWn/yctUgigEAAAAAXRSTlPhl+sKiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADRJREFUeJwly8ENACAMw8DELRTYf2BU+J1kWbLBlkzsHVhmZI5GzFwzHtb56NTAVeZtgHUBGzwAv5TBfvcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},el=e=>{let{isOpen:t,onClose:s,messageOption:r,onUpdateMessageOption:n}=e,[c,d]=(0,l.useState)(""),[o,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null),[p,u]=(0,l.useState)(""),g=e=>{n(r.filter((t,s)=>s!==e))},j=e=>{if(""===p.trim())return;let t=[...r];t[e]=p,n(t),h(null),u("")};return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30  overflow-y-auto no-scrollbar",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg w-[485px]  mt-[240px] h-[420px] ml-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center pt-3 pb-[5px] px-3 border-b pl-3",children:[(0,a.jsxs)("div",{className:"flex flex-col pl-3",children:[(0,a.jsx)("h2",{className:"text-[19px] text-[#333333] font-medium pt-[3px]",children:"Edit Notice Board Categories"}),(0,a.jsx)("p",{className:"text-[13px] text-[#808080] mb-3 mt-1",children:"Set up categories for this Notice Board below."})]}),(0,a.jsx)("button",{onClick:s,className:"text-[#4D4D4D] hover:text-gray-700 -translate-y-5",children:"✖"})]}),(0,a.jsxs)("div",{className:"p-1 px-6",children:[(0,a.jsx)("ul",{children:r.map((e,t)=>(0,a.jsxs)("div",{className:"mt-[2px]",children:[(0,a.jsx)("li",{className:"flex justify-between items-center py-2 text-[18px]",children:m===t?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),className:"flex-grow border border-gray-300 rounded-l px-3 py-2"}),(0,a.jsx)("button",{onClick:()=>j(t),className:"bg-[#6BBD56] text-white px-3 py-2 rounded-r hover:bg-green-600 ml-auto",children:"✔"}),(0,a.jsx)("button",{onClick:()=>{h(null),u("")},className:"bg-[#FF0000] ml-2 px-3 py-2 text-white hover:bg-red-700",children:"✖"})]}):(0,a.jsxs)("div",{className:"flex justify-between items-center w-full font-sans group",children:[(0,a.jsx)("span",{className:"text-[#333333] mb-2 text-[15.5px]",children:e}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-auto opacity-0 group-hover:opacity-100",children:[(0,a.jsx)("button",{onClick:()=>{h(t),u(e)},className:"text-yellow-500 hover:text-yellow-700 ml-auto",children:(0,a.jsx)(i.default,{src:K,alt:"edit",width:24,height:24})}),(0,a.jsx)("button",{onClick:()=>g(t),className:"text-[#FF0000] hover:text-red-700",children:(0,a.jsx)(i.default,{src:ea,alt:"delete",width:24,height:24})})]})]})},t),(0,a.jsx)("hr",{className:"w-[480px] -translate-x-6"})]}))}),o?(0,a.jsxs)("div",{className:"flex items-center mt-4",children:[(0,a.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Enter category name...",className:"flex-grow border border-gray-300 rounded-l px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-200"}),(0,a.jsx)("button",{onClick:()=>{""!==c.trim()&&(n([...r,c]),d(""),x(!1))},className:"bg-[#6BBD56] text-white px-3 py-2 rounded-r hover:bg-green-600 ml-2",children:"✔"}),(0,a.jsx)("button",{onClick:()=>{d(""),x(!1)},className:"bg-[#FF0000] ml-2 px-3 py-2 text-white hover:bg-red-700",children:"✖"})]}):(0,a.jsx)("button",{onClick:()=>x(!0),className:"mt-[27px] bg-[#565DBD] text-white px-3 py-2 text-[13.5px] rounded-lg",children:"Add Category"})]})]})}):null},er=async e=>(await x.A.get(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data,en=e=>{var t,s;let{id:r,projectId:n,isOpenDetail:d,onClose:o}=e,[m,h]=(0,l.useState)(""),[p,u]=(0,l.useState)(!1),[g,j]=(0,l.useState)(null),[A,b]=(0,l.useState)({_id:"",name:"",pinned:!1,archived:!1}),N="".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/noticeboard/").concat(r),{data:v={},error:y}=(0,B.Ay)(d?N:null,er,{refreshInterval:5e3,revalidateOnFocus:!0});(0,l.useEffect)(()=>{let e=async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(n),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});b(e.data)}catch(e){console.error("Error fetching project:",e)}};d&&n&&e()},[n,d]);let w=async()=>{if(m.trim()){u(!0),j(null);try{await x.A.post("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/noticeboard/").concat(r,"/comment"),{comment:m},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}),h(""),(0,W.j)(N)}catch(t){if(x.A.isAxiosError(t)){var e;console.error("Error posting comment:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message)}else console.error("Error posting comment:",t);j("Failed to post comment. Try again.")}finally{u(!1)}}};return d?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"bg-[#F8F7FA] min-h-screen",children:(0,a.jsxs)("div",{className:"pb-6",children:[(0,a.jsx)("div",{className:"pl-2 pr-6 pb-0 mt-3 font-sans ml-[22px] ",children:(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:null==A?void 0:A.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"Notice Board"})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{className:"flex font-sans flex-row justify-center items-center px-[13px] py-2 bg-[#5D56BD] text-white rounded-lg mx-4  ml-[28px] -translate-y-3 font-light",onClick:o,children:[(0,a.jsx)(L,{className:"text-[13px] h-5 w-5",strokeWidth:1.5}),(0,a.jsx)("span",{className:"text-[13px] ml-2",children:"Go back"})]}),(0,a.jsx)("div",{className:"mx-4 ml-[24px] mt-[26px] px-4 py-1 bg-white rounded-lg  font-sans",children:(0,a.jsxs)("div",{className:"mb-6 pt-2 mt-2",children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"mt-1 text-[13.5px] text-[#4D4D4D] ml-3",children:["Posted by \xa0: \xa0",(0,a.jsx)("span",{className:"text-[#333333]",children:(null==v?void 0:null===(t=v.postedBy)||void 0===t?void 0:t.fullName)||"Unknown"})," on\xa0",(null==v?void 0:v.postedOn)?new Date(v.postedOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"]})})}),(0,a.jsx)("div",{className:"h-[6px]"}),(0,a.jsxs)("div",{className:"ml-3 text-[#4D4D4D] text-[13.5px] mt-[1px]",children:["Category \xa0\xa0:\xa0\xa0",(0,a.jsx)("span",{className:"text-[#333333]",children:v.category})]}),(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-[#4D4D4D] font-medium mt-4 ml-3 text-[22.5px]",children:v.title})}),(0,a.jsx)("div",{className:"mt-4 gap-6 text-[#4D4D4D] ml-3",children:v.description}),(0,a.jsx)("div",{className:"flex justify-center my-4"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("span",{className:"text-sm text-[#4D4D4D] ml-4",children:"When post, notify :"}),(0,a.jsx)("div",{className:"flex  text-white",children:null===(s=v.notifyWhenPosted)||void 0===s?void 0:s.map((e,t)=>(0,a.jsx)("div",{className:"flex items-center gap-1 p-1 ",children:(0,a.jsxs)("div",{className:"flex justify-center items-center bg-[#5D56BD] rounded-full  px-1 py-[2px]",children:[(0,a.jsx)(i.default,{src:f.A,alt:"photo",className:"rounded-full",width:24,height:24}),(0,a.jsx)("div",{className:"text-[11px] text-white rounded-xl px-1 ",children:null==e?void 0:e.fullName})]})},t))})]})]})}),(0,a.jsxs)("div",{className:"ml-[26px] my-4 bg-white p-4 rounded-lg mt-6 w-[1020px] ",children:[(0,a.jsxs)("div",{className:" border-[#CCCCCC] pb-6",children:[(0,a.jsx)("h2",{className:"text-[19px] font-medium text-[#333333] mb-4",children:"Comments"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mt-9 flex gap-3",children:[(0,a.jsx)(i.default,{src:f.A,alt:"avatar",className:"w-12 h-12 rounded-full",width:48,height:48}),(0,a.jsx)("div",{className:"flex flex-grow",children:(0,a.jsx)(_,{notes:m,setNotes:h,fromTodo:!1})})]}),g&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:g}),(0,a.jsx)("button",{onClick:w,className:"px-8 py-2 bg-[#5D56BD] text-white rounded-lg ml-[890px] mt-4 text-[12px]",disabled:p,children:p?"Posting...":"Send"})]})]}),(0,a.jsx)("div",{className:"space-y-4 mt-4 ",children:v.comments&&v.comments.length>0?v.comments.map((e,t)=>{var s,l,r,n;return(0,a.jsx)("div",{className:"flex gap-3 border-t border-[#CCCCCC] ",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex mt-4",children:[(0,a.jsx)(i.default,{src:f.A,alt:null===(s=e.commentedBy)||void 0===s?void 0:s.fullName,className:"rounded-full",width:48,height:48}),(0,a.jsxs)("div",{className:"flex-1 ml-[20px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[#333333]",children:[(0,a.jsx)("span",{className:"font-medium text-[16px]",children:null===(l=e.commentedBy)||void 0===l?void 0:l.fullName}),(0,a.jsxs)("span",{className:"text-[17px] font-medium",children:["(",(null===(r=e.commentedBy)||void 0===r?void 0:r.role[0].toUpperCase())+(null===(n=e.commentedBy)||void 0===n?void 0:n.role.slice(1)),")"]})]}),(0,a.jsxs)("div",{className:"text-[13.5px] text-[#666666] mb-1",children:[new Date(e.commentedOn).toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})," ","\xa0",new Date(e.commentedOn).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]})]}),(0,a.jsx)("p",{className:"text-sm text-[#666666] ml-16",children:e.comment})]})},t)}):(0,a.jsx)("p",{className:"text-gray-500 italic text-sm",children:"No comments yet"})})]})]})]})})}):null};function ec(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(!1),[n,o]=(0,l.useState)("Sort by"),[h,p]=(0,l.useState)("All messages"),[u,g]=(0,l.useState)(!1),[j,b]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[y,w]=(0,l.useState)("By original post date"),[C,D]=(0,l.useState)({_id:"",name:"",pinned:!1,archived:!1}),[B,E]=(0,l.useState)([]),{id:F}=(0,m.useParams)(),[I,T]=(0,l.useState)([]),[M,R]=(0,l.useState)("hi");(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(F),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});D(e.data)}catch(e){console.error("Error fetching project:",e)}})()},[F]),(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/categories"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log(e),E(e.data.categories)}catch(e){console.error(e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/noticeboard/latest"),{params:{projectId:F},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});_([...e.data])}catch(e){console.error(e)}})()},[]);let[z,_]=(0,l.useState)([]);(0,l.useEffect)(()=>{},[_]);let[P,V]=(0,l.useState)(!1),O=()=>{t(!0)},L=[{value:"Sort by",label:"Sort by",icon:(0,a.jsx)(et,{className:"w-4 h-4"})},{value:"Edit",label:"Edit categories",icon:(0,a.jsx)(es,{className:"w-4 h-4"})}],W=e=>{"Sort by"===e?(r(!0),v(!1)):(r(!1),v(!0)),o(e)},J=e=>{p(e),g(!1)},H=e=>{R(e._id),V(!0)},X=[...z].sort((e,t)=>new Date(t.postedOn).getTime()-new Date(e.postedOn).getTime()),Q=[...z].sort((e,t)=>e.title.localeCompare(t.title));return(0,a.jsx)(a.Fragment,{children:P?(0,a.jsx)(en,{id:M,projectId:"string"==typeof F?F:null,isOpenDetail:P,onClose:()=>V(!1)}):(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsx)(ee,{isOpen:s,onClose:()=>r(!1),Active:y,setActive:w}),N&&(0,a.jsx)(el,{isOpen:N,onClose:()=>v(!1),messageOption:B,onUpdateMessageOption:e=>{E(e)}}),e&&(0,a.jsx)(U,{isOpen:e,onClose:()=>t(!1),messageOptions:B,setMessagesOptions:E,NoticeBoardData:z,setNoticeBoardData:_}),z.length>=0?(0,a.jsxs)("div",{className:"min-h-screen bg-[#F8F7FA] font-sans",children:[(0,a.jsxs)("div",{className:"pl-6 pr-6 pb-0 -tanslate-y-2 ",children:[(0,a.jsx)("div",{className:"pl-2 pr-6 pb-0 mt-3",children:(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:null==C?void 0:C.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"Notice Board"})]})})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-[5px]",children:[(0,a.jsxs)("button",{className:"flex flex-row justify-center items-center px-6 py-[9px] bg-[#5D56BD] text-white rounded-lg mt-[14px] text-[12.5px]",onClick:O,children:[(0,a.jsx)(d.A,{className:"mr-2 w-[16px] h-[16px]",strokeWidth:1.5})," New Message"]}),(0,a.jsxs)("div",{className:"relative w-[390px] mt-[14px] pl-5",children:[(0,a.jsx)(A.A,{className:"absolute left-[10px] top-1/2 transform -translate-y-1/2 text-[#999999]   w-[18px] h-[16px] translate-x-[22px]"}),(0,a.jsx)("input",{type:"text",placeholder:"search message ...",className:"w-full ml-1 pl-[38px] py-[9px] text-[13.5px] bg-white border placeholder-[#B3B3B3] border-gray-200 rounded-lg focus:outline-none"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 translate-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{className:"flex px-3 py-2 text-[12.5px] text-[#4D4D4D] border border-[#CCCCCC] rounded-lg bg-white",onClick:()=>g(e=>!e),children:[(0,a.jsx)("span",{className:"ml-3",children:h||"All Messages"}),(0,a.jsx)(S.A,{className:"w-4 h-4 ml-6"})]}),u&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg z-50",children:B.map(e=>(0,a.jsx)("div",{className:"px-4 py-2 text-sm hover:bg-[#565DBD] hover:text-[white] cursor-pointer bg-white",onClick:()=>J(e),children:e},e))})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{className:"w-auto bg-white px-2 py-2 rounded-md flex items-center gap-2 border z-0   border-[#CCCCCC] text-[#4D4D4D]",onClick:()=>{b(e=>!e)},children:(0,a.jsx)(G,{width:18,height:18,className:""})}),j&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg z-[9999]",children:L.map(e=>(0,a.jsxs)("div",{className:"flex gap-2 px-4 py-2 text-sm hover:bg-[#565DBD] hover:text-[white] cursor-pointer",onClick:()=>W(e.value),children:[e.icon,e.label]},e.value))})]})]})]})]}),(0,a.jsx)("div",{className:"bg-white p-6 mx-7 mt-4 rounded-xl w-[1015px] ",children:z.length>0?"By original post date"===y?z.map(e=>{var t;return(0,a.jsxs)("div",{className:"border-b-[1.5px] border-[#CCCCCC] hover:cursor-pointer text-[13.5px] mb-4",onClick:()=>H(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,a.jsx)(i.default,{alt:"profile",src:f.A,width:48,height:48,className:"rounded-full"}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex text-[#666666] -translate-y-3",children:[(0,a.jsxs)("span",{children:[null===(t=e.postedBy)||void 0===t?void 0:t.fullName," ","\xa0"]}),(0,a.jsxs)("span",{className:"text-[#666666]",children:["Published on:"," ",new Date(e.postedOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(",","")]})]})})]}),(0,a.jsxs)("div",{className:"-translate-y-6",children:[(0,a.jsx)("h2",{className:"ml-16 text-[16px] font-medium text-[#333333] mb-2",children:e.title}),(0,a.jsx)("p",{className:"ml-16 text-sm text-gray-600",children:e.description})]})]},e._id)}):"By latest comment"===y?X.map(e=>{var t;return(0,a.jsxs)("div",{className:"border-b-[1.5px] border-[#CCCCCC] hover:cursor-pointer text-[13.5px] mb-4",onClick:()=>H(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,a.jsx)(i.default,{alt:"profile",src:f.A,width:48,height:48,className:"rounded-full"}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex text-[#666666] -translate-y-3",children:[(0,a.jsxs)("span",{children:[null===(t=e.postedBy)||void 0===t?void 0:t.fullName," ","\xa0"]}),(0,a.jsxs)("span",{className:"text-[#666666]",children:["Published on:"," ",new Date(e.postedOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(",","")]})]})})]}),(0,a.jsxs)("div",{className:"-translate-y-6",children:[(0,a.jsx)("h2",{className:"ml-16 text-[16px] font-medium text-[#333333] mb-2",children:e.title}),(0,a.jsx)("p",{className:"ml-16 text-sm text-gray-600",children:e.description})]})]},e._id)}):Q.map(e=>{var t;return(0,a.jsxs)("div",{className:"border-b-[1.5px] border-[#CCCCCC] hover:cursor-pointer text-[13.5px] mb-4",onClick:()=>H(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,a.jsx)(i.default,{alt:"profile",src:f.A,width:48,height:48,className:"rounded-full"}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex text-[#666666] -translate-y-3",children:[(0,a.jsxs)("span",{children:[null===(t=e.postedBy)||void 0===t?void 0:t.fullName," ","\xa0"]}),(0,a.jsxs)("span",{className:"text-[#666666]",children:["Published on:"," ",new Date(e.postedOn).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(",","")]})]})})]}),(0,a.jsxs)("div",{className:"-translate-y-6",children:[(0,a.jsx)("h2",{className:"ml-16 text-[16px] font-medium text-[#333333] mb-2",children:e.title}),(0,a.jsx)("p",{className:"ml-16 text-sm text-gray-600",children:e.description})]})]},e._id)}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 pt-[125px]",children:[(0,a.jsx)(i.default,{src:"/assets/Notice Board Illustration.png",width:135,height:135,alt:"No Project Found",className:""}),(0,a.jsx)("h3",{className:"text-[#4D4D4D] text-[15px] font-sm mb-4 mt-[10.5px]",children:"Empty Notice Board"}),(0,a.jsx)("div",{className:"mt-[2px]",children:(0,a.jsx)("button",{onClick:O,className:"flex flex-row justify-center items-center px-[24px] py-2.5 bg-[#5D56BD] text-white rounded-lg text-[12.5px]",children:"Post your first Notice"})})]})})]}):null]})})}let ei={src:"/_next/static/media/Folder Icon.e832c5c3.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEVMaXH/1F3/1mT/vz//4nX/3oD/107/5Ir/1WT/2Gz/4Y3/8ZT/zkr/v3//4YP/4H3/6H7+0VH/4mX/3FTHKcpdAAAAEnRSTlMAnvgE/vsqKhOfYf6eBCPj/vYuAEpFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nB3LSRKAIAwF0Z+QEVA03P+uFm666i0aAHC1BkTv9wF8jJVJAVcVqTK4CjO/Bn+kam9DZBLNGf9w8gE5OAGchuKTJwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},ed={src:"/_next/static/media/File Icon.0a03a6a8.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEVMaXFpoPpQjvZOjvWRufpNjfJRjvJUkPZRi/NLi/T///+Er/eqqv+70/pWmP+As/9rx+w0AAAADnRSTlMA/ZiU/S0o/Bb7AWQDdf1NOD4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAA4SURBVHicJcjHDcAwDACxk1WdIu+/bSDkRxDKPR4A7S0vF6zeaTewRETW4Jgd/SE9o53ZM+URXnwrTwE1f1/4mQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},eo={src:"/_next/static/media/jpg Icon.5b5b8ba8.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEVMaXFOi/JNjvdQjfRVjPJxpPdNjfSawf1VkvV8qve30PiPt/pknvpYmP9uqP+Gz2E+AAAADXRSTlMAKJSPFPv5/fdgcvv+vXhLpQAAAAlwSFlzAAALEwAACxMBAJqcGAAAADdJREFUeJwdy0kOACAIQ1EGEYfi/Y9rSlcvP6nIUFXhvCYOYTWRm3gRMAKB8i43H4vXWl141yEfKO4BKlvmvwMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},ex={src:"/_next/static/media/Figma Icon.c04d6d52.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEX///+k6P966bgF0nn95+K38NvV9ur8/fv////8t6lSzv6j3/bNvPtWrN+Bc/HetPT6pYS6VNryOwD+Xkb8xb4PX/iFAAAACHRSTlOu/////////h0KkRoAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA6SURBVHicNYtJEoAgEMRaRCajCG7/fyvlVNGXHJKWiEmQ/csg43pexwT9Pg8Q1LYvodJqfw1lm7fgAE1kAg0JLovrAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},em={src:"/_next/static/media/Text Icon.3188677b.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEVMaXFNjfVPivFSj/VknPZQjfRMjPKPuftxpPbCwv98qve30PhekfBUlP1Xl/9npP/mj8tYAAAADnRSTlMAkyn4/o4U/fsCYHIjlMiQNJAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA4SURBVHicJcs3EsAgDADBU0LgIP3/twx2t83CUH0WQJT5zQIp87wA6Tn7/eElHzL7IMqsAk5XHWwvywFKY0h5jgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},eh={src:"/_next/static/media/Google Meet image.7dfd6b8b.png",height:300,width:639,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAASFBMVEX5+Phqtq+p1NGxsrD////M4eOKxb+53Nnc2dn2+fnh1Oe9vbvs3OhqbWzSzs3t2cq74Nz/6db/5erD1OXu19qQy8VHn5dws61vlT10AAAACHRSTlPy/////////h+Dd5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAArSURBVHicBcGHAQAgCAOwgoJ7r/8/NUEcsgMpkNuaRx/DlGQ7XYGvPljH+BgnAThSLLJQAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4},ep={title:"Project Kickoff Meeting",addedBy:"Naman Dubey",date:"22 Jan 2024",category:"none",watchers:[{name:"Sandesh",avatar:"/api/placeholder/32/32"},{name:"Prashant",avatar:"/api/placeholder/32/32"},{name:"Tarush",avatar:"/api/placeholder/32/32"},{name:"Naman",avatar:"/api/placeholder/32/32"}],notes:["Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque commodi illum id ex inventore, at nulla? Exercitationem, eligendi voluptatem nobis, voluptatum nisi harum rerum, dolorum ipsam mollitia fuga ab obcaecati. Nobis autem, ex molestias qui illum at consectetur rem. Asperiores nam reiciendis consequatur nisi assumenda magnam autem quam est illo, vero quibusdam recusandae, nostrum fugiat, ipsam amet iusto doloremque consectetur."],comments:[{user:{name:"Naman",role:"Team Leader",avatar:"/api/placeholder/32/32"},date:"Wed 22 Jan 2024",time:"12:45",content:"@Esther Howard Sure"},{user:{name:"Tarush",role:"Project Manager",avatar:"/api/placeholder/32/32"},date:"Mon on 16 Jan 2024",time:"14:45",content:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur doloribus laboriosam voluptate aut eum harum earum odio, a voluptas quaerat iste, amet iure! Quae officia praesentium repudiandae quibusdam adipisci quod? Atque, obcaecati blanditiis! Doloremque, voluptas blanditiis. Assumenda pariatur officiis ex perspiciatis, voluptatibus iusto quam molestias delectus hic ratione possimus provident tempora repellat in quisquam soluta voluptas repellendus maiores aut quod?"}]},eu=e=>{let{isOpenDetail:t,onClose:s}=e,[r,n]=(0,l.useState)("");return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pl-6 pr-6 pb-0",children:(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 text-gray-600 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:"Project Atlas"}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"}),(0,a.jsx)("span",{className:"text-black",children:"Notice Board"})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{className:"flex flex-row justify-center items-center px-6 py-2 bg-[#5D56BD] text-white rounded-lg mx-4 my-2",onClick:()=>{s()},children:[" <- ","Go Back"]}),(0,a.jsx)("div",{className:"mx-4 my-2 p-4 bg-white rounded-lg shadow",children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:["Produced by: ",(0,a.jsx)("span",{className:"font-medium",children:ep.addedBy})," on ",ep.date]})})}),(0,a.jsxs)("div",{className:"my-3 text-gray-500",children:["Category: ",ep.category]}),(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:ep.title})}),(0,a.jsx)("div",{className:"mt-4 gap-6",children:ep.notes}),(0,a.jsx)("div",{className:"flex justify-center my-4",children:(0,a.jsx)("div",{className:"",children:(0,a.jsx)(i.default,{src:eh,alt:"googleLink",width:500,height:500})})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"When post, notify"}),(0,a.jsx)("div",{className:"flex -space-x-2  text-white border-b-2",children:ep.watchers.map((e,t)=>(0,a.jsx)("div",{className:"flex items-center gap-1 p-1 ml-2",children:(0,a.jsxs)("div",{className:"flex justify-center items-center bg-[#5D56BD] rounded-full ml-2 p-2",children:[(0,a.jsx)(i.default,{src:f.A,alt:"photo",className:" rounded-full",width:48,height:48}),(0,a.jsx)("div",{className:"text-sm font-medium  text-white rounded-xl p-2 ",children:e.name})]})},t))})]})]})}),(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsxs)("div",{className:"mx-4 my-4 bg-white p-4 rounded-lg  border-b-2",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-gray-900 ",children:"Comments"}),(0,a.jsxs)("div",{className:"mt-4 flex gap-3 border-b-2",children:[(0,a.jsx)(i.default,{src:"/api/placeholder/32/32",alt:"User avatar",className:"w-8 h-8 rounded-full",width:48,height:48}),(0,a.jsx)("div",{className:"flex flex-grow",children:(0,a.jsx)(R,{notes:r,setNotes:n})})]}),(0,a.jsx)("div",{className:"space-y-4",children:ep.comments.map((e,t)=>(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(i.default,{src:e.user.avatar,alt:e.user.name,className:"rounded-full",width:48,height:48}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.user.name}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.user.role,")"]})]})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:[e.date," ",e.time]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.content})]})},t))})]})})]})]}):null},eg=function(){let[e]=(0,l.useState)(["Unsorted","Sort by name","Sort by date","Sort by comments"]),[t,s]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1),[o,x]=(0,l.useState)("Unsorted"),[m,h]=(0,l.useState)(!1),[p,u]=(0,l.useState)(!1),[g,j]=(0,l.useState)(""),[A,f]=(0,l.useState)([{id:"1",type:"Folder",title:"ProjectAtlas",description:"2 items"},{id:"2",type:"docs",title:"UI design guide",description:"A complete guide to user interface and more"},{id:"3",type:"txt",title:"ReadMe",description:"Text file with project details"},{id:"4",type:"jpg",title:"UI Mockup",description:"5.0 MB"},{id:"5",type:"figma",title:"Figma File",description:"Visual representations of the app's structure, focusing on the placement of elements and user interactions."}]),b=e=>{x(e),s(!1)},N=e=>t=>{console.log("hlo world"),"Make a new folder"===e&&h(!0),n(!1)};return(0,a.jsx)(a.Fragment,{children:p?(0,a.jsx)(eu,{isOpenDetail:p,onClose:()=>u(!1)}):(0,a.jsxs)("div",{className:"pl-6 pr-6 pb-0",children:[(0,a.jsx)("nav",{className:"flex items-center justify-between mb-6 text-gray-600 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:"Project Atlas"}),(0,a.jsx)("span",{className:"text-gray-400",children:"›"}),(0,a.jsx)("span",{className:"text-black",children:"Docs & Files"})]})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{className:"flex items-center px-6 py-2 bg-[#5D56BD] text-white rounded-lg mt-4",onClick:()=>n(!r),children:[(0,a.jsx)(d.A,{className:"mr-2"})," Add Docs and Files"]}),r&&(0,a.jsx)("div",{className:"absolute top-full  left-0 mt-2 w-auto bg-white border rounded-lg shadow-lg text-[#333333] z-10",children:[{name:"Create a new doc",color:"text-red-600"},{name:"Make a new folder",color:"text-yellow-500"},{name:"upload files",color:"text-blue-500"},{name:"Adobe Creative Cloud",color:"text-red-600"},{name:"Airtable",color:"text-yellow-500"},{name:"Box",color:"text-blue-500"},{name:"Dropbox",color:"text-blue-600"},{name:"Figma",color:"text-pink-500"},{name:"Google Drive",color:"text-green-500"},{name:"iCloud Drive",color:"text-gray-500"},{name:"InVision",color:"text-red-500"},{name:"Notion",color:"text-black"}].map((e,t)=>(0,a.jsx)("div",{className:"px-2 py-1 text-sm hover:bg-[#565DBD] hover:text-white cursor-pointer",onClick:N(e.name),children:e.name},t))})]}),(0,a.jsx)("input",{type:"text",placeholder:"Search message",className:"mx-3 mt-4 px-6 py-2 border border-gray-200 rounded-lg text-sm"})]}),(0,a.jsxs)("div",{className:"relative flex gap-6 px-6 py-2 mr-4",children:[(0,a.jsx)("button",{className:"flex px-2 py-2 text-sm border border-gray-200 rounded-lg bg-white",onClick:()=>s(e=>!e),children:o||"Unsorted"}),t&&(0,a.jsx)("div",{className:"absolute mt-2 w-36 bg-white border rounded-lg shadow-lg mr-4",children:e.map(e=>(0,a.jsx)("div",{className:"px-2 py-1 text-sm hover:bg-[#565DBD] hover:text-white cursor-pointer",onClick:()=>b(e),children:e},e))})]})]}),(0,a.jsx)("div",{className:"h-[450px] bg-white rounded-lg overflow-y-auto mt-4 no-scrollbar",children:(0,a.jsxs)("div",{className:"bg-white mt-4 rounded-lg",children:[m&&(0,a.jsxs)("div",{className:"flex border-b-2",children:[(0,a.jsx)("div",{className:"flex pl-3 flex-row items-center space-x-2",children:(0,a.jsx)(i.default,{src:ei,alt:"New folder",width:50,height:30})}),(0,a.jsxs)("div",{className:"flex w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)("input",{type:"text",value:g,placeholder:"Enter Folder name",onChange:e=>j(e.target.value),className:"p-2 w-full"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"text-sm ml-3 mb-2",children:"New Folder"})})]}),(0,a.jsx)("div",{className:"ml-auto space-x-2",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"ml-2 px-10 py-2 bg-[#5D56BD] text-white rounded-lg hover:bg-[#4b479c] mX-2",onClick:()=>{f(e=>[...e,{id:Date.now(),type:"Folder",title:g,description:""}]),h(!1),j("")},children:"Save"}),(0,a.jsx)("button",{className:"px-10 py-2 bg-[#808080] text-white rounded-lg",onClick:()=>h(!1),children:"Cancel"})]})})]})]}),A.map(e=>(0,a.jsxs)("div",{className:"p-3  border-b-2 flex items-center",onClick:()=>u(!0),children:["Folder"===e.type&&(0,a.jsx)(i.default,{src:ei,alt:"Folder",width:50,height:30}),"docs"===e.type&&(0,a.jsx)(i.default,{src:ed,alt:"Document",width:50,height:30}),"jpg"===e.type&&(0,a.jsx)(i.default,{src:eo,alt:"JPEG File",width:50,height:30}),"figma"===e.type&&(0,a.jsx)(i.default,{src:ex,alt:"Figma File",width:50,height:30}),"txt"===e.type&&(0,a.jsx)(i.default,{src:em,alt:"Figma File",width:50,height:30}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-[#333333] font-medium",children:e.title}),(0,a.jsx)("div",{className:"text-[#808080] text-sm",children:e.description})]})]},e.id))]})})]})})},ej=function(){return(0,a.jsx)("div",{children:"Campfire"})},eA=function(){return(0,a.jsx)("div",{children:"Schedule"})},ef=function(){let{id:e}=(0,m.useParams)(),[t,s]=(0,l.useState)(null),[r,n]=(0,l.useState)(null),[d,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{n(localStorage.getItem("token"))},[]),(0,l.useEffect)(()=>{(async()=>{try{let t=await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});s(t.data)}catch(e){console.error("Error fetching project:",e)}})()},[e,r,d]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-[#F8F7FA] flex flex-col font-sans",children:[(0,a.jsxs)("div",{className:"pl-6 pr-6 pb-0",children:[(0,a.jsx)("div",{className:"pl-2 pr-6 pb-0",children:(0,a.jsxs)("nav",{className:"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-[1px]",children:[(0,a.jsx)(c(),{href:"/main/dashboard",className:"hover:text-gray-900",children:"Dashboard"}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)(c(),{href:"/projects",className:"hover:text-gray-900",children:null==t?void 0:t.name}),(0,a.jsx)("span",{className:"text-[#808080]",children:(0,a.jsx)(k.A,{width:20,height:20,strokeWidth:1.5})}),(0,a.jsx)("span",{className:"text-[#4D4D4D] font-medium text-[15px]",children:"About"})," "]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 translate-y-3 translate-x-8",children:(0,a.jsxs)("button",{className:"flex gap-1.5 px-4 py-2.5 text-[12px] bg-[#5D56BD]   text-white rounded-lg border-[1.5px]",onClick:()=>{o(!0)},children:[(0,a.jsx)(i.default,{src:u,width:18,height:18,alt:"pencil"}),(0,a.jsx)("span",{className:"translate-x-1",children:"Edit project"})]})})]})}),(0,a.jsxs)("div",{className:"mt-[44px]",children:[(0,a.jsxs)("div",{className:"flex flex-col items-left justify-left px-5 py-3  w-50 gap-5 bg-white rounded-md font-poppins",children:[(0,a.jsx)("h2",{className:"text-[18px] text-[#333333]",children:"About Project"}),t?(0,a.jsx)("p",{className:"text-[#333333] font-light text-[13.5px]",children:t.description}):(0,a.jsx)("p",{className:"text-gray-500",children:"Loading project data..."})]}),(0,a.jsxs)("div",{className:"flex flex-col items-left justify-left px-5 py-3 mt-5 w-50 gap-5 bg-white rounded-md font-poppins",children:[(0,a.jsx)("h2",{className:"text-[18px] text-[#333333]",children:"How we collaborate?"}),t?(0,a.jsx)("p",{className:"text-[#333333] font-light text-[13.5px]",children:t.collaboration}):(0,a.jsx)("p",{className:"text-[#333333] font-light",children:"Loading project data..."})]})]})]}),d&&(0,a.jsx)(g,{isOpen:d,onClose:()=>o(!1)})]})})};function eb(){let[e,t]=(0,l.useState)(null),{id:s}=(0,m.useParams)();(0,l.useEffect)(()=>{(async()=>{try{let e=(await x.A.get("".concat("https://projectmanagementbackend-0rjw.onrender.com/api","/projects/project/").concat(s),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data;t(e)}catch(e){console.log(e)}})()},[s]);let[n,c]=(0,l.useState)(!0),[i,d]=(0,l.useState)(!1),[o,h]=(0,l.useState)(!1),[p,u]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[A,f]=(0,l.useState)(!1),[b,N]=(0,l.useState)(!1),[v,y]=(0,l.useState)(!1),[w,C]=(0,l.useState)(""),D=e=>{let t=e.currentTarget.id;C(t),c("Overview"===t),d("ToDo"===t),h("NoticeBoard"===t),u("DocsFiles"===t),j("Campfire"===t),f("Schedule"===t),y("About"===t)},B=["bg-teal-100 text-teal-600","bg-rose-100 text-rose-600","bg-gray-100 text-gray-600","bg-orange-100 text-orange-600","bg-blue-100 text-blue-600","bg-blue-100 text-blue-600","bg-orange-100 text-orange-600"];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"pt-4 ml-[10px] font-sans",children:(0,a.jsxs)("div",{className:"mx-4 px-4 rounded-lg bg-white shadow-sm h-[110px] pl-6",children:[(0,a.jsxs)("div",{className:"h-16 flex items-center justify-between",children:[e&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat(B[parseInt(e._id)%B.length]," rounded-full flex items-center justify-center font-medium text-[15px]"),children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"ml-[2px]",children:[(0,a.jsx)("h3",{className:"text-[16px] font-medium text-[#5D56BD]",children:e.name}),(0,a.jsx)("p",{className:"text-[12px] font-regular text-[#666666]",children:e.category})]})]}),(0,a.jsx)(r.A,{})]}),(0,a.jsxs)("div",{className:"flex gap-[14px] text-sm mt-[14px]",children:[(0,a.jsx)("div",{className:"".concat(n?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-[#666666] hover:text-gray-700"," py-1 px-1 hover:cursor-pointer"),id:"Overview",onClick:D,children:"Overview"}),(0,a.jsx)("div",{className:"".concat(i?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-gray-500 hover:text-gray-700"," p-1 hover:cursor-pointer"),id:"ToDo",onClick:D,children:"To-Do's"}),(0,a.jsx)("div",{className:"".concat(o?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-gray-500 hover:text-gray-700"," hover:cursor-pointer p-1"),onClick:D,id:"NoticeBoard",children:"Notice Board"}),(0,a.jsx)("div",{className:"".concat(p?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-gray-500 hover:text-gray-700"," hover:cursor-pointer p-1"),onClick:D,id:"DocsFiles",children:"Docs & Files"}),(0,a.jsx)("div",{className:"".concat(g?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-gray-500 hover:text-gray-700"," hover:cursor-pointer p-1"),onClick:D,id:"Campfire",children:"Campfire"}),(0,a.jsx)("div",{className:"".concat(A?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-gray-500 hover:text-gray-700"," hover:cursor-pointer p-1"),onClick:D,id:"Schedule",children:"Schedule"}),(0,a.jsx)("div",{className:"".concat(v?"text-[#5D56BD] border-b-2 border-[#5d56bd] bg-[#5D56bd] bg-opacity-5 px-2 text-[13.5px]":"text-gray-500 hover:text-gray-700"," hover:cursor-pointer p-1"),onClick:D,id:"About",children:"About"})]})]})}),n&&(0,a.jsx)(H,{unMount:()=>c(!1),Mount:()=>h(!0),mountCampfire:()=>j(!0)}),i&&(0,a.jsx)($,{}),o&&(0,a.jsx)(ec,{}),p&&(0,a.jsx)(eg,{}),g&&(0,a.jsx)(ej,{}),A&&(0,a.jsx)(eA,{}),b&&(0,a.jsx)(eA,{}),v&&(0,a.jsx)(ef,{})]})}},4556:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/Trash Icon.531d9614.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEVMaXH/QEX/d3z/S1D/U1P/R1H/SU7/pqj/Vlv/SlH/TVL/TFH/Sk7/S1H/Zmr/ZWp1DdsSAAAADnRSTlMAlP6FIQz5+v01q9XSg6Xt8z4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAA2SURBVHicVcu3EQAgDACxxwmT99+Wo6RTI6Ct1QDXMedQh56Z2YEitUr5cET2g0ZE6GtmZs4FLtoBIm1MpksAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},4581:(e,t,s)=>{Promise.resolve().then(s.bind(s,3358))},5482:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(5155),l=s(2115);let r=(0,s(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var n=s(5695);let c={src:"/_next/static/media/Logout Icon.4228ea4b.png",height:30,width:30,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEWhoaGampqXl5eWlpapqamioqKZmZmXl5ebm5u4uLiYmJiZmZmIiIhha0uDAAAADXRSTlMBUUua/v15Jaf+5ygpt9f7OgAAAAlwSFlzAAALEwAACxMBAJqcGAAAADJJREFUeJwtikESACAIhHDTyur/720m4wIHAHrnYXPar7K2dASKWMtdmIdHpjHaY9QOXBb7ALArNkYuAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var i=s(7924),d=s(6766);let o=function(){let[e,t]=(0,l.useState)(""),[s,o]=(0,l.useState)(!1),x=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=setInterval(()=>{let e=new Date,s=new Intl.DateTimeFormat("en-GB",{weekday:"short",day:"numeric",month:"short"}).format(e).replace(",",""),a=e.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric",second:"numeric"});t("".concat(s,", ").concat(a))},1e3);return()=>clearInterval(e)},[]),(0,a.jsx)("div",{className:"h-8  flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)(i.A,{className:"absolute left-3 w-4 h-4 text-[#808080]"}),(0,a.jsx)("input",{type:"text",placeholder:"Search",className:"w-50 pl-9 pr-3 py-1 text-sm bg-gray-100 rounded-full focus:outline-none w-[270px]"})]}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center bg-[#F4F3FF] rounded-3xl cursor-pointer",onClick:()=>{o(!s)},children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:(0,a.jsx)("img",{src:"https://www.creativefabrica.com/wp-content/uploads/2023/02/09/Flat-People-Icon-Graphics-60534092-1.png",alt:"Profile",className:"w-full h-full object-cover"})}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4  transition-transform duration-200 ".concat(s?"rotate-180 text-[#5D56BD]":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]",children:[(0,a.jsxs)("button",{className:"w-full px-4 py-2 text-sm hover:bg-gray-100 flex items-center text-[#4D4D4D]",onClick:()=>{x.push("/main/settings")},children:[(0,a.jsx)(r,{className:"w-4 h-4 mr-2 text-[#999999]"}),"Setting"]}),(0,a.jsx)("hr",{className:"w-full border-gray-300 my-1"}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),x.push("/auth/login")},className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center text-sm text-[#4D4D4D]",children:[(0,a.jsx)(d.default,{src:c,alt:"logout",width:20,height:20,className:"w-4 h-4 mr-4"}),"Logout"]})]})]})]})})}},6474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6814:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/PinnedFalse Icon.53c93532.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVMaXGal9Sfm9mcl9WdltGZldOdmdaemdeal9Wcl9OdmdadndqmoeLc3fONAAAADHRSTlMAQfyEDaC7zC114hVYL2vTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANklEQVR4nBWLyRHAQAzCANt7hf7rzfDTIAR8AAkARUqheqMQ7T3OdOU9UefJq/M516uSAezGDx3QAOWNbCv8AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},7707:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/Archive Button.35de6c03.png",height:26,width:26,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEUTvhcbwR8VvRxMaXFByEgLuRJKzlAEtwuM3pAvwzVWzlt52n1Dy0hv23QGvQ0cwCRFeLygAAAADXRSTlMYEvUAGOH69f3y8v7+PHljTwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADhJREFUeJw1y7cBACAMwDAnpNH//5YJ7aIJgDTEVVVdQM9aR4G8VTfBRlTFMCz2nDsM8ew9Xfj9ASqcAUEBo+ULAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},8356:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/Archive Icon.f896fdc0.png",height:26,width:26,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEWurq62travr6+4uLjExMTY2NhMaXGwsLC/v7/BwcHe3t4AZ2UDAAAAC3RSTlMTGPX6+f4A4RgZ/kMy7osAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA1SURBVHicNcvJDQAgDMTAPbIE6L9gBBJ+jzFAkhhAS1IDtPe2CcqJRcx6TaxKkloX2xf//QAeGADdCTlk5QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},9159:(e,t,s)=>{"use strict";s.d(t,{s:()=>l});class a extends Error{}function l(e,t){let s;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");t||(t={});let l=+(!0!==t.header),r=e.split(".")[l];if("string"!=typeof r)throw new a(`Invalid token specified: missing part #${l+1}`);try{s=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var s;return s=t,decodeURIComponent(atob(s).replace(/(.)/g,(e,t)=>{let s=t.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(e){return atob(t)}}(r)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${l+1} (${e.message})`)}try{return JSON.parse(s)}catch(e){throw new a(`Invalid token specified: invalid json for part #${l+1} (${e.message})`)}}a.prototype.name="InvalidTokenError"}},e=>{var t=t=>e(e.s=t);e.O(0,[766,464,799,874,873,372,441,684,358],()=>t(4581)),_N_E=e.O()}]);
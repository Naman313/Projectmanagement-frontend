(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},6036:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(5155),n=t(2115),s=t(5695),o=t(5799),i=t(9159);function c(e){let{children:r}=e,t=(0,s.useRouter)(),[c,u]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("token");if(!e){o.oR.error("You must log in to access the dashboard."),t.replace("/auth/login");return}let r=(0,i.s)(e),a=Math.floor(Date.now()/1e3);if(r.exp<a){o.oR.error("Session expired. Please log in again."),t.replace("/auth/login");return}u(!0)}catch(e){o.oR.error("Invalid token. Please log in again."),t.replace("/auth/login")}})()},[]),null===c)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:c&&r})}},9159:(e,r,t)=>{"use strict";t.d(r,{s:()=>n});class a extends Error{}function n(e,r){let t;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");r||(r={});let n=+(!0!==r.header),s=e.split(".")[n];if("string"!=typeof s)throw new a(`Invalid token specified: missing part #${n+1}`);try{t=function(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("base64 string is not of the correct length")}try{var t;return t=r,decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return atob(r)}}(s)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(t)}catch(e){throw new a(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}a.prototype.name="InvalidTokenError"},9428:(e,r,t)=>{Promise.resolve().then(t.bind(t,6036))}},e=>{var r=r=>e(e.s=r);e.O(0,[799,441,684,358],()=>r(9428)),_N_E=e.O()}]);
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/overview/ToDo/AddToDoModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { X, Link, RotateCcw, Paperclip } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport { useParams } from \"next/navigation\";\r\nimport avtar from '../../../../public/assets/avtar.jpg'\r\nimport TextareaBox from '../Textarea/TextareaBox';\r\nimport Image from 'next/image';\r\nimport { toast } from 'react-toastify';\r\nimport Toast from '@/components/auth/Toast';\r\nimport { Search } from \"lucide-react\";\r\ninterface TeamMember {\r\n  id: string;\r\n  name: string;\r\n  role: string;\r\n  avtar: string;\r\n}\r\n\r\ninterface AddToDoModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  listId: string;\r\n}\r\n\r\nconst AddToDoModal = ({ isOpen, onClose, listId }: AddToDoModalProps) => {\r\n  const [teamMembers, setTeamMembers] = useState<TeamMember[]>([]);\r\n  \r\n  const [selectedAssignee, setSelectedAssignee] = useState<TeamMember | null>(null);\r\n  const { id } = useParams();\r\n  const [notifyMembers, setNotifyMembers] = useState<TeamMember[]>([]);\r\n  const [description, setDescription] = useState('');\r\n  const [dueDate, setDueDate] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n  const [selectedMember, setSelectedMember] = useState<string[]>([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [queryNotify, setQueryNotify] = useState(\"\")\r\n  const handleMemberClick = (member: TeamMember) => {\r\n    setSelectedAssignee(member);\r\n    if (!notifyMembers.some(m => m.id === member.id)) {\r\n      setNotifyMembers([...notifyMembers, member]);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const projectId = id;\r\n      try {\r\n        const response = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/projects/${projectId}/members`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n        );\r\n        setTeamMembers([...response.data.members])\r\n        setNotifyMembers([...response.data.members])\r\n      } catch (error) {\r\n        console.error(\"Error fetching users:\", error);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, [id]);\r\n  const removeNotifyMember = (memberId: string) => {\r\n    setNotifyMembers(notifyMembers.filter(member => member.id !== memberId));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!description) {\r\n      toast.error(\"Please fill description\")\r\n      return\r\n    }\r\n    const formData = {\r\n      todoListId: listId,\r\n      task: description,\r\n      projectId: id,\r\n      dueDate,\r\n      assignedTo: selectedMember,\r\n      notifyUsers: notifyMembers,\r\n      notes,\r\n    };\r\n\r\n    // console.log(formData.notifyUsers)\r\n    try {\r\n      const response = await axios.post(`${process.env.NEXT_PUBLIC_API_URL}/todos`, { formData }, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }\r\n      );\r\n      // console.log(response)\r\n    } catch (error) {\r\n      console.error(\"Error fetching users:\", error);\r\n    }\r\n    setDescription('');\r\n    setDueDate('');\r\n    setSelectedAssignee(null);\r\n    setNotifyMembers([]);\r\n    setNotes('');\r\n    onClose();\r\n  };\r\n  if (!isOpen) return null;\r\n\r\n  const handleSelect = (memberId: string, memberName: string) => {\r\n    setSelectedMember((prev) =>\r\n      prev.includes(memberId)\r\n        ? prev.filter((id) => id !== memberId)\r\n        : [...prev, memberId]\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      {/* {console.log(listId, \"List id\")} */}\r\n      <Toast />\r\n\r\n      <div className=\"z-10 fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center overflow-y-auto no-scrollbar\">\r\n        <div className=\"bg-white rounded-[10px] w-[1120px] h-[580px] mt-[360px] ml-4 pl-3 shadow-sm mb-32\">\r\n          {/* Header */}\r\n          <div className=\"flex justify-between items-center px-2 py-3\">\r\n            <h2 className=\"text-[18px] text-[#333333] font-medium\">Add To-Do</h2>\r\n            <button onClick={onClose} className=\"p-1 hover:bg-gray-100 rounded-full\">\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-6 px-2 py-3\">\r\n            {/* Left Column */}\r\n            <div className=\"space-y-[20px] w-[530px] \">\r\n              {/* To-Do Description */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-[13.5px] font-normal text-[#333333]\">To-Do</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Describe...\"\r\n                  className=\"w-[530px] h-[62px] border rounded-lg placeholder-[#B3B3B3] text-[13.5px] px-[7px] pb-5 border-[#CCCCCC] placeholder-[12px] -translate-y-2\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              {/* Due Date */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-[13.5px] text-[#333333]\">Due Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"w-[180px] p-2 border rounded-lg border-[#CCCCCC] placeholder-[#B3B3B3] text-[13.5px] px-2   placeholder-[12px] \"\r\n                  value={dueDate}\r\n                  onChange={(e) => setDueDate(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              {/* Assigned To */}\r\n              <div className=\"space-y-1\">\r\n                <label className=\"block text-[13.5px] text-[#333333]\">Assigned to</label>\r\n                <div className=\"\">\r\n                  <div className=\"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md\">\r\n\r\n                    <Search className=\"absolute ml-2 w-4 h-4 text-[#B3B3B3]\" />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Search team member\"\r\n                      value={query}\r\n                      onChange={(e) => setQuery(e.target.value)}\r\n                      className=\"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"w-full h-[160px] border rounded-md border-[#CCCCCC] mt-2\">\r\n                    <div className=\"flex flex-wrap gap-1 py-2 px-2\">\r\n                      {teamMembers.map((member, index) => (\r\n                        <>\r\n                          <div\r\n                            key={member.id}\r\n                            onClick={() => handleSelect(member.id, member.name)}\r\n                            className={\"relative flex items-center bg-[#FAFAFA] text-[#333333] gap-1.5 px-4 py-2 hover:cursor-pointer\"}\r\n                          >\r\n                            {selectedMember.includes(member.id) && (\r\n                              <div className=\"absolute top-[10px] right-0 bg-[#6BBD56] text-[#FAFAFA] text-xs rounded- w-4 h-4 flex items-center justify-center z-50\">\r\n                                <span className=\"text-white\">âœ“</span>\r\n                              </div>\r\n                            )}\r\n                            <Image\r\n                              src={avtar}\r\n                              alt={member.name}\r\n                              width={36}\r\n                              height={36}\r\n                              className=\"rounded-full\"\r\n                            />\r\n                            <div className=\"text-[12px]\">\r\n                              <p className=\" text-[#333333]\">{member.name}</p>\r\n                              <p className=\"text-[10px] text-[#4D4D4D]\">\r\n                              ({`${member.role[0].toUpperCase()}${member.role.slice(1)}`})\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Column */}\r\n            <div className=\"space-y-2 pr-4 -translate-x-1\">\r\n              {/* When done, notify */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-[13.5px] text-[#333333]\">When done, notify</label>\r\n                <div className='-translate-y-2'>\r\n                <div className=\"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md\">\r\n                  <Search className=\"absolute ml-2 w-4 h-4 text-[#B3B3B3] \" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search team member\"\r\n                    value={queryNotify}\r\n                    onChange={(e) => setQueryNotify(e.target.value)}\r\n                    className=\"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex -space-x-2 gap-4 mt-2 border border-[#CCCCCC] rounded-md h-[80px]\">\r\n                  {notifyMembers.map((member) => (\r\n                    <div className=\"p-1 py-2\">\r\n                      <div\r\n                        key={member.id}\r\n                        className=\"flex items-center gap-1 bg-[#5D56BD] text-white px-1 ml-1 rounded-full font-regular text-[13.5px] py-[1.5px]\">\r\n                        <Image\r\n                          src={avtar}\r\n                          alt=\"\"\r\n                          className=\"w-5 h-5 rounded-full\"\r\n                        />\r\n                        <span className=\" font-light text-[11px]\">{member.name}</span>\r\n                        <button\r\n                          onClick={() => removeNotifyMember(member.id)}\r\n                          className=\" bg-[#5D56BD] rounded-full p-1\"\r\n                        >\r\n                          <X className=\"w-4 h-4\" strokeWidth={1.5} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Notes */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-[13.5px] text-[#333333]\">Notes <span className='text-[#808080]'>(Optional)</span></label>\r\n                <TextareaBox notes={notes} setNotes={setNotes} fromTodo={true} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"flex justify-end gap-5 pr-[28px] mt-2\">\r\n            <button\r\n              onClick={handleSubmit}\r\n              className=\"px-10 py-3 font-light bg-[#5D56BD] text-white rounded-lg\r\n               hover:bg-[#4b479c] text-[13.5px]\">\r\n              Add To-Do\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-8 py-3 bg-[#999999] text-white hover:bg-gray-600  rounded-lg text-[13.5px]\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddToDoModal;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/overview/ToDo/ToDos.tsx"],"sourcesContent":["import React, { use, useEffect, useState } from 'react';\r\nimport { Divide, MoreVertical } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport Link from \"next/link\";\r\nimport EditIcon from \"../../../../public/assets/Edit Button 03.png\";\r\nimport TrashIcon from \"../../../../public/assets/Trash Icon 02.png\";\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport {\r\n  Search,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  ArrowLeft,\r\n  Check\r\n} from \"lucide-react\";\r\nimport avatar from '../../../../public/assets/avtar.jpg';\r\nimport Image from 'next/image';\r\nimport Comment from \"../Textarea/Comment\";\r\nimport useSWR, { mutate } from 'swr';\r\n// import { headers } from 'next/headers';\r\ninterface ToDoProps {\r\n  isOpen: boolean;\r\n  onClose: (state: boolean) => void;\r\n  projectId: string | null;\r\n  TodoId: string;\r\n  revalidateTodos: () => void;\r\n}\r\n\r\ninterface TodoFromBackend {\r\n  _id: string;\r\n  task: string;\r\n  createdBy: {\r\n    fullName: string;\r\n  }\r\n  dueDate: Date,\r\n\r\n  assignedTo: {\r\n    fullName: string;\r\n  }[],\r\n  notifyUsers: {\r\n    fullName: string;\r\n  }[],\r\n  notes: string;\r\n  comments: {\r\n    _id: string;\r\n    comment: string;\r\n    commentedBy: {\r\n      _id: string;\r\n      fullName: string;\r\n      role: string;\r\n    }\r\n    commentedOn: Date;\r\n    createdAt: Date;\r\n  }[],\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n  status: string;\r\n}\r\nconst ToDos: React.FC<ToDoProps> = ({ isOpen, onClose, projectId, TodoId, revalidateTodos }) => {\r\n  // const [todoId, setTodoId] = useState<string>(\"\")\r\n  const [comment, setComment] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [isDropdown, setIsDropdown] = useState<boolean>(false);\r\n  const [isDropdownComment, setIsDropdownComment] = useState<string | null>(null);\r\n  const [editingCommentId, setEditingCommentId] = useState<string>(\"\");\r\n  const [editCommentText, setEditCommentText] = useState<string>(\"\");\r\n  interface decodedToken {\r\n    id: string;\r\n  }\r\n  const decoded: decodedToken = jwtDecode(`${localStorage.getItem(\"token\")}`);\r\n  const handleEditComment = (commentId: string, commentText: string) => {\r\n    setEditingCommentId(commentId);\r\n    setEditCommentText(commentText);\r\n    setIsDropdownComment(\"\");\r\n  }\r\n  const handleCancelEdit = () => {\r\n    setEditCommentText(\"\")\r\n    setEditingCommentId(\"\")\r\n  }\r\n  const handleEditCommentText = async (commentId: string) => {\r\n    const todoId = TodoId;\r\n    console.log(editCommentText, \"New text\")\r\n    try {\r\n      const res = await axios.patch(`${process.env.NEXT_PUBLIC_API_URL}/todos/${todoId}/${commentId}`,\r\n        {\r\n          newComment: editCommentText\r\n        }, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\r\n      })\r\n\r\n      mutate(apiUrl);\r\n      revalidateTodos()\r\n      setIsDropdownComment(null)\r\n      setEditingCommentId(\"\")\r\n    } catch (error) {\r\n      console.log(\"Error in editing Todos Comment \")\r\n    }\r\n\r\n  }\r\n  const [todo, setTodo] = useState<TodoFromBackend>({\r\n    _id: \"\",\r\n    task: \"\",\r\n    createdBy: {\r\n      fullName: \"\",\r\n    },\r\n    dueDate: new Date(),\r\n    assignedTo: [],\r\n    notifyUsers: [],\r\n    notes: \"\",\r\n    comments: [],\r\n    updatedAt: new Date(),\r\n    status: \"\",\r\n    createdAt: new Date\r\n  });\r\n\r\n  interface Project {\r\n    _id: string;\r\n    name: string;\r\n    pinned: boolean;\r\n    archived: boolean;\r\n  }\r\n  const [project, setProject] = useState<Project>({\r\n    _id: \"\",\r\n    name: \"\",\r\n    pinned: false,\r\n    archived: false,\r\n  });\r\n  useEffect(() => {\r\n\r\n    const fetchProject = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/projects/project/${projectId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          }\r\n        );\r\n        setProject(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching project:\", error);\r\n      }\r\n    };\r\n    fetchProject();\r\n  }, [projectId]);\r\n  const fetcher = async (url: string) => {\r\n    const response = await axios.get(url, {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    });\r\n    // setMilestoneData(response.data.milestone)\r\n    // console.log(response.data, \"These are your Todos\")\r\n    setTodo(response.data)\r\n    return response.data;\r\n  };\r\n\r\n  const apiUrl = `${process.env.NEXT_PUBLIC_API_URL}/todos/${TodoId}`;\r\n  const { data, error: swrError, isLoading } = useSWR(apiUrl, fetcher);\r\n  const handleClick = () => {\r\n    onClose(false);\r\n    console.log(isOpen)\r\n  }\r\n  const handleTodoToggle = async (todoId: string | undefined, todoStatus: string | undefined) => {\r\n    let newStatus;\r\n    if (todoStatus === \"Pending\") {\r\n      newStatus = \"Completed\";\r\n    } else {\r\n      newStatus = \"Pending\"\r\n    }\r\n\r\n    try {\r\n      await axios.patch(`${process.env.NEXT_PUBLIC_API_URL}/todos/toogleTodo/${todoId}`,\r\n        { status: newStatus }, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\r\n        }\r\n      }\r\n      )\r\n      revalidateTodos()\r\n      mutate(apiUrl)\r\n\r\n    } catch (error) {\r\n      console.log(\"Error in ToDos overview page\", error)\r\n    }\r\n  }\r\n  const handleDeleteTodo = async () => {\r\n    const todoId = TodoId\r\n    try {\r\n      await axios.delete(`${process.env.NEXT_PUBLIC_API_URL}/todos/${TodoId}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\r\n      });\r\n      mutate(apiUrl);\r\n      revalidateTodos()\r\n      handleClick()\r\n    } catch (error) {\r\n      console.error('Error deleting todo:', error);\r\n    }\r\n  };\r\n  const handleDeleteTodoComment = async (commentId: string) => {\r\n    const todoId = TodoId\r\n    try {\r\n      await axios.delete(`${process.env.NEXT_PUBLIC_API_URL}/todos/${todoId}/${commentId}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\r\n      });\r\n      mutate(apiUrl);\r\n      revalidateTodos()\r\n    } catch (error) {\r\n      console.error('Error deleting todo:', error);\r\n    }\r\n  };\r\n  const handlePostComment = async () => {\r\n    if (!comment.trim()) return;\r\n    setLoading(true);\r\n    const todoId = TodoId\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/todos/${TodoId}/comment`,\r\n        { comment },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      mutate(apiUrl);\r\n      setComment(\"\");\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        console.error(\"Error posting comment:\", error.response?.data || error.message);\r\n      } else {\r\n        console.error(\"Error posting comment:\", error);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n\r\n    const handleDeleteTodo = async (todoId: string, listId: string) => {\r\n      try {\r\n        await axios.delete(`${process.env.NEXT_PUBLIC_API_URL}/todos/${todoId}`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\r\n        });\r\n        mutate(apiUrl)\r\n        revalidateTodos()\r\n      } catch (error) {\r\n        console.error('Error deleting todo:', error);\r\n      }\r\n    };\r\n  };\r\n  if (!isOpen) return null;\r\n  return (\r\n\r\n    <>\r\n      <div className=\"bg-[#F8F7FA] min-h-screen\">\r\n        <div className=\"pb-6\">\r\n          <div className=\"pl-2 pr-6 pb-0 mt-3 font-sans ml-[22px] \">\r\n            <nav className=\"flex items-center justify-between mb-6 mt-[2px] text-[#808080] text-[13.5px]\">\r\n              <div className=\"flex items-center space-x-[1px]\">\r\n                <Link href=\"/main/dashboard\" className=\"hover:text-gray-900\">\r\n                  Dashboard\r\n                </Link>\r\n                <span className=\"text-[#808080]\"><ChevronRight width={20} height={20} strokeWidth={1.5} /></span>\r\n                <Link href=\"/projects\" className=\"hover:text-gray-900\">\r\n                  {project?.name}\r\n                </Link>\r\n                <span className=\"text-[#808080]\"><ChevronRight width={20} height={20} strokeWidth={1.5} /></span>\r\n                <span className=\"text-[#4D4D4D] font-medium text-[15px]\">ToDos</span>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n          <button\r\n            className=\"flex font-sans flex-row justify-center items-center px-[13px] py-2 bg-[#5D56BD] text-white rounded-lg mx-4  ml-[28px] -translate-y-3 font-light\"\r\n            onClick={handleClick}\r\n          >\r\n            <ArrowLeft className=\"text-[13px] h-5 w-5\" strokeWidth={1.5} />\r\n            <span className=\"text-[13px] ml-2\">Go back</span>\r\n          </button>\r\n          <div className=\"mx-4 my-2 p-4 bg-white rounded-lg  mt-7 ml-7 font-sans\">\r\n            {/* Header */}\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div className=\"flex-1 mt-[2px]\">\r\n                  <div className='flex p-2 gap-5  border-b border-[#000000]/20'>\r\n\r\n                    <div onClick={() => handleTodoToggle(todo?._id, todo?.status)}>\r\n                      {todo?.status === \"Pending\" ?\r\n                        <div className='py-7 px-[30px] flex items-center justify-center bg-[#CCCBCB] text-white w-12 h-14 text-[10px] rounded-xl hover:bg-[#B5DEAB]'>Mark this Complete</div> :\r\n                        <div className='flex items-center justify-center text-white w-[60px] h-[60px] text-[10px] rounded-xl bg-[#6BBD56]'><Check className=\"stroke-white text-white w-10 h-10\" /></div>\r\n                      }\r\n                    </div>\r\n                    <h1 className=\"text-[22px]  text-[#4D4D4D]\">{todo.task}</h1>\r\n                    <div className='border h-[29px] ml-auto -translate-y-2 p-[3px] '>\r\n                      <MoreVertical className='text-[#666666] p-[2px] ' onClick={() => setIsDropdown(prev => !prev)} />\r\n                      <div>\r\n                        {isDropdown ? <div className=\"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]\">\r\n\r\n                          <button\r\n                            className=\"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]\"\r\n                          // onClick={handleClickEdit}\r\n                          >\r\n                            <Image src={EditIcon} alt=\"Edit\" width={22} height={22} className=\"ml-3 mr-3\" />\r\n                            Edit\r\n                          </button>\r\n\r\n                          {/* Proper Horizontal Line */}\r\n                          <hr className=\"w-full border-gray-300 my-1\" />\r\n\r\n                          <button\r\n                            className=\"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]\"\r\n                            onClick={handleDeleteTodo}\r\n                          >\r\n                            <Image src={TrashIcon} alt=\"logout\" width={22} height={22} className=\" ml-3 mr-3\" />\r\n                            Delete\r\n                          </button>\r\n                        </div> : <></>}\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Meta Information */}\r\n              <div className=\"mt-4 gap-6 ml-2\">\r\n                <div className=\"mt-4 text-[15px] text-[#4D4D4D]\">\r\n                  Added by&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;<span className=\" text-[#333333]\">{todo?.createdBy.fullName}</span>\r\n                  <span className='text-[#333333]'> on {todo?.createdAt ? new Date(todo.createdAt).toLocaleDateString(\"en-GB\", {\r\n                    day: \"2-digit\",\r\n                    month: \"short\",\r\n                    year: \"numeric\",\r\n                  }) : \"No ue date\"}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 mt-4\">\r\n                  <div className=\" text-[15px] text-[#4D4D4D]\">Assigned to &nbsp;&nbsp;:&nbsp;&nbsp;</div>\r\n                  <div className=\"flex -space-x-2 gap-4\">\r\n                    {todo?.assignedTo.map((member, index) => <div className=\"flex justify-center items-center bg-[#5D56BD] rounded-full  px-1 py-1\">\r\n                      <Image src={avatar} alt=\"photo\" className=\"rounded-full\" width={24} height={24} />\r\n                      <div className=\"text-[11px] text-white rounded-xl pl-2 -translate-x-[6px]\">{member.fullName}</div>\r\n                    </div>\r\n                    )}\r\n\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 mt-4\">\r\n                  <span className=\"text[15px] text-[#4D4D4D]\">When doen, notify &nbsp;&nbsp;:&nbsp;&nbsp;</span>\r\n                  <div className=\"flex -space-x-2 gap-4\">\r\n                    {todo?.notifyUsers.map((watcher, index) => (\r\n                      <div className=\"flex justify-center items-center bg-[#5D56BD] rounded-full  px-1 py-1\">\r\n                        <Image src={avatar} alt=\"photo\" className=\"rounded-full\" width={24} height={24} />\r\n                        <div className=\"text-[11px] text-white rounded-xl pl-2 -translate-x-[6px]\">{watcher.fullName}</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 mt-4\">\r\n                  <span className=\"text-[15px] text-[#4D4D4D]\">Due date &nbsp;&nbsp;:&nbsp;&nbsp;</span>\r\n                  <span className=\"text-sm \">{todo?.dueDate ? new Date(todo.dueDate).toLocaleDateString(\"en-GB\", {\r\n                    day: \"2-digit\",\r\n                    month: \"short\",\r\n                    year: \"numeric\",\r\n                  }) : \"No ue date\"}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Notes */}\r\n            <div className=\"flex mb-6\">\r\n              <h2 className=\"text-[15px] text-[#333333] mb-2 ml-2\">Note&nbsp;&nbsp;:&nbsp;&nbsp;</h2>\r\n              <p className=\"list-disc pl-5 space-y-1\">\r\n\r\n                <span className=\"text-sm text-gray-600\">{todo?.notes}</span>\r\n\r\n              </p>\r\n            </div>\r\n\r\n            {/* Comments */}\r\n\r\n          </div>\r\n          <div className=\"ml-[26px] my-4 bg-white p-4 rounded-lg mt-6 w-[1020px] \">\r\n            <div className=\"\">\r\n              <h2 className=\"text-[19px] font-medium text-[#333333] mb-4\">Comments</h2>\r\n              {/* Comment Input */}\r\n              <div>\r\n                <div className=\"mt-9 flex gap-3\">\r\n                  <Image src={avatar} alt=\"avatar\" className=\"w-12 h-12 rounded-full\" width={48} height={48} />\r\n                  <div className=\"flex flex-grow\">\r\n                    <Comment notes={comment} setNotes={setComment} fromTodo={false} />\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={handlePostComment}\r\n                  className=\"px-8 py-2 bg-[#5D56BD] text-white rounded-lg ml-[890px] mt-4 text-[12px]\"\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? \"Posting...\" : \"Send\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {/* Display Comments */}\r\n            <div className=\"space-y-4 mt-6 ml-2\">\r\n              {todo?.comments && todo.comments.length > 0 ? (\r\n                todo.comments.map((comment, index) => (\r\n                  <div key={index} className=\"gap-3 border-t-[1.5px] border-[#CCCCCC] pt-6 \">\r\n                    <div className=\"flex\">\r\n                      <div className=\"flex\">\r\n                        <Image src={avatar} alt=\"avatar\" className=\"rounded-full\" width={48} height={48} />\r\n                        <div className=\"flex-1 ml-[20px]\">\r\n                          <div className=\"flex items-center gap-2 text-[#333333]\">\r\n                            <span className=\"font-medium text-[16px]\">{comment.commentedBy.fullName}</span>\r\n                            <div className=\"text-[17px] font-medium\">({comment.commentedBy.role})</div>\r\n                          </div>\r\n                          <div className=\"text-[13.5px] text-[#666666] mb-1\">\r\n                            {new Date(comment.commentedOn).toLocaleDateString(\"en-GB\", {\r\n                              weekday: \"short\",\r\n                              day: \"2-digit\",\r\n                              month: \"short\",\r\n                              year: \"numeric\",\r\n                            })}{\" \"}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=''>\r\n\r\n                        {comment.commentedBy._id === decoded.id ?\r\n                          <div className=\"ml-[710px] border h-[29px] -translate-x-3 -translate-y-2 p-[3px]\"><MoreVertical\r\n                            className='text-[#666666] p-[2px] cursor-pointer'\r\n                            onClick={() => setIsDropdownComment(isDropdownComment === comment._id ? null : comment._id)}\r\n                          /></div> : <></>}\r\n                        <div>\r\n                          {isDropdownComment ? <div className=\"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl border border-gray-300 py-1 z-[100]\">\r\n\r\n                            <button\r\n                              className=\"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]\"\r\n                              onClick={() => handleEditComment(comment._id, comment.comment)}\r\n                            >\r\n                              <Image src={EditIcon} alt=\"Edit\" width={22} height={22} className=\"ml-3 mr-3\" />\r\n                              Edit\r\n                            </button>\r\n\r\n                            <hr className=\"w-full border-gray-300 my-1\" />\r\n\r\n                            <button\r\n                              className=\"w-full px-4 py-2 text-[15px] hover:bg-gray-100 flex items-center text-[#4D4D4D]\"\r\n                              onClick={() => handleDeleteTodoComment(comment._id)}\r\n                            >\r\n                              <Image src={TrashIcon} alt=\"logout\" width={22} height={22} className=\" ml-3 mr-3\" />\r\n                              Delete\r\n                            </button>\r\n                          </div> : <></>}\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {editingCommentId === comment._id ? <div className=\"ml-[70px] mt-2 flex flex-col\">\r\n                      <textarea\r\n                        value={editCommentText}\r\n                        onChange={(e) => setEditCommentText(e.target.value)}\r\n                        className=\"w-full min-h-[100px] p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5D56BD]\"\r\n                      />\r\n                      <div className=\"flex justify-end mt-2 space-x-2\">\r\n                        <button\r\n                          onClick={handleCancelEdit}\r\n                          className=\"px-4 py-2 text-[12px] border border-gray-300 rounded-lg text-gray-600\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleEditCommentText(comment._id)}\r\n                          className=\"px-8 py-2 bg-[#5D56BD] text-white rounded-lg text-[12px]\"\r\n                          disabled={loading}\r\n                        >\r\n                          {loading ? \"Saving...\" : \"Save\"}\r\n                        </button>\r\n                      </div>\r\n                    </div> : <p className=\"text-[15px] text-[#333333] ml-[70px] mt-2\">{comment.comment}</p>}\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToDos;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1601, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1607, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/overview/ToDo/EditTodos.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { X, Link, RotateCcw, Paperclip } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport { useParams } from \"next/navigation\";\r\nimport avtar from '../../../../public/assets/avtar.jpg'\r\nimport TextareaBox from '../Textarea/TextareaBox';\r\nimport Image from 'next/image';\r\nimport { toast } from 'react-toastify';\r\nimport Toast from '@/components/auth/Toast';\r\nimport { Search } from \"lucide-react\";\r\ninterface TeamMember {\r\n  id: string;\r\n  name: string;\r\n  role: string;\r\n  avtar: string;\r\n}\r\ninterface EditTodoData{\r\n  task: string;\r\n  dueDate: Date;\r\n  assignedTo: {\r\n    _id: string;\r\n    fullName: string;\r\n  }\r\n  notifyUsers:{\r\n    _id: string;\r\n    fullName: string;\r\n  }\r\n  notes: string;\r\n}\r\ninterface AddToDoModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  listId: string;\r\n  todoId: string;\r\n}\r\ninterface Assignee {\r\n    _id?: string;\r\n    id?: string;\r\n    [key: string]: any; // for any other properties\r\n  }\r\n  const EditTodos = ({ isOpen, onClose, listId, todoId }: AddToDoModalProps) => {\r\n  const [teamMembers, setTeamMembers] = useState<TeamMember[]>([]);\r\n  const [selectedAssignee, setSelectedAssignee] = useState<TeamMember | null>(null);\r\n  const { id } = useParams();\r\n  const [notifyMembers, setNotifyMembers] = useState<TeamMember[]>([]);\r\n  const [description, setDescription] = useState('');\r\n  const [dueDate, setDueDate] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n  const [selectedMember, setSelectedMember] = useState<string[]>([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [queryNotify, setQueryNotify] = useState(\"\")\r\n  const [previousData, setPreviousData]= useState<EditTodoData>();\r\n  const handleMemberClick = (member: TeamMember) => {\r\n    setSelectedAssignee(member);\r\n    if (!notifyMembers.some(m => m.id === member.id)) {\r\n      setNotifyMembers([...notifyMembers, member]);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const projectId = id;\r\n      try {\r\n        const response = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/projects/${projectId}/members`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n        );\r\n        setTeamMembers([...response.data.members])\r\n        setNotifyMembers([...response.data.members])\r\n      } catch (error) {\r\n        console.error(\"Error fetching users:\", error);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, [id]);\r\n  const removeNotifyMember = (memberId: string) => {\r\n    setNotifyMembers(notifyMembers.filter(member => member.id !== memberId));\r\n  };\r\n\r\n\r\n  useEffect(()=>{\r\n    const fetchTodoData=async()=>{\r\n        // console.log( {todoId},\"TodoId\")\r\n        // console.log({listId},\"List Id\")\r\n        try{\r\n            const response = await axios.get(\r\n                `${process.env.NEXT_PUBLIC_API_URL}/todos/${todoId}`,\r\n                {\r\n                  headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n                  },\r\n                }\r\n              )\r\n\r\n            // console.log(response.data, \"These are your Todos\")\r\n            setPreviousData(response.data);\r\n            setDescription(response.data.task);\r\n            if (response.data.dueDate) {\r\n                if (typeof response.data.dueDate === 'string') {\r\n                  setDueDate(response.data.dueDate.split('T')[0]);\r\n                } else if (response.data.dueDate.isoString) {\r\n                  setDueDate(response.data.dueDate.isoString.split('T')[0]);\r\n                } else if (response.data.dueDate instanceof Date) {\r\n                  setDueDate(response.data.dueDate.toISOString().split('T')[0]);\r\n                }\r\n              }\r\n              if (response.data.assignedTo) {\r\n                if (typeof response.data.assignedTo === 'object' && response.data.assignedTo._id) {\r\n                  // Single assignee with _id\r\n                  setSelectedMember([response.data.assignedTo._id]);\r\n                  \r\n                  // Also update selectedAssignee for display\r\n                  const assignee = teamMembers.find(m => m.id === response.data.assignedTo._id);\r\n                  if (assignee) setSelectedAssignee(assignee);\r\n                } else if (Array.isArray(response.data.assignedTo)) {\r\n                  // Array of assignees\r\n                  setSelectedMember(response.data.assignedTo.map((a: Assignee)=> a._id || a));\r\n                }\r\n              }\r\n            setSelectedAssignee(response.data.assignedTo)\r\n            setNotes(response.data.notes)\r\n        }\r\n        \r\n        \r\n        catch(error){\r\n            console.log(\"Error in fetching Todos at edit modal\", error);\r\n        }\r\n    }\r\n    fetchTodoData()\r\n  },[])\r\n  // 1. Modify your handleSubmit function:\r\nconst handleSubmit = async () => {\r\n  if (!description) {\r\n    toast.error(\"Please fill description\");\r\n    return;\r\n  }\r\n  \r\n  // Create data object without nesting\r\n  const formData = {\r\n    todoListId: listId,\r\n    task: description,\r\n    projectId: id,\r\n    dueDate,\r\n    assignedTo: selectedMember, // This should be right if it's array of IDs\r\n    // Convert TeamMember objects to just IDs\r\n    notifyUsers: notifyMembers.map(member => member.id),\r\n    notes,\r\n  };\r\n// console.log(formData,\"This is formData\")\r\n  try {\r\n    const response = await axios.patch(\r\n      `${process.env.NEXT_PUBLIC_API_URL}/todos/editTodo/${todoId}`, \r\n      formData, \r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }\r\n    );\r\n\r\n    onClose();\r\n  } catch (error) {\r\n    console.error(\"Error updating todo:\", error);\r\n  }\r\n};\r\n  if (!isOpen) return null;\r\n\r\n  const handleSelect = (memberId: string, memberName: string) => {\r\n    setSelectedMember((prev) =>\r\n      prev.includes(memberId)\r\n        ? prev.filter((id) => id !== memberId)\r\n        : [...prev, memberId]\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      {console.log(previousData, \"Previous Data\")}\r\n      <Toast />\r\n\r\n      <div className=\"z-10 fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center overflow-y-auto no-scrollbar\">\r\n        <div className=\"bg-white rounded-[10px] w-[1120px] h-[580px] mt-[360px] ml-4 pl-3 shadow-sm mb-32\">\r\n          {/* Header */}\r\n          <div className=\"flex justify-between items-center px-2 py-3\">\r\n            <h2 className=\"text-[18px] text-[#333333] font-medium\">Edit To-Do</h2>\r\n            <button onClick={onClose} className=\"p-1 hover:bg-gray-100 rounded-full\">\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-6 px-2 py-3\">\r\n            {/* Left Column */}\r\n            <div className=\"space-y-[20px] w-[530px] \">\r\n              {/* To-Do Description */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-[13.5px] font-normal text-[#333333]\">To-Do</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Describe...\"\r\n                  className=\"w-[530px] h-[62px] border rounded-lg placeholder-[#B3B3B3] text-[13.5px] px-[7px] pb-5 border-[#CCCCCC] placeholder-[12px] -translate-y-2\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              {/* Due Date */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-[13.5px] text-[#333333]\">Due Date</label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"w-[180px] p-2 border rounded-lg border-[#CCCCCC] placeholder-[#B3B3B3] text-[13.5px] px-2   placeholder-[12px] \"\r\n                  value={dueDate}\r\n                  onChange={(e) => setDueDate(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              {/* Assigned To */}\r\n              <div className=\"space-y-1\">\r\n                <label className=\"block text-[13.5px] text-[#333333]\">Assigned to</label>\r\n                <div className=\"\">\r\n                  <div className=\"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md\">\r\n\r\n                    <Search className=\"absolute ml-2 w-4 h-4 text-[#B3B3B3]\" />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Search team member\"\r\n                      value={query}\r\n                      onChange={(e) => setQuery(e.target.value)}\r\n                      className=\"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"w-full h-[160px] border rounded-md border-[#CCCCCC] mt-2\">\r\n                    <div className=\"flex flex-wrap gap-1 py-2 px-2\">\r\n                      {teamMembers.map((member, index) => (\r\n                        <>\r\n                          <div\r\n                            key={member.id}\r\n                            onClick={() => handleSelect(member.id, member.name)}\r\n                            className={\"relative flex items-center bg-[#FAFAFA] text-[#333333] gap-1.5 px-4 py-2 hover:cursor-pointer\"}\r\n                          >\r\n                            {selectedMember.includes(member.id) && (\r\n                              <div className=\"absolute top-[10px] right-0 bg-[#6BBD56] text-[#FAFAFA] text-xs rounded- w-4 h-4 flex items-center justify-center z-50\">\r\n                                <span className=\"text-white\">âœ“</span>\r\n                              </div>\r\n                            )}\r\n                            <Image\r\n                              src={avtar}\r\n                              alt={member.name}\r\n                              width={36}\r\n                              height={36}\r\n                              className=\"rounded-full\"\r\n                            />\r\n                            <div className=\"text-[12px]\">\r\n                              <p className=\" text-[#333333]\">{member.name}</p>\r\n                              <p className=\"text-[10px] text-[#4D4D4D]\">\r\n                              ({`${member.role[0].toUpperCase()}${member.role.slice(1)}`})\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Column */}\r\n            <div className=\"space-y-2 pr-4 -translate-x-1\">\r\n              {/* When done, notify */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-[13.5px] text-[#333333]\">When done, notify</label>\r\n                <div className='-translate-y-2'>\r\n                <div className=\"relative w-auto left-0 flex mb-1 items-center border-[#CCCCCC] border rounded-md\">\r\n                  <Search className=\"absolute ml-2 w-4 h-4 text-[#B3B3B3] \" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search team member\"\r\n                    value={queryNotify}\r\n                    onChange={(e) => setQueryNotify(e.target.value)}\r\n                    className=\"w-full py-1 pl-9 h-[35px] border rounded-md text-[13.5px] placeholder-[#B3B3B3]\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex -space-x-2 gap-4 mt-2 border border-[#CCCCCC] rounded-md h-[80px]\">\r\n                  {notifyMembers.map((member) => (\r\n                    <div className=\"p-1 py-2\">\r\n                      <div\r\n                        key={member.id}\r\n                        className=\"flex items-center gap-1 bg-[#5D56BD] text-white px-1 ml-1 rounded-full font-regular text-[13.5px] py-[1.5px]\">\r\n                        <Image\r\n                          src={avtar}\r\n                          alt=\"\"\r\n                          className=\"w-5 h-5 rounded-full\"\r\n                        />\r\n                        <span className=\" font-light text-[11px]\">{member.name}</span>\r\n                        <button\r\n                          onClick={() => removeNotifyMember(member.id)}\r\n                          className=\" bg-[#5D56BD] rounded-full p-1\"\r\n                        >\r\n                          <X className=\"w-4 h-4\" strokeWidth={1.5} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Notes */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-[13.5px] text-[#333333]\">Notes <span className='text-[#808080]'>(Optional)</span></label>\r\n                <TextareaBox notes={notes} setNotes={setNotes} fromTodo={true} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"flex justify-end gap-5 pr-[28px] mt-2\">\r\n            <button\r\n              onClick={handleSubmit}\r\n              className=\"px-10 py-3 font-light bg-[#5D56BD] text-white rounded-lg\r\n               hover:bg-[#4b479c] text-[13.5px]\">\r\n              Save \r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-8 py-3 bg-[#999999] text-white hover:bg-gray-600  rounded-lg text-[13.5px]\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditTodos;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2208, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/dashboard/AddTeamMembers.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { X } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport axios from \"axios\";\r\n\r\ninterface Member {\r\n  _id: string;\r\n  fullName: string;\r\n  role: string;\r\n  position: string;\r\n  avatar: string;\r\n}\r\n\r\ninterface AddTeamMembersProps {\r\n  onClose: () => void;\r\n  onAddMember: (member: Member) => void;\r\n  teamMembers: Member[];\r\n}\r\n\r\nconst AddTeamMembers: React.FC<AddTeamMembersProps> = ({\r\n  onClose,\r\n  onAddMember,\r\n  teamMembers,\r\n}) => {\r\n  // Single source of truth for selected members\r\n  const [selectedMembers, setSelectedMembers] = useState<Member[]>(teamMembers);\r\n  const [searchResults, setSearchResults] = useState<Member[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [showResults, setShowResults] = useState(false);\r\n\r\n  // Debounced search\r\n  useEffect(() => {\r\n    const searchUsers = async () => {\r\n      if (!searchTerm.trim()) {\r\n        setSearchResults([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/users/search?name=${searchTerm}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        // Filter out already selected members\r\n        const filteredResults = response.data.filter(\r\n          (member: Member) => \r\n            !selectedMembers.some(selected => selected._id === member._id)\r\n        );\r\n        \r\n        setSearchResults(filteredResults);\r\n        setShowResults(true);\r\n      } catch (error) {\r\n        console.error(\"Error searching users:\", error);\r\n        setSearchResults([]);\r\n      }\r\n    };\r\n\r\n    const timeoutId = setTimeout(searchUsers, 500);\r\n    return () => clearTimeout(timeoutId);\r\n  }, [searchTerm, selectedMembers]);\r\n\r\n  const handleSelectMember = (member: Member) => {\r\n    setSelectedMembers(prev => {\r\n      // Check if member already exists\r\n      if (prev.some(m => m._id === member._id)) {\r\n        return prev;\r\n      }\r\n      return [...prev, { ...member, role: \"\" }];\r\n    });\r\n    setSearchTerm(\"\");\r\n    setShowResults(false);\r\n  };\r\n\r\n  const handleRemoveMember = (memberId: string) => {\r\n    setSelectedMembers(prev => prev.filter(member => member._id !== memberId));\r\n  };\r\n\r\n  const handleRoleChange = (memberId: string, newRole: string) => {\r\n    setSelectedMembers(prev => \r\n      prev.map(member => {\r\n        if (member._id === memberId) {\r\n          const updatedMember = { ...member, role: newRole };\r\n          onAddMember(updatedMember); // Notify parent component\r\n          return updatedMember;\r\n        }\r\n        return member;\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black/50\">\r\n      <div className=\"bg-white rounded-xl h-[500px] shadow-lg w-[480px] p-5 relative\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Add Team Members</h2>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Search Input */}\r\n        <div className=\"flex gap-2 mb-4\">\r\n          <div className=\"flex-1 p-2 border-2 rounded-lg min-h-[40px]\">\r\n            {selectedMembers.map(member => (\r\n              <div key={member._id} className=\"inline-flex items-center gap-2 bg-[#5D56BD] rounded-full px-2 py-1 m-1\">\r\n                <Image\r\n                  src={member.avatar || \"/placeholder.jpg\"}\r\n                  alt=\"\"\r\n                  width={20}\r\n                  height={20}\r\n                  className=\"rounded-full\"\r\n                />\r\n                <span className=\"text-xs text-white\">{member.fullName}</span>\r\n                <button\r\n                  onClick={() => handleRemoveMember(member._id)}\r\n                  className=\"text-white hover:text-red-200\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            ))}\r\n            <input\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={e => setSearchTerm(e.target.value)}\r\n              className=\"border-none outline-none px-2 py-1 min-w-[120px]\"\r\n              placeholder=\"Search members...\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search Results */}\r\n        {showResults && searchResults.length > 0 && (\r\n          <div className=\"absolute z-10 w-[calc(100%-40px)] bg-white border rounded-lg shadow-lg\">\r\n            {searchResults.map(result => (\r\n              <div\r\n                key={result._id}\r\n                onClick={() => handleSelectMember(result)}\r\n                className=\"flex items-center gap-2 p-2 hover:bg-gray-50 cursor-pointer\"\r\n              >\r\n                <Image\r\n                  src={result.avatar || \"/placeholder.jpg\"}\r\n                  alt=\"\"\r\n                  width={32}\r\n                  height={32}\r\n                  className=\"rounded-full\"\r\n                />\r\n                <span>{result.fullName}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Member List */}\r\n        <div className=\"mt-4\">\r\n          <div className=\"flex justify-between text-sm text-gray-500 mb-2\">\r\n            <span>Team members ({selectedMembers.length})</span>\r\n            <span>Roles</span>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            {selectedMembers.map(member => (\r\n              <div key={member._id} className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Image\r\n                    src={member.avatar || \"/placeholder.jpg\"}\r\n                    alt=\"\"\r\n                    width={40}\r\n                    height={40}\r\n                    className=\"rounded-full\"\r\n                  />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium\">{member.fullName}</p>\r\n                    <p className=\"text-xs text-gray-500\">{member.position}</p>\r\n                  </div>\r\n                </div>\r\n                <select\r\n                  value={member.role}\r\n                  onChange={e => handleRoleChange(member._id, e.target.value)}\r\n                  className=\"px-3 py-1 text-sm border rounded-lg\"\r\n                >\r\n                  <option value=\"\">Select Role</option>\r\n                  <option value=\"owner\">Owner</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                  <option value=\"user\">User</option>\r\n                  <option value=\"client\">Client</option>\r\n                </select>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTeamMembers;"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AAFA;;;;;;AAkBA,MAAM,iBAAgD,CAAC,EACrD,OAAO,EACP,WAAW,EACX,WAAW,EACZ;IACC,8CAA8C;IAC9C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY;IACjE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAC/D,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,mBAAmB;IACnB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc;YAClB,IAAI,CAAC,WAAW,IAAI,IAAI;gBACtB,iBAAiB,EAAE;gBACnB;YACF;YAEA,IAAI;gBACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAC9B,iEAAmC,mBAAmB,EAAE,YAAY,EACpE;oBACE,SAAS;wBACP,eAAe,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,UAAU;oBAC1D;gBACF;gBAGF,sCAAsC;gBACtC,MAAM,kBAAkB,SAAS,IAAI,CAAC,MAAM,CAC1C,CAAC,SACC,CAAC,gBAAgB,IAAI,CAAC,CAAA,WAAY,SAAS,GAAG,KAAK,OAAO,GAAG;gBAGjE,iBAAiB;gBACjB,eAAe;YACjB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0BAA0B;gBACxC,iBAAiB,EAAE;YACrB;QACF;QAEA,MAAM,YAAY,WAAW,aAAa;QAC1C,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAY;KAAgB;IAEhC,MAAM,qBAAqB,CAAC;QAC1B,mBAAmB,CAAA;YACjB,iCAAiC;YACjC,IAAI,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK,OAAO,GAAG,GAAG;gBACxC,OAAO;YACT;YACA,OAAO;mBAAI;gBAAM;oBAAE,GAAG,MAAM;oBAAE,MAAM;gBAAG;aAAE;QAC3C;QACA,cAAc;QACd,eAAe;IACjB;IAEA,MAAM,qBAAqB,CAAC;QAC1B,mBAAmB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,SAAU,OAAO,GAAG,KAAK;IAClE;IAEA,MAAM,mBAAmB,CAAC,UAAkB;QAC1C,mBAAmB,CAAA,OACjB,KAAK,GAAG,CAAC,CAAA;gBACP,IAAI,OAAO,GAAG,KAAK,UAAU;oBAC3B,MAAM,gBAAgB;wBAAE,GAAG,MAAM;wBAAE,MAAM;oBAAQ;oBACjD,YAAY,gBAAgB,0BAA0B;oBACtD,OAAO;gBACT;gBACA,OAAO;YACT;IAEJ;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;sCACtC,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;4BACZ,gBAAgB,GAAG,CAAC,CAAA,uBACnB,8OAAC;oCAAqB,WAAU;;sDAC9B,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAK,OAAO,MAAM,IAAI;4CACtB,KAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,WAAU;;;;;;sDAEZ,8OAAC;4CAAK,WAAU;sDAAsB,OAAO,QAAQ;;;;;;sDACrD,8OAAC;4CACC,SAAS,IAAM,mBAAmB,OAAO,GAAG;4CAC5C,WAAU;sDAEV,cAAA,8OAAC,4LAAA,CAAA,IAAC;gDAAC,WAAU;;;;;;;;;;;;mCAbP,OAAO,GAAG;;;;;0CAiBtB,8OAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAA,IAAK,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;gCACV,aAAY;;;;;;;;;;;;;;;;;gBAMjB,eAAe,cAAc,MAAM,GAAG,mBACrC,8OAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAA,uBACjB,8OAAC;4BAEC,SAAS,IAAM,mBAAmB;4BAClC,WAAU;;8CAEV,8OAAC,6HAAA,CAAA,UAAK;oCACJ,KAAK,OAAO,MAAM,IAAI;oCACtB,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;8CAEZ,8OAAC;8CAAM,OAAO,QAAQ;;;;;;;2BAXjB,OAAO,GAAG;;;;;;;;;;8BAkBvB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;wCAAK;wCAAe,gBAAgB,MAAM;wCAAC;;;;;;;8CAC5C,8OAAC;8CAAK;;;;;;;;;;;;sCAGR,8OAAC;4BAAI,WAAU;sCACZ,gBAAgB,GAAG,CAAC,CAAA,uBACnB,8OAAC;oCAAqB,WAAU;;sDAC9B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,6HAAA,CAAA,UAAK;oDACJ,KAAK,OAAO,MAAM,IAAI;oDACtB,KAAI;oDACJ,OAAO;oDACP,QAAQ;oDACR,WAAU;;;;;;8DAEZ,8OAAC;;sEACC,8OAAC;4DAAE,WAAU;sEAAuB,OAAO,QAAQ;;;;;;sEACnD,8OAAC;4DAAE,WAAU;sEAAyB,OAAO,QAAQ;;;;;;;;;;;;;;;;;;sDAGzD,8OAAC;4CACC,OAAO,OAAO,IAAI;4CAClB,UAAU,CAAA,IAAK,iBAAiB,OAAO,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;4CAC1D,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAG;;;;;;8DACjB,8OAAC;oDAAO,OAAM;8DAAQ;;;;;;8DACtB,8OAAC;oDAAO,OAAM;8DAAQ;;;;;;8DACtB,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;;;;;;;;mCAvBjB,OAAO,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgClC;uCAEe"}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/auth/Toast.tsx"],"sourcesContent":["import {ToastContainer, toast} from 'react-toastify';\r\n\r\n\r\nexport default function Toast(){\r\n    return(\r\n        <>\r\n        <ToastContainer \r\n        position=\"top-center\"\r\n        autoClose= {2000}\r\n        newestOnTop= {true}\r\n        pauseOnHover\r\n        theme='light'\r\n    />\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAGe,SAAS;IACpB,qBACI;kBACA,cAAA,8OAAC,mJAAA,CAAA,iBAAc;YACf,UAAS;YACT,WAAY;YACZ,aAAc;YACd,YAAY;YACZ,OAAM;;;;;;;AAId"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/public/assets/avtar.jpg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 150, height: 150, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwC8lw41JrefMTGUCMMnLKB2Oeh+hrl9nJQ2Oz20ZTumf//Z\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,sHAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAAu4B,WAAW;IAAG,YAAY;AAAE"}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/dashboard/AddMilestone.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { X, Search } from \"lucide-react\";\r\nimport { toast } from 'react-toastify'\r\nimport Toast from \"../auth/Toast\";\r\nimport axios from \"axios\";\r\nimport { title } from \"process\";\r\nimport Image from \"next/image\";\r\nimport avtar from '../../../public/assets/avtar.jpg'\r\nimport { useParams } from \"next/navigation\";\r\ninterface AddMilestoneProps {\r\n  onClose: () => void;\r\n  teamMembers: Array<{\r\n    _id: string;\r\n    fullName: string;\r\n    role: string;\r\n    avatar: string;\r\n  }>;\r\n  setmileStone: React.Dispatch<React.SetStateAction<Milestone[]>>;\r\n  fromOverview: boolean;\r\n}\r\n\r\ninterface Milestone {\r\n  _id: number;\r\n  description: string;\r\n  assignedTo: string;\r\n  dueDate: string;\r\n}\r\n\r\n\r\nconst AddMilestone: React.FC<AddMilestoneProps> = ({\r\n  onClose,\r\n  teamMembers,\r\n  setmileStone,\r\n  fromOverview,\r\n}) => {\r\n  const [milestoneDescription, setMilestoneDescription] = useState(\"\");\r\n  const [selectedMember, setSelectedMember] = useState<string[]>([]);\r\n  const [dueDate, setDueDate] = useState(\"\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\"); // State for search query\r\n\r\n  // Filter team members based on the search query\r\n\r\n  const filteredMembers = \r\n    teamMembers.filter(member => member?.fullName?.toLowerCase().includes(searchQuery?.toLowerCase() || \"\"));\r\n\r\n\r\n  const params = useParams();\r\n    const { id } = params;\r\n    // console.log(id,milestoneDescription, dueDate )\r\n  const AddMilestoneFromOverview = async () => {\r\n  // Remove the setTimeout for validation toast\r\n  if (!milestoneDescription || selectedMember?.length === 0 || !dueDate) {\r\n    toast.error(\"Please fill in all fields.\");\r\n    return;\r\n  }\r\n\r\n  const projectData = {\r\n    projectId: id,\r\n    title: milestoneDescription,\r\n    assignedTo: teamMembers\r\n      .filter((member) => selectedMember.includes(member.fullName))\r\n      .map((member) => member._id) || [], \r\n    dueDate: dueDate,\r\n    status: \"pending\"\r\n  };\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      `${process.env.NEXT_PUBLIC_API_URL}/projects/project/add-milestone`,\r\n      projectData,\r\n      {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      }\r\n    );\r\n    if (response.status === 200) {\r\n      toast.success(\"Milestone added successfully\");\r\n      setTimeout(() => {\r\n        onClose();\r\n      }, 2000);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Failed to create project:\", error);\r\n    toast.error(\"Failed to add milestone\"); // Add error toast\r\n  }\r\n};\r\n  const handleAddMilestone = () => {\r\n    if(fromOverview){\r\n      AddMilestoneFromOverview()\r\n      return ;\r\n    }\r\n    else{\r\n    if (!milestoneDescription || selectedMember?.length === 0 || !dueDate) {\r\n      toast.error(\"Please fill in all fields.\");\r\n      return;\r\n    }\r\n  }\r\n\r\n    const newMilestone: Milestone = {\r\n      _id: Date.now(), // Unique ID for the milestone\r\n      description: milestoneDescription,\r\n      assignedTo: selectedMember.join(' '),\r\n      dueDate: dueDate,\r\n    };\r\n\r\n    setmileStone((prevMilestones) => [...prevMilestones, newMilestone]); // Add to the milestone array\r\n    onClose(); // Close the modal\r\n  };\r\n  const handleSelect = (memberName: string) => {\r\n    if (selectedMember) {\r\n      setSelectedMember((prev) =>\r\n        prev?.includes(memberName)\r\n          ? prev.filter((member) => member !== memberName)  // Remove if already selected\r\n          : [...(prev || []), memberName] // Add if not selected\r\n      );\r\n    }\r\n\r\n\r\n  }\r\n  return (\r\n    <>\r\n    {console.log(teamMembers)}\r\n      <Toast />\r\n      <div className=\"fixed inset-0 flex items-center justify-center bg-black/50 z-50\">\r\n        <div className=\"bg-white rounded-lg shadow-lg w-[400px]\">\r\n          <div className=\"p-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-medium text-gray-900\">Add Milestone</h2>\r\n              <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n                  Project Milestone\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter project milestone...\"\r\n                  className=\"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500\"\r\n                  value={milestoneDescription}\r\n                  onChange={(e) => setMilestoneDescription(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n                  Assigned to\r\n                </label>\r\n                <div className=\"relative mb-2\">\r\n                  <div className=\"absolute inset-y-0 left-3 flex items-center pointer-events-none\">\r\n                    <Search className=\"w-4 h-4 text-gray-400\" />\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search team member\"\r\n                    className=\"w-full pl-10 pr-3 py-2 bg-white border border-gray-200 rounded-lg text-sm\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)} // Update search query on input change\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex flex-wrap gap-1.5 max-h-32 overflow-y-auto\">\r\n                  {filteredMembers.slice(0, 5).map((member) => (\r\n                    <div\r\n                      key={member._id}\r\n                      onClick={() => handleSelect(member.fullName)}\r\n                      className={`relative flex items-center gap-2 px-2.5 py-1 rounded-full border cursor-pointer transition-colors ${selectedMember.includes(member.fullName)\r\n                          ? \"bg-indigo-50 border-indigo-200\"\r\n                          : \"bg-white border-gray-200 hover:bg-gray-50\"\r\n                        }`}\r\n                    >\r\n                      {/* Green tick badge */}\r\n                      {selectedMember.includes(member.fullName) && (\r\n                        <div className=\"absolute -top-0.75 -right-1 bg-green-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center\">\r\n                          ✔\r\n                        </div>\r\n                      )}\r\n\r\n                      <Image\r\n                        src={avtar}\r\n                        alt={member.fullName}\r\n                        className=\"w-5 h-5 rounded-full\"\r\n                      />\r\n                      <div className=\"text-xs\">\r\n                        <p className=\"font-medium text-gray-900\">{member.fullName}</p>\r\n                        <p className=\"text-gray-500\">({member.role})</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n                  Due Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500\"\r\n                  value={dueDate}\r\n                  onChange={(e) => setDueDate(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 flex justify-end gap-2\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-1.5 bg-gray-100 text-gray-600 rounded text-sm font-medium hover:bg-gray-200\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAddMilestone}\r\n                className=\"px-4 py-1.5 bg-[#5D56BD] text-white rounded text-sm font-medium hover:bg-[#4A44A7]\"\r\n              >\r\n                Add Milestone\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddMilestone;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 936, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/dashboard/Create_Project_modal.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { X, Plus, Camera, Pencil } from \"lucide-react\";\r\nimport AddTeamMembers from \"./AddTeamMembers\";\r\nimport AddMilestone from \"./AddMilestone\";\r\nimport axios from \"axios\";\r\nimport Toast from \"../auth/Toast\";\r\nimport { toast } from \"react-toastify\";\r\nimport avtar from '../../../public/assets/avtar.jpg'\r\n\r\nimport Image from 'next/image'\r\ninterface TeamMember {\r\n  _id: string;\r\n  fullName: string;\r\n  role: string;\r\n  position: string;\r\n  avatar: string;\r\n}\r\n\r\ninterface Milestone {\r\n  _id: number;\r\n  description: string;\r\n  assignedTo: string;\r\n  dueDate: string;\r\n}\r\n\r\ninterface CreateNewProjectProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst CreateNewProject: React.FC<CreateNewProjectProps> = ({ onClose }) => {\r\n  const [projectName, setProjectName] = useState(\"\");\r\n  const [projectCategory, setProjectCategory] = useState(\"\");\r\n  const [aboutProject, setAboutProject] = useState(\"\");\r\n  const [collaboration, setCollaboration] = useState(\"\");\r\n  const [teamMembers, setTeamMembers] = useState<TeamMember[]>([]);\r\n\r\n  const handleAddMember = (newMember: TeamMember) => {\r\n    setTeamMembers((prev) => {\r\n      const extingIndex = prev.findIndex(\r\n        (member) => member._id === newMember._id\r\n      );\r\n      if (extingIndex !== -1) {\r\n        if (newMember.role === \"Select Role\") {\r\n          toast.error(\"Please select a valid role\");\r\n        }\r\n        const updatedList = [...prev];\r\n        updatedList[extingIndex] = {\r\n          ...updatedList[extingIndex],\r\n          role: newMember.role,\r\n        };\r\n        return updatedList;\r\n      }\r\n      return [...prev, newMember];\r\n    });\r\n    // setTeamMembers((prev)=> [...prev, newMember])\r\n  };\r\n  const [milestones, setmileStone] = useState<Milestone[]>([]);\r\n  const [isAddTeamMemberModalOpen, setAddTeamMemberModalOpen] = useState(false);\r\n  const [isAddMilestone, setAddMilestone] = useState(false);\r\n\r\n  const handleClick = async () => {\r\n    // const projectData = {\r\n    //   projectName,\r\n    //   projectCategory,\r\n    //   aboutProject,\r\n    //   collaboration,\r\n    //   teamMembers,\r\n    //   milestones,\r\n    // };\r\n    if (!projectName || !projectCategory || !aboutProject || !collaboration || teamMembers.length === 0) {\r\n      toast.error(\"Please fill all required fields and add at least one team member.\");\r\n      return;\r\n    }\r\n    const projectData = {\r\n      name: projectName,\r\n      category: projectCategory,\r\n      description: aboutProject,\r\n      collaboration,\r\n      members: teamMembers.map((member) => ({\r\n        id: member._id,\r\n        name: member.fullName,\r\n        role: member.role,\r\n      })),\r\n      milestones: milestones.map((milestone) => ({\r\n        title: milestone.description,\r\n        assignedTo:\r\n          teamMembers.find((member) => member.fullName === milestone.assignedTo)\r\n            ?._id || null,\r\n        dueDate: milestone.dueDate,\r\n      })),\r\n      private: false, // Set any default values as needed\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/projects/create`,\r\n        projectData,\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n      if (response.status == 201) {\r\n        toast.success(\"Project created successfully\");\r\n        // console.log(\"Project created successfully:\", response.data.project);\r\n        setTimeout(() => {\r\n          onClose(); // Close the modal after successful creation\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to create project:\", error);\r\n    }\r\n\r\n    console.log(\"Project Data:\", projectData);\r\n  };\r\n  \r\n  return (\r\n    <>\r\n      <Toast />\r\n\r\n      <div className=\"fixed inset-0 flex items-center justify-center bg-black/50 z-50\">\r\n        <div className=\"bg-white rounded-lg w-[1000px]\">\r\n          {/* Header */}\r\n          <div className=\"flex justify-between items-center px-6 py-4 border-b\">\r\n            <h2 className=\"text-lg font-semibold\">Create New Project</h2>\r\n            <button onClick={onClose}>\r\n              <X className=\"w-5 h-5 text-gray-500\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"p-6\">\r\n            <div className=\"grid grid-cols-2 gap-6\">\r\n              {/* Left Column */}\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex flex-col items-center\">\r\n                  <div className=\"relative mb-1\">\r\n                    <div className=\"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center border border-gray-200\">\r\n                      <Camera className=\"w-6 h-6 text-gray-400\" />\r\n                    </div>\r\n                    <button className=\"absolute bottom-0 right-0 w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center\">\r\n                      <Pencil className=\"w-3 h-3 text-white\" />\r\n                    </button>\r\n                  </div>\r\n                  <span className=\"text-xs text-gray-500\">Project Image</span>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-600 mb-1\">\r\n                      Project Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Enter project name\"\r\n                      className=\"w-full h-8 px-2 rounded border border-gray-200 text-sm\"\r\n                      value={projectName}\r\n                      onChange={(e) => setProjectName(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-600 mb-1\">\r\n                      Project Category\r\n                    </label>\r\n                    <select\r\n                      className=\"w-full h-8 px-2 rounded border border-gray-200 text-sm\"\r\n                      value={projectCategory}\r\n                      onChange={(e) => setProjectCategory(e.target.value)}\r\n                    >\r\n                      <option value=\"\" disabled hidden>\r\n                        Select Category\r\n                      </option>\r\n                      <option value=\"Product\">Product Development</option>\r\n                      <option value=\"Customer\">\r\n                        Customer Relation Manager(CRM)\r\n                      </option>\r\n                      <option value=\"Enterprise\">\r\n                        Enterprise Resource Planning(ERP)\r\n                      </option>\r\n                      <option value=\"AI\">Artificial Intelligence(AI)</option>\r\n                      <option value=\"DevOps\">DevOps</option>\r\n                      <option value=\"Web Development\">Web Development</option>\r\n                      <option value=\"Mobile Development\">\r\n                        Mobile Development\r\n                      </option>\r\n                      <option value=\"Cybersecurity\">Cybersecurity</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs text-gray-600 mb-1\">\r\n                    Team Members\r\n                  </label>\r\n                  <div className=\"border border-gray-200 rounded p-2 h-24 overflow-y-auto\">\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {teamMembers.map((member) => (\r\n                        <div\r\n                          key={member._id}\r\n                          className=\"flex items-center bg-[#565DBD] text-white gap-1.5 rounded-full p-1\"\r\n                        >\r\n                          <Image\r\n                            src={avtar}\r\n                            alt=\"Avtar\"\r\n                            className=\" rounded-full\"\r\n                            width={20}\r\n                            height={20}\r\n                          />\r\n                          <div className=\"text-xs text-[#ffffff]\">\r\n                            <p className=\"font-medium  leading-none\">\r\n                              {member.fullName}\r\n                            </p>\r\n                            <p className=\" text-[10px] leading-tight\">\r\n                              {member.role}\r\n                            </p>\r\n                          </div>\r\n                          <button\r\n                            onClick={() =>\r\n                              setTeamMembers((prev) =>\r\n                                prev.filter((tm) => tm._id != member._id)\r\n                              )\r\n                            }\r\n                            className=\" hover:text-white hover:bg-[#FF0000]\"\r\n                          >\r\n                            <X className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex justify-center pt-4\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"px-4 py-2.5 rounded-lg bg-[#5D56BD] text-white hover:bg-[#4A44A7] text-sm flex items-center gap-2\"\r\n                      onClick={() => setAddTeamMemberModalOpen(true)}\r\n                    >\r\n                      <Plus className=\"w-3 h-3\" /> Add Member\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Right Column */}\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-xs text-gray-600 mb-1\">\r\n                    About Project\r\n                  </label>\r\n                  <textarea\r\n                    placeholder=\"Describe...\"\r\n                    rows={3}\r\n                    className=\"w-full px-2 py-1.5 rounded border border-gray-200 text-sm resize-none\"\r\n                    value={aboutProject}\r\n                    onChange={(e) => setAboutProject(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs text-gray-600 mb-1\">\r\n                    How we collaborate?\r\n                  </label>\r\n                  <textarea\r\n                    placeholder=\"Describe...\"\r\n                    rows={3}\r\n                    className=\"w-full px-2 py-1.5 rounded border border-gray-200 text-sm resize-none\"\r\n                    value={collaboration}\r\n                    onChange={(e) => setCollaboration(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-xs text-gray-600 mb-1\">\r\n                    Milestones (Optional)\r\n                  </label>\r\n                  <div className=\"border border-gray-200 rounded p-2 h-24 overflow-y-auto\">\r\n                    {milestones.map((milestone) => (\r\n                      <div\r\n                        key={milestone._id}\r\n                        className=\"bg-gray-50 p-2 rounded text-xs\"\r\n                      >\r\n                        <p className=\"text-gray-900 leading-tight\">\r\n                          {milestone.description}\r\n                        </p>\r\n                        <div className=\"flex items-center gap-2 mt-1\">\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <img\r\n                              src=\"/api/placeholder/24/24\"\r\n                              alt=\"\"\r\n                              className=\"w-4 h-4 rounded-full\"\r\n                            />\r\n                            <span className=\"text-gray-600\">\r\n                              {milestone.assignedTo}\r\n                            </span>\r\n                          </div>\r\n                          <span className=\"text-gray-600\">\r\n                            Due date: {milestone.dueDate}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"flex justify-center pt-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"px-4 py-2.5 rounded-lg bg-[#5D56BD] text-white hover:bg-[#4A44A7] text-sm flex items-center gap-2\"\r\n                      onClick={() => setAddMilestone(true)}\r\n                    >\r\n                      <Plus className=\"w-4 h-4\" /> Add Milestone\r\n                    </button>\r\n                  </div>\r\n                  {/* <button\r\n                  onClick={() => setAddMilestone(true)}\r\n                  className=\"mt-2 w-full flex items-center justify-center gap-1 py-1.5 bg-indigo-600 text-white rounded text-xs font-medium hover:bg-indigo-700\"\r\n                >\r\n                  <Plus className=\"w-3 h-3\" />\r\n                  Add Milestone\r\n                </button> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"flex justify-end gap-2 px-6 py-4 border-t\">\r\n            <button\r\n              className=\"px-4 py-1.5 bg-[#5D56BD] text-white rounded text-sm font-medium hover:bg-indigo-700\"\r\n              onClick={handleClick}\r\n            >\r\n              Create Project\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-1.5 bg-gray-100 text-gray-600 rounded text-sm font-medium hover:bg-gray-200\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {isAddTeamMemberModalOpen && (\r\n          <AddTeamMembers\r\n            onClose={() => setAddTeamMemberModalOpen(false)}\r\n            onAddMember={handleAddMember}\r\n            teamMembers={teamMembers}\r\n          />\r\n        )}\r\n        {isAddMilestone && (\r\n          <AddMilestone\r\n            onClose={() => setAddMilestone(false)}\r\n            teamMembers={teamMembers}\r\n            setmileStone={setmileStone}\r\n            fromOverview= {false}\r\n          />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateNewProject;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1655, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1661, "column": 0}, "map": {"version":3,"sources":["file://C%3A/G/BlackCoffer/projects/next-project-management/src/components/myProjects/MyProjects.tsx"],"sourcesContent":["'use client'\r\nimport React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Download, Pin, Trash2 } from \"lucide-react\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport CreateNewProject from \"../dashboard/Create_Project_modal\";\r\n\r\n// const projectData = [\r\n//   {\r\n//     id: 1,\r\n//     letter: \"H\",\r\n//     name: \"Hyperion Security\",\r\n//     category: \"Cybersecurity\",\r\n//   },\r\n//   {\r\n//     id: 2,\r\n//     letter: \"M\",\r\n//     name: \"Mercury AI Assistant\",\r\n//     category: \"Artificial Intelligence\",\r\n//   },\r\n// ];\r\n\r\nconst MyProjects = () => {\r\n\r\n  const [projectData, setProjectData] = useState<any[]>([]);\r\n  const [token, setToken]= useState<string | null>(null);\r\n  const [modal, setModal]= useState<boolean>(false);\r\n  // const [error, setError] = useState<string | null>(null);\r\n \r\n  // Replace with the actual token\r\n  \r\n  useEffect(()=>{\r\n    const Storedtoken = localStorage.getItem(\"token\"); \r\n    setToken(Storedtoken);\r\n\r\n  },[])\r\n  useEffect(() => {\r\n    \r\n    const fetchProjects = async () => {\r\n      if(token){\r\n      try {\r\n        const response = await axios.get(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/projects/my-projects`, // Replace with the actual endpoint\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        let projects = response.data;\r\n        setProjectData(projects.filter((proj: any) => proj.trashed !== true));\r\n      } catch (err) {\r\n\r\n        console.log(err);\r\n      }\r\n    };}\r\n   \r\n  fetchProjects();\r\n  }, [token]);\r\n\r\n  const router = useRouter();\r\n\r\n  const colors = [\r\n    \"bg-teal-200 text-teal-600\",\r\n    \"bg-rose-200 text-rose-600\",\r\n    // \"bg-gray200 text-gray-600\",\r\n    \"bg-orange-200 text-orange-600\",\r\n    \"bg-blue-200 text-blue-600\",\r\n    \"bg-blue-200 text-blue-600\",\r\n    \"bg-orange-200 text-orange-600\",\r\n  ];\r\n\r\n  const handleClick = (project: any) => {\r\n    console.log(project._id)\r\n    router.push(`/main/${project._id}/overview`); \r\n  };\r\n  \r\n  const createFirst=()=>{\r\n    setModal(true)\r\n  }\r\n  const modalFalse= ()=>{\r\n    setModal(false)\r\n  }\r\n  return (\r\n    <div className=\"w-full mx-auto space-y-2\">\r\n      {projectData.length <= 0 ? (\r\n        <div className=\"text-center py-6\">\r\n          <div className=\"w-24 h-24 mx-auto mb-4 bg-indigo-50 rounded-full flex items-center justify-center\">\r\n            <div className=\"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center\">\r\n              <img\r\n                src=\"\\assets\\Illustration (4).png\"\r\n                alt=\"Empty chat\"\r\n                className=\"w-full h-full\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <p className=\"text-sm text-[#4D4D4D] mb-4\">No Project Found</p>\r\n          <button className=\"w-full py-2 px-4 bg-[#5D56BD] text-white text-sm rounded-lg hover:bg-[#5D56BD] transition-colors\" onClick={createFirst}>\r\n            Create your first project\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-2\">\r\n          \r\n          {projectData.map((project, index) => (\r\n            <div\r\n              key={project._id}\r\n              className=\"flex items-start bg-white justify-between p-4 hover:bg-blue-50 rounded-lg max-w-10xl\"\r\n              onClick={() => handleClick(project)}\r\n            >\r\n              <div className=\"flex items-center hover:cursor-pointer\">\r\n                <div\r\n                  className={`w-10 h-10 flex-shrink-0 ${\r\n                    colors[Math.floor((Math.random()*10))% colors.length]\r\n                  } rounded-full flex items-center justify-center`}\r\n                >\r\n                  {project.name.charAt(0).toUpperCase()}\r\n                </div>\r\n                <div className=\"pl-6\">\r\n                  <h3 className=\"text-sm font-medium text-[#333333]\">\r\n                    {project.name}\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-500\">{project.category}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )} \r\n      {\r\n        modal && <CreateNewProject onClose={modalFalse}/>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyProjects;\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1872, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}